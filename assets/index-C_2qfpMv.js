(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var md={exports:{}},ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function mS(){if(A_)return ul;A_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return ul.Fragment=t,ul.jsx=n,ul.jsxs=n,ul}var S_;function pS(){return S_||(S_=1,md.exports=mS()),md.exports}var tt=pS(),pd={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function gS(){if(b_)return St;b_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function V(C){return C===null||typeof C!="object"?null:(C=b&&C[b]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,it={};function Z(C,X,nt){this.props=C,this.context=X,this.refs=it,this.updater=nt||j}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,X){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,X,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function _t(){}_t.prototype=Z.prototype;function At(C,X,nt){this.props=C,this.context=X,this.refs=it,this.updater=nt||j}var ft=At.prototype=new _t;ft.constructor=At,$(ft,Z.prototype),ft.isPureReactComponent=!0;var Vt=Array.isArray,yt={H:null,A:null,T:null,S:null,V:null},Mt=Object.prototype.hasOwnProperty;function O(C,X,nt,W,ht,wt){return nt=wt.ref,{$$typeof:r,type:C,key:X,ref:nt!==void 0?nt:null,props:wt}}function S(C,X){return O(C.type,X,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function N(C){var X={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(nt){return X[nt]})}var M=/\/+/g;function k(C,X){return typeof C=="object"&&C!==null&&C.key!=null?N(""+C.key):X.toString(36)}function I(){}function Pe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(I,I):(C.status="pending",C.then(function(X){C.status==="pending"&&(C.status="fulfilled",C.value=X)},function(X){C.status==="pending"&&(C.status="rejected",C.reason=X)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function re(C,X,nt,W,ht){var wt=typeof C;(wt==="undefined"||wt==="boolean")&&(C=null);var vt=!1;if(C===null)vt=!0;else switch(wt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(C.$$typeof){case r:case t:vt=!0;break;case E:return vt=C._init,re(vt(C._payload),X,nt,W,ht)}}if(vt)return ht=ht(C),vt=W===""?"."+k(C,0):W,Vt(ht)?(nt="",vt!=null&&(nt=vt.replace(M,"$&/")+"/"),re(ht,X,nt,"",function(Hn){return Hn})):ht!=null&&(w(ht)&&(ht=S(ht,nt+(ht.key==null||C&&C.key===ht.key?"":(""+ht.key).replace(M,"$&/")+"/")+vt)),X.push(ht)),1;vt=0;var Ie=W===""?".":W+":";if(Vt(C))for(var Zt=0;Zt<C.length;Zt++)W=C[Zt],wt=Ie+k(W,Zt),vt+=re(W,X,nt,wt,ht);else if(Zt=V(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!(W=C.next()).done;)W=W.value,wt=Ie+k(W,Zt++),vt+=re(W,X,nt,wt,ht);else if(wt==="object"){if(typeof C.then=="function")return re(Pe(C),X,nt,W,ht);throw X=String(C),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return vt}function H(C,X,nt){if(C==null)return C;var W=[],ht=0;return re(C,W,"","",function(wt){return X.call(nt,wt,ht++)}),W}function et(C){if(C._status===-1){var X=C._result;X=X(),X.then(function(nt){(C._status===0||C._status===-1)&&(C._status=1,C._result=nt)},function(nt){(C._status===0||C._status===-1)&&(C._status=2,C._result=nt)}),C._status===-1&&(C._status=0,C._result=X)}if(C._status===1)return C._result.default;throw C._result}var ut=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function zt(){}return St.Children={map:H,forEach:function(C,X,nt){H(C,function(){X.apply(this,arguments)},nt)},count:function(C){var X=0;return H(C,function(){X++}),X},toArray:function(C){return H(C,function(X){return X})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},St.Component=Z,St.Fragment=n,St.Profiler=o,St.PureComponent=At,St.StrictMode=s,St.Suspense=g,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=yt,St.__COMPILER_RUNTIME={__proto__:null,c:function(C){return yt.H.useMemoCache(C)}},St.cache=function(C){return function(){return C.apply(null,arguments)}},St.cloneElement=function(C,X,nt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=$({},C.props),ht=C.key,wt=void 0;if(X!=null)for(vt in X.ref!==void 0&&(wt=void 0),X.key!==void 0&&(ht=""+X.key),X)!Mt.call(X,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&X.ref===void 0||(W[vt]=X[vt]);var vt=arguments.length-2;if(vt===1)W.children=nt;else if(1<vt){for(var Ie=Array(vt),Zt=0;Zt<vt;Zt++)Ie[Zt]=arguments[Zt+2];W.children=Ie}return O(C.type,ht,void 0,void 0,wt,W)},St.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},St.createElement=function(C,X,nt){var W,ht={},wt=null;if(X!=null)for(W in X.key!==void 0&&(wt=""+X.key),X)Mt.call(X,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ht[W]=X[W]);var vt=arguments.length-2;if(vt===1)ht.children=nt;else if(1<vt){for(var Ie=Array(vt),Zt=0;Zt<vt;Zt++)Ie[Zt]=arguments[Zt+2];ht.children=Ie}if(C&&C.defaultProps)for(W in vt=C.defaultProps,vt)ht[W]===void 0&&(ht[W]=vt[W]);return O(C,wt,void 0,void 0,null,ht)},St.createRef=function(){return{current:null}},St.forwardRef=function(C){return{$$typeof:p,render:C}},St.isValidElement=w,St.lazy=function(C){return{$$typeof:E,_payload:{_status:-1,_result:C},_init:et}},St.memo=function(C,X){return{$$typeof:y,type:C,compare:X===void 0?null:X}},St.startTransition=function(C){var X=yt.T,nt={};yt.T=nt;try{var W=C(),ht=yt.S;ht!==null&&ht(nt,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(zt,ut)}catch(wt){ut(wt)}finally{yt.T=X}},St.unstable_useCacheRefresh=function(){return yt.H.useCacheRefresh()},St.use=function(C){return yt.H.use(C)},St.useActionState=function(C,X,nt){return yt.H.useActionState(C,X,nt)},St.useCallback=function(C,X){return yt.H.useCallback(C,X)},St.useContext=function(C){return yt.H.useContext(C)},St.useDebugValue=function(){},St.useDeferredValue=function(C,X){return yt.H.useDeferredValue(C,X)},St.useEffect=function(C,X,nt){var W=yt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(C,X)},St.useId=function(){return yt.H.useId()},St.useImperativeHandle=function(C,X,nt){return yt.H.useImperativeHandle(C,X,nt)},St.useInsertionEffect=function(C,X){return yt.H.useInsertionEffect(C,X)},St.useLayoutEffect=function(C,X){return yt.H.useLayoutEffect(C,X)},St.useMemo=function(C,X){return yt.H.useMemo(C,X)},St.useOptimistic=function(C,X){return yt.H.useOptimistic(C,X)},St.useReducer=function(C,X,nt){return yt.H.useReducer(C,X,nt)},St.useRef=function(C){return yt.H.useRef(C)},St.useState=function(C){return yt.H.useState(C)},St.useSyncExternalStore=function(C,X,nt){return yt.H.useSyncExternalStore(C,X,nt)},St.useTransition=function(){return yt.H.useTransition()},St.version="19.1.0",St}var R_;function um(){return R_||(R_=1,pd.exports=gS()),pd.exports}var fe=um(),gd={exports:{}},cl={},yd={exports:{}},_d={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function yS(){return w_||(w_=1,function(r){function t(H,et){var ut=H.length;H.push(et);t:for(;0<ut;){var zt=ut-1>>>1,C=H[zt];if(0<o(C,et))H[zt]=et,H[ut]=C,ut=zt;else break t}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var et=H[0],ut=H.pop();if(ut!==et){H[0]=ut;t:for(var zt=0,C=H.length,X=C>>>1;zt<X;){var nt=2*(zt+1)-1,W=H[nt],ht=nt+1,wt=H[ht];if(0>o(W,ut))ht<C&&0>o(wt,W)?(H[zt]=wt,H[ht]=ut,zt=ht):(H[zt]=W,H[nt]=ut,zt=nt);else if(ht<C&&0>o(wt,ut))H[zt]=wt,H[ht]=ut,zt=ht;else break t}}return et}function o(H,et){var ut=H.sortIndex-et.sortIndex;return ut!==0?ut:H.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],y=[],E=1,b=null,V=3,j=!1,$=!1,it=!1,Z=!1,_t=typeof setTimeout=="function"?setTimeout:null,At=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function Vt(H){for(var et=n(y);et!==null;){if(et.callback===null)s(y);else if(et.startTime<=H)s(y),et.sortIndex=et.expirationTime,t(g,et);else break;et=n(y)}}function yt(H){if(it=!1,Vt(H),!$)if(n(g)!==null)$=!0,Mt||(Mt=!0,k());else{var et=n(y);et!==null&&re(yt,et.startTime-H)}}var Mt=!1,O=-1,S=5,w=-1;function N(){return Z?!0:!(r.unstable_now()-w<S)}function M(){if(Z=!1,Mt){var H=r.unstable_now();w=H;var et=!0;try{t:{$=!1,it&&(it=!1,At(O),O=-1),j=!0;var ut=V;try{e:{for(Vt(H),b=n(g);b!==null&&!(b.expirationTime>H&&N());){var zt=b.callback;if(typeof zt=="function"){b.callback=null,V=b.priorityLevel;var C=zt(b.expirationTime<=H);if(H=r.unstable_now(),typeof C=="function"){b.callback=C,Vt(H),et=!0;break e}b===n(g)&&s(g),Vt(H)}else s(g);b=n(g)}if(b!==null)et=!0;else{var X=n(y);X!==null&&re(yt,X.startTime-H),et=!1}}break t}finally{b=null,V=ut,j=!1}et=void 0}}finally{et?k():Mt=!1}}}var k;if(typeof ft=="function")k=function(){ft(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Pe=I.port2;I.port1.onmessage=M,k=function(){Pe.postMessage(null)}}else k=function(){_t(M,0)};function re(H,et){O=_t(function(){H(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(H){switch(V){case 1:case 2:case 3:var et=3;break;default:et=V}var ut=V;V=et;try{return H()}finally{V=ut}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=V;V=H;try{return et()}finally{V=ut}},r.unstable_scheduleCallback=function(H,et,ut){var zt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?zt+ut:zt):ut=zt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ut+C,H={id:E++,callback:et,priorityLevel:H,startTime:ut,expirationTime:C,sortIndex:-1},ut>zt?(H.sortIndex=ut,t(y,H),n(g)===null&&H===n(y)&&(it?(At(O),O=-1):it=!0,re(yt,ut-zt))):(H.sortIndex=C,t(g,H),$||j||($=!0,Mt||(Mt=!0,k()))),H},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(H){var et=V;return function(){var ut=V;V=et;try{return H.apply(this,arguments)}finally{V=ut}}}}(_d)),_d}var I_;function _S(){return I_||(I_=1,yd.exports=yS()),yd.exports}var vd={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function vS(){if(C_)return Fe;C_=1;var r=um();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},Fe.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Fe.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Fe.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Fe.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,b=p(E,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:V,fetchPriority:j}):E==="script"&&s.d.X(g,{crossOrigin:b,integrity:V,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Fe.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Fe.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=p(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Fe.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Fe.requestFormReset=function(g){s.d.r(g)},Fe.unstable_batchedUpdates=function(g,y){return g(y)},Fe.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Fe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Fe.version="19.1.0",Fe}var D_;function ES(){if(D_)return vd.exports;D_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),vd.exports=vS(),vd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function TS(){if(N_)return cl;N_=1;var r=_S(),t=um(),n=ES();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function y(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=y(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),_t=Symbol.for("react.provider"),At=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),Vt=Symbol.for("react.forward_ref"),yt=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function Pe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case Z:return"Profiler";case it:return"StrictMode";case yt:return"Suspense";case Mt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case ft:return(e.displayName||"Context")+".Provider";case At:return(e._context.displayName||"Context")+".Consumer";case Vt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return i=e.displayName||null,i!==null?i:Pe(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return Pe(e(i))}catch{}}return null}var re=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},zt=[],C=-1;function X(e){return{current:e}}function nt(e){0>C||(e.current=zt[C],zt[C]=null,C--)}function W(e,i){C++,zt[C]=e.current,e.current=i}var ht=X(null),wt=X(null),vt=X(null),Ie=X(null);function Zt(e,i){switch(W(vt,i),W(wt,e),W(ht,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?$y(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=$y(i),e=Zy(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nt(ht),W(ht,e)}function Hn(){nt(ht),nt(wt),nt(vt)}function Yi(e){e.memoizedState!==null&&W(Ie,e);var i=ht.current,a=Zy(i,e.type);i!==a&&(W(wt,e),W(ht,a))}function di(e){wt.current===e&&(nt(ht),nt(wt)),Ie.current===e&&(nt(Ie),rl._currentValue=ut)}var jr=Object.prototype.hasOwnProperty,qr=r.unstable_scheduleCallback,Hr=r.unstable_cancelCallback,to=r.unstable_shouldYield,Fl=r.unstable_requestPaint,yn=r.unstable_now,dh=r.unstable_getCurrentPriorityLevel,eo=r.unstable_ImmediatePriority,Ls=r.unstable_UserBlockingPriority,Gr=r.unstable_NormalPriority,mh=r.unstable_LowPriority,zs=r.unstable_IdlePriority,no=r.log,Kl=r.unstable_setDisableYieldValue,se=null,Ht=null;function ln(e){if(typeof no=="function"&&Kl(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(se,e)}catch{}}var He=Math.clz32?Math.clz32:Fr,Ql=Math.log,ph=Math.LN2;function Fr(e){return e>>>=0,e===0?32:31-(Ql(e)/ph|0)|0}var Kr=256,Qr=4194304;function Vn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Bs(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Vn(l):(v&=T,v!==0?h=Vn(v):a||(a=T&~e,a!==0&&(h=Vn(a))))):(T=l&~d,T!==0?h=Vn(T):v!==0?h=Vn(v):a||(a=l&~e,a!==0&&(h=Vn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Yr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function io(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ro(){var e=Kr;return Kr<<=1,(Kr&4194048)===0&&(Kr=256),e}function so(){var e=Qr;return Qr<<=1,(Qr&62914560)===0&&(Qr=4194304),e}function mi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function pi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ao(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,L=e.hiddenUpdates;for(a=v&~a;0<a;){var G=31-He(a),K=1<<G;T[G]=0,R[G]=-1;var z=L[G];if(z!==null)for(L[G]=null,G=0;G<z.length;G++){var B=z[G];B!==null&&(B.lane&=-536870913)}a&=~K}l!==0&&Gn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function Gn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-He(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function oo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-He(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Xi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function js(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $i(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:g_(e.type))}function Yl(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var te=Math.random().toString(36).slice(2),Ee="__reactFiber$"+te,de="__reactProps$"+te,_n="__reactContainer$"+te,lo="__reactEvents$"+te,gh="__reactListeners$"+te,Zi="__reactHandles$"+te,Xl="__reactResources$"+te,Xr="__reactMarker$"+te;function Wi(e){delete e[Ee],delete e[de],delete e[lo],delete e[gh],delete e[Zi]}function gi(e){var i=e[Ee];if(i)return i;for(var a=e.parentNode;a;){if(i=a[_n]||a[Ee]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=e_(e);e!==null;){if(a=e[Ee])return a;e=e_(e)}return i}e=a,a=e.parentNode}return null}function Fn(e){if(e=e[Ee]||e[_n]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Kn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function $e(e){var i=e[Xl];return i||(i=e[Xl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function le(e){e[Xr]=!0}var uo=new Set,qs={};function Mn(e,i){yi(e,i),yi(e+"Capture",i)}function yi(e,i){for(qs[e]=i,e=0;e<i.length;e++)uo.add(i[e])}var $l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zl={},$r={};function Wl(e){return jr.call($r,e)?!0:jr.call(Zl,e)?!1:$l.test(e)?$r[e]=!0:(Zl[e]=!0,!1)}function Ji(e,i,a){if(Wl(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Qn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function ke(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var Zr,Jl;function _i(e){if(Zr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Zr=i&&i[1]||"",Jl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zr+e+Jl}var Hs=!1;function Gs(e,i){if(!e||Hs)return"";Hs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var z=B}Reflect.construct(e,[],K)}else{try{K.call()}catch(B){z=B}e.call(K.prototype)}}else{try{throw Error()}catch(B){z=B}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var R=v.split(`
`),L=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===L.length)for(l=R.length-1,h=L.length-1;1<=l&&0<=h&&R[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==L[h]){var G=`
`+R[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{Hs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?_i(a):""}function co(e){switch(e.tag){case 26:case 27:case 5:return _i(e.type);case 16:return _i("Lazy");case 13:return _i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return Gs(e.type,!1);case 11:return Gs(e.type.render,!1);case 1:return Gs(e.type,!0);case 31:return _i("Activity");default:return""}}function Fs(e){try{var i="";do i+=co(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ho(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function yh(e){var i=ho(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ks(e){e._valueTracker||(e._valueTracker=yh(e))}function fo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=ho(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Wr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _h=/[\n"\\]/g;function me(e){return e.replace(_h,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function un(e,i,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ze(i)):e.value!==""+Ze(i)&&(e.value=""+Ze(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?tr(e,v,Ze(i)):a!=null?tr(e,v,Ze(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ze(T):e.removeAttribute("name")}function Jr(e,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Ze(a):"",i=i!=null?""+Ze(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function tr(e,i,a){i==="number"&&Wr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function vi(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ze(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Kt(e,i,a){if(i!=null&&(i=""+Ze(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ze(a):""}function ts(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(re(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ze(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function vn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var es=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tu(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||es.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function mo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&tu(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&tu(e,d,i[d])}function po(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Eh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qs(e){return Eh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ei=null;function En(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ti=null,Ai=null;function go(e){var i=Fn(e);if(i&&(e=i.stateNode)){var a=e[de]||null;t:switch(e=i.stateNode,i.type){case"input":if(un(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+me(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[de]||null;if(!h)throw Error(s(90));un(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&fo(l)}break t;case"textarea":Kt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&vi(e,!!a.multiple,i,!1)}}}var Yn=!1;function eu(e,i,a){if(Yn)return e(i,a);Yn=!0;try{var l=e(i);return l}finally{if(Yn=!1,(Ti!==null||Ai!==null)&&(Yu(),Ti&&(i=Ti,e=Ai,Ai=Ti=null,go(i),e)))for(i=0;i<e.length;i++)go(e[i])}}function ns(e,i){var a=e.stateNode;if(a===null)return null;var l=a[de]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tn=!1;if(Pn)try{var is={};Object.defineProperty(is,"passive",{get:function(){Tn=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{Tn=!1}var Xn=null,er=null,Si=null;function yo(){if(Si)return Si;var e,i=er,a=i.length,l,h="value"in Xn?Xn.value:Xn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Si=h.slice(e,1<l?1-l:void 0)}function $n(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Zn(){return!0}function _o(){return!1}function Ce(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Zn:_o,this.isPropagationStopped=_o,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),i}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=Ce(jt),rs=E({},jt,{view:0,detail:0}),nu=Ce(rs),Xs,$s,Wn,ss=E({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ls,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wn&&(Wn&&e.type==="mousemove"?(Xs=e.screenX-Wn.screenX,$s=e.screenY-Wn.screenY):$s=Xs=0,Wn=e),Xs)},movementY:function(e){return"movementY"in e?e.movementY:$s}}),An=Ce(ss),iu=E({},ss,{dataTransfer:0}),Th=Ce(iu),as=E({},rs,{relatedTarget:0}),Zs=Ce(as),vo=E({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ws=Ce(vo),ru=E({},jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Js=Ce(ru),Ah=E({},jt,{data:0}),Eo=Ce(Ah),os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function To(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=au[e])?!!i[e]:!1}function ls(){return To}var ou=E({},rs,{key:function(e){if(e.key){var i=os[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=$n(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?su[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ls,charCode:function(e){return e.type==="keypress"?$n(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$n(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ta=Ce(ou),lu=E({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ao=Ce(lu),bi=E({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ls}),uu=Ce(bi),cu=E({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),hu=Ce(cu),fu=E({},ss,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ea=Ce(fu),We=E({},jt,{newState:0,oldState:0}),du=Ce(We),mu=[9,13,27,32],Jn=Pn&&"CompositionEvent"in window,c=null;Pn&&"documentMode"in document&&(c=document.documentMode);var m=Pn&&"TextEvent"in window&&!c,_=Pn&&(!Jn||c&&8<c&&11>=c),A=" ",U=!1;function q(e,i){switch(e){case"keyup":return mu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pt=!1;function Te(e,i){switch(e){case"compositionend":return J(i);case"keypress":return i.which!==32?null:(U=!0,A);case"textInput":return e=i.data,e===A&&U?null:e;default:return null}}function kt(e,i){if(Pt)return e==="compositionend"||!Jn&&q(e,i)?(e=yo(),Si=er=Xn=null,Pt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!De[e.type]:i==="textarea"}function Ri(e,i,a,l){Ti?Ai?Ai.push(l):Ai=[l]:Ti=l,i=tc(i,"onChange"),0<i.length&&(a=new Ys("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Ue=null,ti=null;function So(e){Fy(e,0)}function pu(e){var i=Kn(e);if(fo(i))return e}function fp(e,i){if(e==="change")return i}var dp=!1;if(Pn){var Sh;if(Pn){var bh="oninput"in document;if(!bh){var mp=document.createElement("div");mp.setAttribute("oninput","return;"),bh=typeof mp.oninput=="function"}Sh=bh}else Sh=!1;dp=Sh&&(!document.documentMode||9<document.documentMode)}function pp(){Ue&&(Ue.detachEvent("onpropertychange",gp),ti=Ue=null)}function gp(e){if(e.propertyName==="value"&&pu(ti)){var i=[];Ri(i,ti,e,En(e)),eu(So,i)}}function G0(e,i,a){e==="focusin"?(pp(),Ue=i,ti=a,Ue.attachEvent("onpropertychange",gp)):e==="focusout"&&pp()}function F0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pu(ti)}function K0(e,i){if(e==="click")return pu(i)}function Q0(e,i){if(e==="input"||e==="change")return pu(i)}function Y0(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var cn=typeof Object.is=="function"?Object.is:Y0;function bo(e,i){if(cn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!jr.call(i,h)||!cn(e[h],i[h]))return!1}return!0}function yp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _p(e,i){var a=yp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=yp(a)}}function vp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?vp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Ep(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Wr(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Wr(e.document)}return i}function Rh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var X0=Pn&&"documentMode"in document&&11>=document.documentMode,na=null,wh=null,Ro=null,Ih=!1;function Tp(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ih||na==null||na!==Wr(l)||(l=na,"selectionStart"in l&&Rh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ro&&bo(Ro,l)||(Ro=l,l=tc(wh,"onSelect"),0<l.length&&(i=new Ys("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=na)))}function us(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ia={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionrun:us("Transition","TransitionRun"),transitionstart:us("Transition","TransitionStart"),transitioncancel:us("Transition","TransitionCancel"),transitionend:us("Transition","TransitionEnd")},Ch={},Ap={};Pn&&(Ap=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function cs(e){if(Ch[e])return Ch[e];if(!ia[e])return e;var i=ia[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ap)return Ch[e]=i[a];return e}var Sp=cs("animationend"),bp=cs("animationiteration"),Rp=cs("animationstart"),$0=cs("transitionrun"),Z0=cs("transitionstart"),W0=cs("transitioncancel"),wp=cs("transitionend"),Ip=new Map,Dh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dh.push("scrollEnd");function kn(e,i){Ip.set(e,i),Mn(i,[e])}var Cp=new WeakMap;function Sn(e,i){if(typeof e=="object"&&e!==null){var a=Cp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Fs(i)},Cp.set(e,i),i)}return{value:e,source:i,stack:Fs(i)}}var bn=[],ra=0,Nh=0;function gu(){for(var e=ra,i=Nh=ra=0;i<e;){var a=bn[i];bn[i++]=null;var l=bn[i];bn[i++]=null;var h=bn[i];bn[i++]=null;var d=bn[i];if(bn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Dp(a,h,d)}}function yu(e,i,a,l){bn[ra++]=e,bn[ra++]=i,bn[ra++]=a,bn[ra++]=l,Nh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Oh(e,i,a,l){return yu(e,i,a,l),_u(e)}function sa(e,i){return yu(e,null,null,i),_u(e)}function Dp(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-He(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function _u(e){if(50<$o)throw $o=0,Lf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var aa={};function J0(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(e,i,a,l){return new J0(e,i,a,l)}function Vh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wi(e,i){var a=e.alternate;return a===null?(a=hn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Np(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function vu(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")Vh(e)&&(v=1);else if(typeof e=="string")v=eS(e,a,ht.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=hn(31,a,i,h),e.elementType=w,e.lanes=d,e;case $:return hs(a.children,h,d,i);case it:v=8,h|=24;break;case Z:return e=hn(12,a,i,h|2),e.elementType=Z,e.lanes=d,e;case yt:return e=hn(13,a,i,h),e.elementType=yt,e.lanes=d,e;case Mt:return e=hn(19,a,i,h),e.elementType=Mt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _t:case ft:v=10;break t;case At:v=9;break t;case Vt:v=11;break t;case O:v=14;break t;case S:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=hn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function hs(e,i,a,l){return e=hn(7,e,l,i),e.lanes=a,e}function Mh(e,i,a){return e=hn(6,e,null,i),e.lanes=a,e}function Ph(e,i,a){return i=hn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var oa=[],la=0,Eu=null,Tu=0,Rn=[],wn=0,fs=null,Ii=1,Ci="";function ds(e,i){oa[la++]=Tu,oa[la++]=Eu,Eu=e,Tu=i}function Op(e,i,a){Rn[wn++]=Ii,Rn[wn++]=Ci,Rn[wn++]=fs,fs=e;var l=Ii;e=Ci;var h=32-He(l)-1;l&=~(1<<h),a+=1;var d=32-He(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ii=1<<32-He(i)+h|a<<h|l,Ci=d+e}else Ii=1<<d|a<<h|l,Ci=e}function kh(e){e.return!==null&&(ds(e,1),Op(e,1,0))}function Uh(e){for(;e===Eu;)Eu=oa[--la],oa[la]=null,Tu=oa[--la],oa[la]=null;for(;e===fs;)fs=Rn[--wn],Rn[wn]=null,Ci=Rn[--wn],Rn[wn]=null,Ii=Rn[--wn],Rn[wn]=null}var Je=null,ae=null,Bt=!1,ms=null,ei=!1,xh=Error(s(519));function ps(e){var i=Error(s(418,""));throw Co(Sn(i,e)),xh}function Vp(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Ee]=e,i[de]=l,a){case"dialog":Dt("cancel",i),Dt("close",i);break;case"iframe":case"object":case"embed":Dt("load",i);break;case"video":case"audio":for(a=0;a<Wo.length;a++)Dt(Wo[a],i);break;case"source":Dt("error",i);break;case"img":case"image":case"link":Dt("error",i),Dt("load",i);break;case"details":Dt("toggle",i);break;case"input":Dt("invalid",i),Jr(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ks(i);break;case"select":Dt("invalid",i);break;case"textarea":Dt("invalid",i),ts(i,l.value,l.defaultValue,l.children),Ks(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Xy(i.textContent,a)?(l.popover!=null&&(Dt("beforetoggle",i),Dt("toggle",i)),l.onScroll!=null&&Dt("scroll",i),l.onScrollEnd!=null&&Dt("scrollend",i),l.onClick!=null&&(i.onclick=ec),i=!0):i=!1,i||ps(e)}function Mp(e){for(Je=e.return;Je;)switch(Je.tag){case 5:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:Je=Je.return}}function wo(e){if(e!==Je)return!1;if(!Bt)return Mp(e),Bt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||td(e.type,e.memoizedProps)),a=!a),a&&ae&&ps(e),Mp(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ae=xn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ae=null}}else i===27?(i=ae,yr(e.type)?(e=rd,rd=null,ae=e):ae=i):ae=Je?xn(e.stateNode.nextSibling):null;return!0}function Io(){ae=Je=null,Bt=!1}function Pp(){var e=ms;return e!==null&&(sn===null?sn=e:sn.push.apply(sn,e),ms=null),e}function Co(e){ms===null?ms=[e]:ms.push(e)}var Lh=X(null),gs=null,Di=null;function nr(e,i,a){W(Lh,i._currentValue),i._currentValue=a}function Ni(e){e._currentValue=Lh.current,nt(Lh)}function zh(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Bh(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var R=0;R<i.length;R++)if(T.context===i[R]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),zh(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),zh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Do(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;cn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===Ie.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(rl):e=[rl])}h=h.return}e!==null&&Bh(i,e,a,l),i.flags|=262144}function Au(e){for(e=e.firstContext;e!==null;){if(!cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ys(e){gs=e,Di=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return kp(gs,e)}function Su(e,i){return gs===null&&ys(e),kp(e,i)}function kp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Di===null){if(e===null)throw Error(s(308));Di=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Di=Di.next=i;return a}var tA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},eA=r.unstable_scheduleCallback,nA=r.unstable_NormalPriority,Se={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jh(){return{controller:new tA,data:new Map,refCount:0}}function No(e){e.refCount--,e.refCount===0&&eA(nA,function(){e.controller.abort()})}var Oo=null,qh=0,ua=0,ca=null;function iA(e,i){if(Oo===null){var a=Oo=[];qh=0,ua=Ff(),ca={status:"pending",value:void 0,then:function(l){a.push(l)}}}return qh++,i.then(Up,Up),i}function Up(){if(--qh===0&&Oo!==null){ca!==null&&(ca.status="fulfilled");var e=Oo;Oo=null,ua=0,ca=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function rA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var xp=H.S;H.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&iA(e,i),xp!==null&&xp(e,i)};var _s=X(null);function Hh(){var e=_s.current;return e!==null?e:Wt.pooledCache}function bu(e,i){i===null?W(_s,_s.current):W(_s,i.pool)}function Lp(){var e=Hh();return e===null?null:{parent:Se._currentValue,pool:e}}var Vo=Error(s(460)),zp=Error(s(474)),Ru=Error(s(542)),Gh={then:function(){}};function Bp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wu(){}function jp(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(wu,wu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Hp(e),e;default:if(typeof i.status=="string")i.then(wu,wu);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Hp(e),e}throw Mo=i,Vo}}var Mo=null;function qp(){if(Mo===null)throw Error(s(459));var e=Mo;return Mo=null,e}function Hp(e){if(e===Vo||e===Ru)throw Error(s(483))}var ir=!1;function Fh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function rr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function sr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=_u(e),Dp(e,null,a),i}return yu(e,l,i,a),_u(e)}function Po(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,oo(e,a)}}function Qh(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Yh=!1;function ko(){if(Yh){var e=ca;if(e!==null)throw e}}function Uo(e,i,a,l){Yh=!1;var h=e.updateQueue;ir=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,L=R.next;R.next=null,v===null?d=L:v.next=L,v=R;var G=e.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==v&&(T===null?G.firstBaseUpdate=L:T.next=L,G.lastBaseUpdate=R))}if(d!==null){var K=h.baseState;v=0,G=L=R=null,T=d;do{var z=T.lane&-536870913,B=z!==T.lane;if(B?(Ut&z)===z:(l&z)===z){z!==0&&z===ua&&(Yh=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var gt=e,dt=T;z=i;var Xt=a;switch(dt.tag){case 1:if(gt=dt.payload,typeof gt=="function"){K=gt.call(Xt,K,z);break t}K=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=dt.payload,z=typeof gt=="function"?gt.call(Xt,K,z):gt,z==null)break t;K=E({},K,z);break t;case 2:ir=!0}}z=T.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(L=G=B,R=K):G=G.next=B,v|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;B=T,T=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);G===null&&(R=K),h.baseState=R,h.firstBaseUpdate=L,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),dr|=v,e.lanes=v,e.memoizedState=K}}function Gp(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Fp(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Gp(a[e],i)}var ha=X(null),Iu=X(0);function Kp(e,i){e=xi,W(Iu,e),W(ha,i),xi=e|i.baseLanes}function Xh(){W(Iu,xi),W(ha,ha.current)}function $h(){xi=Iu.current,nt(ha),nt(Iu)}var ar=0,bt=null,Qt=null,pe=null,Cu=!1,fa=!1,vs=!1,Du=0,xo=0,da=null,sA=0;function ue(){throw Error(s(321))}function Zh(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!cn(e[a],i[a]))return!1;return!0}function Wh(e,i,a,l,h,d){return ar=d,bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=e===null||e.memoizedState===null?Dg:Ng,vs=!1,d=a(l,h),vs=!1,fa&&(d=Yp(i,a,l,h)),Qp(e),d}function Qp(e){H.H=ku;var i=Qt!==null&&Qt.next!==null;if(ar=0,pe=Qt=bt=null,Cu=!1,xo=0,da=null,i)throw Error(s(300));e===null||Ne||(e=e.dependencies,e!==null&&Au(e)&&(Ne=!0))}function Yp(e,i,a,l){bt=e;var h=0;do{if(fa&&(da=null),xo=0,fa=!1,25<=h)throw Error(s(301));if(h+=1,pe=Qt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=fA,d=i(a,l)}while(fa);return d}function aA(){var e=H.H,i=e.useState()[0];return i=typeof i.then=="function"?Lo(i):i,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(bt.flags|=1024),i}function Jh(){var e=Du!==0;return Du=0,e}function tf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function ef(e){if(Cu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Cu=!1}ar=0,pe=Qt=bt=null,fa=!1,xo=Du=0,da=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?bt.memoizedState=pe=e:pe=pe.next=e,pe}function ge(){if(Qt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var i=pe===null?bt.memoizedState:pe.next;if(i!==null)pe=i,Qt=e;else{if(e===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},pe===null?bt.memoizedState=pe=e:pe=pe.next=e}return pe}function nf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lo(e){var i=xo;return xo+=1,da===null&&(da=[]),e=jp(da,e,i),i=bt,(pe===null?i.memoizedState:pe.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?Dg:Ng),e}function Nu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Lo(e);if(e.$$typeof===ft)return Ge(e)}throw Error(s(438,String(e)))}function rf(e){var i=null,a=bt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=nf(),bt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=N;return i.index++,a}function Oi(e,i){return typeof i=="function"?i(e):i}function Ou(e){var i=ge();return sf(i,Qt,e)}function sf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,R=null,L=i,G=!1;do{var K=L.lane&-536870913;if(K!==L.lane?(Ut&K)===K:(ar&K)===K){var z=L.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),K===ua&&(G=!0);else if((ar&z)===z){L=L.next,z===ua&&(G=!0);continue}else K={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},R===null?(T=R=K,v=d):R=R.next=K,bt.lanes|=z,dr|=z;K=L.action,vs&&a(d,K),d=L.hasEagerState?L.eagerState:a(d,K)}else z={lane:K,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},R===null?(T=R=z,v=d):R=R.next=z,bt.lanes|=K,dr|=K;L=L.next}while(L!==null&&L!==i);if(R===null?v=d:R.next=T,!cn(d,e.memoizedState)&&(Ne=!0,G&&(a=ca,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function af(e){var i=ge(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);cn(d,i.memoizedState)||(Ne=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Xp(e,i,a){var l=bt,h=ge(),d=Bt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!cn((Qt||h).memoizedState,a);v&&(h.memoizedState=a,Ne=!0),h=h.queue;var T=Wp.bind(null,l,h,e);if(zo(2048,8,T,[e]),h.getSnapshot!==i||v||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,ma(9,Vu(),Zp.bind(null,l,h,a,i),null),Wt===null)throw Error(s(349));d||(ar&124)!==0||$p(l,i,a)}return a}function $p(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=bt.updateQueue,i===null?(i=nf(),bt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Zp(e,i,a,l){i.value=a,i.getSnapshot=l,Jp(i)&&tg(e)}function Wp(e,i,a){return a(function(){Jp(i)&&tg(e)})}function Jp(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!cn(e,a)}catch{return!0}}function tg(e){var i=sa(e,2);i!==null&&gn(i,e,2)}function of(e){var i=nn();if(typeof e=="function"){var a=e;if(e=a(),vs){ln(!0);try{a()}finally{ln(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:e},i}function eg(e,i,a,l){return e.baseState=a,sf(e,Qt,typeof l=="function"?l:Oi)}function oA(e,i,a,l,h){if(Pu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};H.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ng(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ng(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=H.T,v={};H.T=v;try{var T=a(h,l),R=H.S;R!==null&&R(v,T),ig(e,i,T)}catch(L){lf(e,i,L)}finally{H.T=d}}else try{d=a(h,l),ig(e,i,d)}catch(L){lf(e,i,L)}}function ig(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){rg(e,i,l)},function(l){return lf(e,i,l)}):rg(e,i,a)}function rg(e,i,a){i.status="fulfilled",i.value=a,sg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,ng(e,a)))}function lf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,sg(i),i=i.next;while(i!==l)}e.action=null}function sg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function ag(e,i){return i}function og(e,i){if(Bt){var a=Wt.formState;if(a!==null){t:{var l=bt;if(Bt){if(ae){e:{for(var h=ae,d=ei;h.nodeType!==8;){if(!d){h=null;break e}if(h=xn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ae=xn(h.nextSibling),l=h.data==="F!";break t}}ps(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ag,lastRenderedState:i},a.queue=l,a=wg.bind(null,bt,l),l.dispatch=a,l=of(!1),d=df.bind(null,bt,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=oA.bind(null,bt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function lg(e){var i=ge();return ug(i,Qt,e)}function ug(e,i,a){if(i=sf(e,i,ag)[0],e=Ou(Oi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Lo(i)}catch(v){throw v===Vo?Ru:v}else l=i;i=ge();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(bt.flags|=2048,ma(9,Vu(),lA.bind(null,h,a),null)),[l,d,e]}function lA(e,i){e.action=i}function cg(e){var i=ge(),a=Qt;if(a!==null)return ug(i,a,e);ge(),i=i.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function ma(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=bt.updateQueue,i===null&&(i=nf(),bt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Vu(){return{destroy:void 0,resource:void 0}}function hg(){return ge().memoizedState}function Mu(e,i,a,l){var h=nn();l=l===void 0?null:l,bt.flags|=e,h.memoizedState=ma(1|i,Vu(),a,l)}function zo(e,i,a,l){var h=ge();l=l===void 0?null:l;var d=h.memoizedState.inst;Qt!==null&&l!==null&&Zh(l,Qt.memoizedState.deps)?h.memoizedState=ma(i,d,a,l):(bt.flags|=e,h.memoizedState=ma(1|i,d,a,l))}function fg(e,i){Mu(8390656,8,e,i)}function dg(e,i){zo(2048,8,e,i)}function mg(e,i){return zo(4,2,e,i)}function pg(e,i){return zo(4,4,e,i)}function gg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function yg(e,i,a){a=a!=null?a.concat([e]):null,zo(4,4,gg.bind(null,i,e),a)}function uf(){}function _g(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Zh(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function vg(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Zh(i,l[1]))return l[0];if(l=e(),vs){ln(!0);try{e()}finally{ln(!1)}}return a.memoizedState=[l,i],l}function cf(e,i,a){return a===void 0||(ar&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=Ay(),bt.lanes|=e,dr|=e,a)}function Eg(e,i,a,l){return cn(a,i)?a:ha.current!==null?(e=cf(e,a,l),cn(e,i)||(Ne=!0),e):(ar&42)===0?(Ne=!0,e.memoizedState=a):(e=Ay(),bt.lanes|=e,dr|=e,i)}function Tg(e,i,a,l,h){var d=et.p;et.p=d!==0&&8>d?d:8;var v=H.T,T={};H.T=T,df(e,!1,i,a);try{var R=h(),L=H.S;if(L!==null&&L(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=rA(R,l);Bo(e,i,G,pn(e))}else Bo(e,i,l,pn(e))}catch(K){Bo(e,i,{then:function(){},status:"rejected",reason:K},pn())}finally{et.p=d,H.T=v}}function uA(){}function hf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Ag(e).queue;Tg(e,h,i,ut,a===null?uA:function(){return Sg(e),a(l)})}function Ag(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:ut},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Sg(e){var i=Ag(e).next.queue;Bo(e,i,{},pn())}function ff(){return Ge(rl)}function bg(){return ge().memoizedState}function Rg(){return ge().memoizedState}function cA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=pn();e=rr(a);var l=sr(i,e,a);l!==null&&(gn(l,i,a),Po(l,i,a)),i={cache:jh()},e.payload=i;return}i=i.return}}function hA(e,i,a){var l=pn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Pu(e)?Ig(i,a):(a=Oh(e,i,a,l),a!==null&&(gn(a,e,l),Cg(a,i,l)))}function wg(e,i,a){var l=pn();Bo(e,i,a,l)}function Bo(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Pu(e))Ig(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,cn(T,v))return yu(e,i,h,0),Wt===null&&gu(),!1}catch{}finally{}if(a=Oh(e,i,h,l),a!==null)return gn(a,e,l),Cg(a,i,l),!0}return!1}function df(e,i,a,l){if(l={lane:2,revertLane:Ff(),action:l,hasEagerState:!1,eagerState:null,next:null},Pu(e)){if(i)throw Error(s(479))}else i=Oh(e,a,l,2),i!==null&&gn(i,e,2)}function Pu(e){var i=e.alternate;return e===bt||i!==null&&i===bt}function Ig(e,i){fa=Cu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Cg(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,oo(e,a)}}var ku={readContext:Ge,use:Nu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},Dg={readContext:Ge,use:Nu,useCallback:function(e,i){return nn().memoizedState=[e,i===void 0?null:i],e},useContext:Ge,useEffect:fg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Mu(4194308,4,gg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Mu(4194308,4,e,i)},useInsertionEffect:function(e,i){Mu(4,2,e,i)},useMemo:function(e,i){var a=nn();i=i===void 0?null:i;var l=e();if(vs){ln(!0);try{e()}finally{ln(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=nn();if(a!==void 0){var h=a(i);if(vs){ln(!0);try{a(i)}finally{ln(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=hA.bind(null,bt,e),[l.memoizedState,e]},useRef:function(e){var i=nn();return e={current:e},i.memoizedState=e},useState:function(e){e=of(e);var i=e.queue,a=wg.bind(null,bt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:uf,useDeferredValue:function(e,i){var a=nn();return cf(a,e,i)},useTransition:function(){var e=of(!1);return e=Tg.bind(null,bt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=bt,h=nn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Wt===null)throw Error(s(349));(Ut&124)!==0||$p(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,fg(Wp.bind(null,l,d,e),[e]),l.flags|=2048,ma(9,Vu(),Zp.bind(null,l,d,a,i),null),a},useId:function(){var e=nn(),i=Wt.identifierPrefix;if(Bt){var a=Ci,l=Ii;a=(l&~(1<<32-He(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Du++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=sA++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:ff,useFormState:og,useActionState:og,useOptimistic:function(e){var i=nn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=df.bind(null,bt,!0,a),a.dispatch=i,[e,i]},useMemoCache:rf,useCacheRefresh:function(){return nn().memoizedState=cA.bind(null,bt)}},Ng={readContext:Ge,use:Nu,useCallback:_g,useContext:Ge,useEffect:dg,useImperativeHandle:yg,useInsertionEffect:mg,useLayoutEffect:pg,useMemo:vg,useReducer:Ou,useRef:hg,useState:function(){return Ou(Oi)},useDebugValue:uf,useDeferredValue:function(e,i){var a=ge();return Eg(a,Qt.memoizedState,e,i)},useTransition:function(){var e=Ou(Oi)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:Lo(e),i]},useSyncExternalStore:Xp,useId:bg,useHostTransitionStatus:ff,useFormState:lg,useActionState:lg,useOptimistic:function(e,i){var a=ge();return eg(a,Qt,e,i)},useMemoCache:rf,useCacheRefresh:Rg},fA={readContext:Ge,use:Nu,useCallback:_g,useContext:Ge,useEffect:dg,useImperativeHandle:yg,useInsertionEffect:mg,useLayoutEffect:pg,useMemo:vg,useReducer:af,useRef:hg,useState:function(){return af(Oi)},useDebugValue:uf,useDeferredValue:function(e,i){var a=ge();return Qt===null?cf(a,e,i):Eg(a,Qt.memoizedState,e,i)},useTransition:function(){var e=af(Oi)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:Lo(e),i]},useSyncExternalStore:Xp,useId:bg,useHostTransitionStatus:ff,useFormState:cg,useActionState:cg,useOptimistic:function(e,i){var a=ge();return Qt!==null?eg(a,Qt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:rf,useCacheRefresh:Rg},pa=null,jo=0;function Uu(e){var i=jo;return jo+=1,pa===null&&(pa=[]),jp(pa,e,i)}function qo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function xu(e,i){throw i.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Og(e){var i=e._init;return i(e._payload)}function Vg(e){function i(P,D){if(e){var x=P.deletions;x===null?(P.deletions=[D],P.flags|=16):x.push(D)}}function a(P,D){if(!e)return null;for(;D!==null;)i(P,D),D=D.sibling;return null}function l(P){for(var D=new Map;P!==null;)P.key!==null?D.set(P.key,P):D.set(P.index,P),P=P.sibling;return D}function h(P,D){return P=wi(P,D),P.index=0,P.sibling=null,P}function d(P,D,x){return P.index=x,e?(x=P.alternate,x!==null?(x=x.index,x<D?(P.flags|=67108866,D):x):(P.flags|=67108866,D)):(P.flags|=1048576,D)}function v(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function T(P,D,x,F){return D===null||D.tag!==6?(D=Mh(x,P.mode,F),D.return=P,D):(D=h(D,x),D.return=P,D)}function R(P,D,x,F){var ot=x.type;return ot===$?G(P,D,x.props.children,F,x.key):D!==null&&(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&Og(ot)===D.type)?(D=h(D,x.props),qo(D,x),D.return=P,D):(D=vu(x.type,x.key,x.props,null,P.mode,F),qo(D,x),D.return=P,D)}function L(P,D,x,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==x.containerInfo||D.stateNode.implementation!==x.implementation?(D=Ph(x,P.mode,F),D.return=P,D):(D=h(D,x.children||[]),D.return=P,D)}function G(P,D,x,F,ot){return D===null||D.tag!==7?(D=hs(x,P.mode,F,ot),D.return=P,D):(D=h(D,x),D.return=P,D)}function K(P,D,x){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Mh(""+D,P.mode,x),D.return=P,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case V:return x=vu(D.type,D.key,D.props,null,P.mode,x),qo(x,D),x.return=P,x;case j:return D=Ph(D,P.mode,x),D.return=P,D;case S:var F=D._init;return D=F(D._payload),K(P,D,x)}if(re(D)||k(D))return D=hs(D,P.mode,x,null),D.return=P,D;if(typeof D.then=="function")return K(P,Uu(D),x);if(D.$$typeof===ft)return K(P,Su(P,D),x);xu(P,D)}return null}function z(P,D,x,F){var ot=D!==null?D.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return ot!==null?null:T(P,D,""+x,F);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case V:return x.key===ot?R(P,D,x,F):null;case j:return x.key===ot?L(P,D,x,F):null;case S:return ot=x._init,x=ot(x._payload),z(P,D,x,F)}if(re(x)||k(x))return ot!==null?null:G(P,D,x,F,null);if(typeof x.then=="function")return z(P,D,Uu(x),F);if(x.$$typeof===ft)return z(P,D,Su(P,x),F);xu(P,x)}return null}function B(P,D,x,F,ot){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return P=P.get(x)||null,T(D,P,""+F,ot);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case V:return P=P.get(F.key===null?x:F.key)||null,R(D,P,F,ot);case j:return P=P.get(F.key===null?x:F.key)||null,L(D,P,F,ot);case S:var It=F._init;return F=It(F._payload),B(P,D,x,F,ot)}if(re(F)||k(F))return P=P.get(x)||null,G(D,P,F,ot,null);if(typeof F.then=="function")return B(P,D,x,Uu(F),ot);if(F.$$typeof===ft)return B(P,D,x,Su(D,F),ot);xu(D,F)}return null}function gt(P,D,x,F){for(var ot=null,It=null,lt=D,mt=D=0,Ve=null;lt!==null&&mt<x.length;mt++){lt.index>mt?(Ve=lt,lt=null):Ve=lt.sibling;var Lt=z(P,lt,x[mt],F);if(Lt===null){lt===null&&(lt=Ve);break}e&&lt&&Lt.alternate===null&&i(P,lt),D=d(Lt,D,mt),It===null?ot=Lt:It.sibling=Lt,It=Lt,lt=Ve}if(mt===x.length)return a(P,lt),Bt&&ds(P,mt),ot;if(lt===null){for(;mt<x.length;mt++)lt=K(P,x[mt],F),lt!==null&&(D=d(lt,D,mt),It===null?ot=lt:It.sibling=lt,It=lt);return Bt&&ds(P,mt),ot}for(lt=l(lt);mt<x.length;mt++)Ve=B(lt,P,mt,x[mt],F),Ve!==null&&(e&&Ve.alternate!==null&&lt.delete(Ve.key===null?mt:Ve.key),D=d(Ve,D,mt),It===null?ot=Ve:It.sibling=Ve,It=Ve);return e&&lt.forEach(function(Ar){return i(P,Ar)}),Bt&&ds(P,mt),ot}function dt(P,D,x,F){if(x==null)throw Error(s(151));for(var ot=null,It=null,lt=D,mt=D=0,Ve=null,Lt=x.next();lt!==null&&!Lt.done;mt++,Lt=x.next()){lt.index>mt?(Ve=lt,lt=null):Ve=lt.sibling;var Ar=z(P,lt,Lt.value,F);if(Ar===null){lt===null&&(lt=Ve);break}e&&lt&&Ar.alternate===null&&i(P,lt),D=d(Ar,D,mt),It===null?ot=Ar:It.sibling=Ar,It=Ar,lt=Ve}if(Lt.done)return a(P,lt),Bt&&ds(P,mt),ot;if(lt===null){for(;!Lt.done;mt++,Lt=x.next())Lt=K(P,Lt.value,F),Lt!==null&&(D=d(Lt,D,mt),It===null?ot=Lt:It.sibling=Lt,It=Lt);return Bt&&ds(P,mt),ot}for(lt=l(lt);!Lt.done;mt++,Lt=x.next())Lt=B(lt,P,mt,Lt.value,F),Lt!==null&&(e&&Lt.alternate!==null&&lt.delete(Lt.key===null?mt:Lt.key),D=d(Lt,D,mt),It===null?ot=Lt:It.sibling=Lt,It=Lt);return e&&lt.forEach(function(dS){return i(P,dS)}),Bt&&ds(P,mt),ot}function Xt(P,D,x,F){if(typeof x=="object"&&x!==null&&x.type===$&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case V:t:{for(var ot=x.key;D!==null;){if(D.key===ot){if(ot=x.type,ot===$){if(D.tag===7){a(P,D.sibling),F=h(D,x.props.children),F.return=P,P=F;break t}}else if(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&Og(ot)===D.type){a(P,D.sibling),F=h(D,x.props),qo(F,x),F.return=P,P=F;break t}a(P,D);break}else i(P,D);D=D.sibling}x.type===$?(F=hs(x.props.children,P.mode,F,x.key),F.return=P,P=F):(F=vu(x.type,x.key,x.props,null,P.mode,F),qo(F,x),F.return=P,P=F)}return v(P);case j:t:{for(ot=x.key;D!==null;){if(D.key===ot)if(D.tag===4&&D.stateNode.containerInfo===x.containerInfo&&D.stateNode.implementation===x.implementation){a(P,D.sibling),F=h(D,x.children||[]),F.return=P,P=F;break t}else{a(P,D);break}else i(P,D);D=D.sibling}F=Ph(x,P.mode,F),F.return=P,P=F}return v(P);case S:return ot=x._init,x=ot(x._payload),Xt(P,D,x,F)}if(re(x))return gt(P,D,x,F);if(k(x)){if(ot=k(x),typeof ot!="function")throw Error(s(150));return x=ot.call(x),dt(P,D,x,F)}if(typeof x.then=="function")return Xt(P,D,Uu(x),F);if(x.$$typeof===ft)return Xt(P,D,Su(P,x),F);xu(P,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,D!==null&&D.tag===6?(a(P,D.sibling),F=h(D,x),F.return=P,P=F):(a(P,D),F=Mh(x,P.mode,F),F.return=P,P=F),v(P)):a(P,D)}return function(P,D,x,F){try{jo=0;var ot=Xt(P,D,x,F);return pa=null,ot}catch(lt){if(lt===Vo||lt===Ru)throw lt;var It=hn(29,lt,null,P.mode);return It.lanes=F,It.return=P,It}finally{}}}var ga=Vg(!0),Mg=Vg(!1),In=X(null),ni=null;function or(e){var i=e.alternate;W(be,be.current&1),W(In,e),ni===null&&(i===null||ha.current!==null||i.memoizedState!==null)&&(ni=e)}function Pg(e){if(e.tag===22){if(W(be,be.current),W(In,e),ni===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ni=e)}}else lr()}function lr(){W(be,be.current),W(In,In.current)}function Vi(e){nt(In),ni===e&&(ni=null),nt(be)}var be=X(0);function Lu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||id(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function mf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var pf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=pn(),h=rr(l);h.payload=i,a!=null&&(h.callback=a),i=sr(e,h,l),i!==null&&(gn(i,e,l),Po(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=pn(),h=rr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=sr(e,h,l),i!==null&&(gn(i,e,l),Po(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=pn(),l=rr(a);l.tag=2,i!=null&&(l.callback=i),i=sr(e,l,a),i!==null&&(gn(i,e,a),Po(i,e,a))}};function kg(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!bo(a,l)||!bo(h,d):!0}function Ug(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&pf.enqueueReplaceState(i,i.state,null)}function Es(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var zu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function xg(e){zu(e)}function Lg(e){console.error(e)}function zg(e){zu(e)}function Bu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Bg(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function gf(e,i,a){return a=rr(a),a.tag=3,a.payload={element:null},a.callback=function(){Bu(e,i)},a}function jg(e){return e=rr(e),e.tag=3,e}function qg(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Bg(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Bg(i,a,l),typeof h!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function dA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Do(i,a,h,!0),a=In.current,a!==null){switch(a.tag){case 13:return ni===null?Bf():a.alternate===null&&oe===0&&(oe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Gh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),qf(e,l,h)),!1;case 22:return a.flags|=65536,l===Gh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),qf(e,l,h)),!1}throw Error(s(435,a.tag))}return qf(e,l,h),Bf(),!1}if(Bt)return i=In.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==xh&&(e=Error(s(422),{cause:l}),Co(Sn(e,a)))):(l!==xh&&(i=Error(s(423),{cause:l}),Co(Sn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Sn(l,a),h=gf(e.stateNode,l,h),Qh(e,h),oe!==4&&(oe=2)),!1;var d=Error(s(520),{cause:l});if(d=Sn(d,a),Xo===null?Xo=[d]:Xo.push(d),oe!==4&&(oe=2),i===null)return!0;l=Sn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=gf(a.stateNode,l,e),Qh(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(mr===null||!mr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=jg(h),qg(h,e,a,l),Qh(a,h),!1}a=a.return}while(a!==null);return!1}var Hg=Error(s(461)),Ne=!1;function xe(e,i,a,l){i.child=e===null?Mg(i,null,a,l):ga(i,e.child,a,l)}function Gg(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return ys(i),l=Wh(e,i,a,v,d,h),T=Jh(),e!==null&&!Ne?(tf(e,i,h),Mi(e,i,h)):(Bt&&T&&kh(i),i.flags|=1,xe(e,i,l,h),i.child)}function Fg(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Vh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Kg(e,i,d,l,h)):(e=vu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!bf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:bo,a(v,l)&&e.ref===i.ref)return Mi(e,i,h)}return i.flags|=1,e=wi(d,l),e.ref=i.ref,e.return=i,i.child=e}function Kg(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(bo(d,l)&&e.ref===i.ref)if(Ne=!1,i.pendingProps=l=d,bf(e,h))(e.flags&131072)!==0&&(Ne=!0);else return i.lanes=e.lanes,Mi(e,i,h)}return yf(e,i,a,l,h)}function Qg(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Yg(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&bu(i,d!==null?d.cachePool:null),d!==null?Kp(i,d):Xh(),Pg(i);else return i.lanes=i.childLanes=536870912,Yg(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(bu(i,d.cachePool),Kp(i,d),lr(),i.memoizedState=null):(e!==null&&bu(i,null),Xh(),lr());return xe(e,i,h,a),i.child}function Yg(e,i,a,l){var h=Hh();return h=h===null?null:{parent:Se._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&bu(i,null),Xh(),Pg(i),e!==null&&Do(e,i,l,!0),null}function ju(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function yf(e,i,a,l,h){return ys(i),a=Wh(e,i,a,l,void 0,h),l=Jh(),e!==null&&!Ne?(tf(e,i,h),Mi(e,i,h)):(Bt&&l&&kh(i),i.flags|=1,xe(e,i,a,h),i.child)}function Xg(e,i,a,l,h,d){return ys(i),i.updateQueue=null,a=Yp(i,l,a,h),Qp(e),l=Jh(),e!==null&&!Ne?(tf(e,i,d),Mi(e,i,d)):(Bt&&l&&kh(i),i.flags|=1,xe(e,i,a,d),i.child)}function $g(e,i,a,l,h){if(ys(i),i.stateNode===null){var d=aa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ge(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=pf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Fh(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ge(v):aa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(mf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&pf.enqueueReplaceState(d,d.state,null),Uo(i,l,d,h),ko(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,R=Es(a,T);d.props=R;var L=d.context,G=a.contextType;v=aa,typeof G=="object"&&G!==null&&(v=Ge(G));var K=a.getDerivedStateFromProps;G=typeof K=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||L!==v)&&Ug(i,d,l,v),ir=!1;var z=i.memoizedState;d.state=z,Uo(i,l,d,h),ko(),L=i.memoizedState,T||z!==L||ir?(typeof K=="function"&&(mf(i,a,K,l),L=i.memoizedState),(R=ir||kg(i,a,R,l,z,L,v))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=L),d.props=l,d.state=L,d.context=v,l=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Kh(e,i),v=i.memoizedProps,G=Es(a,v),d.props=G,K=i.pendingProps,z=d.context,L=a.contextType,R=aa,typeof L=="object"&&L!==null&&(R=Ge(L)),T=a.getDerivedStateFromProps,(L=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==K||z!==R)&&Ug(i,d,l,R),ir=!1,z=i.memoizedState,d.state=z,Uo(i,l,d,h),ko();var B=i.memoizedState;v!==K||z!==B||ir||e!==null&&e.dependencies!==null&&Au(e.dependencies)?(typeof T=="function"&&(mf(i,a,T,l),B=i.memoizedState),(G=ir||kg(i,a,G,l,z,B,R)||e!==null&&e.dependencies!==null&&Au(e.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,B,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,B,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=R,l=G):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,ju(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=ga(i,e.child,null,h),i.child=ga(i,null,a,h)):xe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Mi(e,i,h),e}function Zg(e,i,a,l){return Io(),i.flags|=256,xe(e,i,a,l),i.child}var _f={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vf(e){return{baseLanes:e,cachePool:Lp()}}function Ef(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Cn),e}function Wg(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(be.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?or(i):lr(),Bt){var T=ae,R;if(R=T){t:{for(R=T,T=ei;R.nodeType!==8;){if(!T){T=null;break t}if(R=xn(R.nextSibling),R===null){T=null;break t}}T=R}T!==null?(i.memoizedState={dehydrated:T,treeContext:fs!==null?{id:Ii,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},R=hn(18,null,null,0),R.stateNode=T,R.return=i,i.child=R,Je=i,ae=null,R=!0):R=!1}R||ps(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return id(T)?i.lanes=32:i.lanes=536870912,null;Vi(i)}return T=l.children,l=l.fallback,h?(lr(),h=i.mode,T=qu({mode:"hidden",children:T},h),l=hs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=vf(a),h.childLanes=Ef(e,v,a),i.memoizedState=_f,l):(or(i),Tf(i,T))}if(R=e.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(d)i.flags&256?(or(i),i.flags&=-257,i=Af(e,i,a)):i.memoizedState!==null?(lr(),i.child=e.child,i.flags|=128,i=null):(lr(),h=l.fallback,T=i.mode,l=qu({mode:"visible",children:l.children},T),h=hs(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,ga(i,e.child,null,a),l=i.child,l.memoizedState=vf(a),l.childLanes=Ef(e,v,a),i.memoizedState=_f,i=h);else if(or(i),id(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var L=v.dgst;v=L,l=Error(s(419)),l.stack="",l.digest=v,Co({value:l,source:null,stack:null}),i=Af(e,i,a)}else if(Ne||Do(e,i,a,!1),v=(a&e.childLanes)!==0,Ne||v){if(v=Wt,v!==null&&(l=a&-a,l=(l&42)!==0?1:Xi(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,sa(e,l),gn(v,e,l),Hg;T.data==="$?"||Bf(),i=Af(e,i,a)}else T.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=R.treeContext,ae=xn(T.nextSibling),Je=i,Bt=!0,ms=null,ei=!1,e!==null&&(Rn[wn++]=Ii,Rn[wn++]=Ci,Rn[wn++]=fs,Ii=e.id,Ci=e.overflow,fs=i),i=Tf(i,l.children),i.flags|=4096);return i}return h?(lr(),h=l.fallback,T=i.mode,R=e.child,L=R.sibling,l=wi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,L!==null?h=wi(L,h):(h=hs(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=vf(a):(R=T.cachePool,R!==null?(L=Se._currentValue,R=R.parent!==L?{parent:L,pool:L}:R):R=Lp(),T={baseLanes:T.baseLanes|a,cachePool:R}),h.memoizedState=T,h.childLanes=Ef(e,v,a),i.memoizedState=_f,l):(or(i),a=e.child,e=a.sibling,a=wi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Tf(e,i){return i=qu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function qu(e,i){return e=hn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Af(e,i,a){return ga(i,e.child,null,a),e=Tf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Jg(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),zh(e.return,i,a)}function Sf(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function ty(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(xe(e,i,l.children,a),l=be.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jg(e,a,i);else if(e.tag===19)Jg(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(W(be,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Lu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Sf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Sf(i,!0,a,null,d);break;case"together":Sf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Mi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),dr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Do(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=wi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=wi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function bf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Au(e)))}function mA(e,i,a){switch(i.tag){case 3:Zt(i,i.stateNode.containerInfo),nr(i,Se,e.memoizedState.cache),Io();break;case 27:case 5:Yi(i);break;case 4:Zt(i,i.stateNode.containerInfo);break;case 10:nr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(or(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Wg(e,i,a):(or(i),e=Mi(e,i,a),e!==null?e.sibling:null);or(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Do(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return ty(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(be,be.current),l)break;return null;case 22:case 23:return i.lanes=0,Qg(e,i,a);case 24:nr(i,Se,e.memoizedState.cache)}return Mi(e,i,a)}function ey(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ne=!0;else{if(!bf(e,a)&&(i.flags&128)===0)return Ne=!1,mA(e,i,a);Ne=(e.flags&131072)!==0}else Ne=!1,Bt&&(i.flags&1048576)!==0&&Op(i,Tu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Vh(l)?(e=Es(l,e),i.tag=1,i=$g(null,i,l,e,a)):(i.tag=0,i=yf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===Vt){i.tag=11,i=Gg(null,i,l,e,a);break t}else if(h===O){i.tag=14,i=Fg(null,i,l,e,a);break t}}throw i=Pe(l)||l,Error(s(306,i,""))}}return i;case 0:return yf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Es(l,i.pendingProps),$g(e,i,l,h,a);case 3:t:{if(Zt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Kh(e,i),Uo(i,l,null,a);var v=i.memoizedState;if(l=v.cache,nr(i,Se,l),l!==d.cache&&Bh(i,[Se],a,!0),ko(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Zg(e,i,l,a);break t}else if(l!==h){h=Sn(Error(s(424)),i),Co(h),i=Zg(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ae=xn(e.firstChild),Je=i,Bt=!0,ms=null,ei=!0,a=Mg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Io(),l===h){i=Mi(e,i,a);break t}xe(e,i,l,a)}i=i.child}return i;case 26:return ju(e,i),e===null?(a=s_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,l=nc(vt.current).createElement(a),l[Ee]=i,l[de]=e,ze(l,a,e),le(l),i.stateNode=l):i.memoizedState=s_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Yi(i),e===null&&Bt&&(l=i.stateNode=n_(i.type,i.pendingProps,vt.current),Je=i,ei=!0,h=ae,yr(i.type)?(rd=h,ae=xn(l.firstChild)):ae=h),xe(e,i,i.pendingProps.children,a),ju(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Bt&&((h=l=ae)&&(l=qA(l,i.type,i.pendingProps,ei),l!==null?(i.stateNode=l,Je=i,ae=xn(l.firstChild),ei=!1,h=!0):h=!1),h||ps(i)),Yi(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,td(h,d)?l=null:v!==null&&td(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Wh(e,i,aA,null,null,a),rl._currentValue=h),ju(e,i),xe(e,i,l,a),i.child;case 6:return e===null&&Bt&&((e=a=ae)&&(a=HA(a,i.pendingProps,ei),a!==null?(i.stateNode=a,Je=i,ae=null,e=!0):e=!1),e||ps(i)),null;case 13:return Wg(e,i,a);case 4:return Zt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=ga(i,null,l,a):xe(e,i,l,a),i.child;case 11:return Gg(e,i,i.type,i.pendingProps,a);case 7:return xe(e,i,i.pendingProps,a),i.child;case 8:return xe(e,i,i.pendingProps.children,a),i.child;case 12:return xe(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,nr(i,i.type,l.value),xe(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ys(i),h=Ge(h),l=l(h),i.flags|=1,xe(e,i,l,a),i.child;case 14:return Fg(e,i,i.type,i.pendingProps,a);case 15:return Kg(e,i,i.type,i.pendingProps,a);case 19:return ty(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=qu(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=wi(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Qg(e,i,a);case 24:return ys(i),l=Ge(Se),e===null?(h=Hh(),h===null&&(h=Wt,d=jh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Fh(i),nr(i,Se,h)):((e.lanes&a)!==0&&(Kh(e,i),Uo(i,null,null,a),ko()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),nr(i,Se,l)):(l=d.cache,nr(i,Se,l),l!==h.cache&&Bh(i,[Se],a,!0))),xe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Pi(e){e.flags|=4}function ny(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!c_(i)){if(i=In.current,i!==null&&((Ut&4194048)===Ut?ni!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||i!==ni))throw Mo=Gh,zp;e.flags|=8192}}function Hu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?so():536870912,e.lanes|=i,Ea|=i)}function Ho(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ne(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function pA(e,i,a){var l=i.pendingProps;switch(Uh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(i),null;case 1:return ne(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ni(Se),Hn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(wo(i)?Pi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Pp())),ne(i),null;case 26:return a=i.memoizedState,e===null?(Pi(i),a!==null?(ne(i),ny(i,a)):(ne(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Pi(i),ne(i),ny(i,a)):(ne(i),i.flags&=-16777217):(e.memoizedProps!==l&&Pi(i),ne(i),i.flags&=-16777217),null;case 27:di(i),a=vt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Pi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ne(i),null}e=ht.current,wo(i)?Vp(i):(e=n_(h,l,a),i.stateNode=e,Pi(i))}return ne(i),null;case 5:if(di(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Pi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ne(i),null}if(e=ht.current,wo(i))Vp(i);else{switch(h=nc(vt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Ee]=i,e[de]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(ze(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Pi(i)}}return ne(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Pi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=vt.current,wo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=Je,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ee]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Xy(e.nodeValue,a)),e||ps(i)}else e=nc(e).createTextNode(l),e[Ee]=i,i.stateNode=e}return ne(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=wo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=i}else Io(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ne(i),h=!1}else h=Pp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Vi(i),i):(Vi(i),null)}if(Vi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Hu(i,i.updateQueue),ne(i),null;case 4:return Hn(),e===null&&Xf(i.stateNode.containerInfo),ne(i),null;case 10:return Ni(i.type),ne(i),null;case 19:if(nt(be),h=i.memoizedState,h===null)return ne(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Ho(h,!1);else{if(oe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Lu(e),d!==null){for(i.flags|=128,Ho(h,!1),e=d.updateQueue,i.updateQueue=e,Hu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Np(a,e),a=a.sibling;return W(be,be.current&1|2),i.child}e=e.sibling}h.tail!==null&&yn()>Ku&&(i.flags|=128,l=!0,Ho(h,!1),i.lanes=4194304)}else{if(!l)if(e=Lu(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Hu(i,e),Ho(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Bt)return ne(i),null}else 2*yn()-h.renderingStartTime>Ku&&a!==536870912&&(i.flags|=128,l=!0,Ho(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=yn(),i.sibling=null,e=be.current,W(be,l?e&1|2:e&1),i):(ne(i),null);case 22:case 23:return Vi(i),$h(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ne(i),i.subtreeFlags&6&&(i.flags|=8192)):ne(i),a=i.updateQueue,a!==null&&Hu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&nt(_s),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ni(Se),ne(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function gA(e,i){switch(Uh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ni(Se),Hn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return di(i),null;case 13:if(Vi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Io()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return nt(be),null;case 4:return Hn(),null;case 10:return Ni(i.type),null;case 22:case 23:return Vi(i),$h(),e!==null&&nt(_s),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ni(Se),null;case 25:return null;default:return null}}function iy(e,i){switch(Uh(i),i.tag){case 3:Ni(Se),Hn();break;case 26:case 27:case 5:di(i);break;case 4:Hn();break;case 13:Vi(i);break;case 19:nt(be);break;case 10:Ni(i.type);break;case 22:case 23:Vi(i),$h(),e!==null&&nt(_s);break;case 24:Ni(Se)}}function Go(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){$t(i,i.return,T)}}function ur(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var R=a,L=T;try{L()}catch(G){$t(h,R,G)}}}l=l.next}while(l!==d)}}catch(G){$t(i,i.return,G)}}function ry(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Fp(i,a)}catch(l){$t(e,e.return,l)}}}function sy(e,i,a){a.props=Es(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){$t(e,i,l)}}function Fo(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){$t(e,i,h)}}function ii(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function ay(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Rf(e,i,a){try{var l=e.stateNode;xA(l,e.type,a,i),l[de]=i}catch(h){$t(e,e.return,h)}}function oy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&yr(e.type)||e.tag===4}function wf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||oy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&yr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function If(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ec));else if(l!==4&&(l===27&&yr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(If(e,i,a),e=e.sibling;e!==null;)If(e,i,a),e=e.sibling}function Gu(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&yr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Gu(e,i,a),e=e.sibling;e!==null;)Gu(e,i,a),e=e.sibling}function ly(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);ze(i,l,a),i[Ee]=e,i[de]=a}catch(d){$t(e,e.return,d)}}var ki=!1,ce=!1,Cf=!1,uy=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function yA(e,i){if(e=e.containerInfo,Wf=lc,e=Ep(e),Rh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,R=-1,L=0,G=0,K=e,z=null;e:for(;;){for(var B;K!==a||h!==0&&K.nodeType!==3||(T=v+h),K!==d||l!==0&&K.nodeType!==3||(R=v+l),K.nodeType===3&&(v+=K.nodeValue.length),(B=K.firstChild)!==null;)z=K,K=B;for(;;){if(K===e)break e;if(z===a&&++L===h&&(T=v),z===d&&++G===l&&(R=v),(B=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=B}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jf={focusedElem:e,selectionRange:a},lc=!1,Oe=i;Oe!==null;)if(i=Oe,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Oe=e;else for(;Oe!==null;){switch(i=Oe,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var gt=Es(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(gt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(dt){$t(a,a.return,dt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)nd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Oe=e;break}Oe=i.return}}function cy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:cr(e,a),l&4&&Go(5,a);break;case 1:if(cr(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){$t(a,a.return,v)}else{var h=Es(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(a,a.return,v)}}l&64&&ry(a),l&512&&Fo(a,a.return);break;case 3:if(cr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Fp(e,i)}catch(v){$t(a,a.return,v)}}break;case 27:i===null&&l&4&&ly(a);case 26:case 5:cr(e,a),i===null&&l&4&&ay(a),l&512&&Fo(a,a.return);break;case 12:cr(e,a);break;case 13:cr(e,a),l&4&&dy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=wA.bind(null,a),GA(e,a))));break;case 22:if(l=a.memoizedState!==null||ki,!l){i=i!==null&&i.memoizedState!==null||ce,h=ki;var d=ce;ki=l,(ce=i)&&!d?hr(e,a,(a.subtreeFlags&8772)!==0):cr(e,a),ki=h,ce=d}break;case 30:break;default:cr(e,a)}}function hy(e){var i=e.alternate;i!==null&&(e.alternate=null,hy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Wi(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ee=null,rn=!1;function Ui(e,i,a){for(a=a.child;a!==null;)fy(e,i,a),a=a.sibling}function fy(e,i,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(se,a)}catch{}switch(a.tag){case 26:ce||ii(a,i),Ui(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ce||ii(a,i);var l=ee,h=rn;yr(a.type)&&(ee=a.stateNode,rn=!1),Ui(e,i,a),tl(a.stateNode),ee=l,rn=h;break;case 5:ce||ii(a,i);case 6:if(l=ee,h=rn,ee=null,Ui(e,i,a),ee=l,rn=h,ee!==null)if(rn)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(a.stateNode)}catch(d){$t(a,i,d)}else try{ee.removeChild(a.stateNode)}catch(d){$t(a,i,d)}break;case 18:ee!==null&&(rn?(e=ee,t_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ll(e)):t_(ee,a.stateNode));break;case 4:l=ee,h=rn,ee=a.stateNode.containerInfo,rn=!0,Ui(e,i,a),ee=l,rn=h;break;case 0:case 11:case 14:case 15:ce||ur(2,a,i),ce||ur(4,a,i),Ui(e,i,a);break;case 1:ce||(ii(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&sy(a,i,l)),Ui(e,i,a);break;case 21:Ui(e,i,a);break;case 22:ce=(l=ce)||a.memoizedState!==null,Ui(e,i,a),ce=l;break;default:Ui(e,i,a)}}function dy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ll(e)}catch(a){$t(i,i.return,a)}}function _A(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new uy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new uy),i;default:throw Error(s(435,e.tag))}}function Df(e,i){var a=_A(e);i.forEach(function(l){var h=IA.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function fn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(yr(T.type)){ee=T.stateNode,rn=!1;break t}break;case 5:ee=T.stateNode,rn=!1;break t;case 3:case 4:ee=T.stateNode.containerInfo,rn=!0;break t}T=T.return}if(ee===null)throw Error(s(160));fy(d,v,h),ee=null,rn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)my(i,e),i=i.sibling}var Un=null;function my(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(i,e),dn(e),l&4&&(ur(3,e,e.return),Go(3,e),ur(5,e,e.return));break;case 1:fn(i,e),dn(e),l&512&&(ce||a===null||ii(a,a.return)),l&64&&ki&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Un;if(fn(i,e),dn(e),l&512&&(ce||a===null||ii(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Xr]||d[Ee]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),ze(d,l,a),d[Ee]=e,le(d),l=d;break t;case"link":var v=l_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),ze(d,l,a),h.head.appendChild(d);break;case"meta":if(v=l_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),ze(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ee]=e,le(d),l=d}e.stateNode=l}else u_(h,e.type,e.stateNode);else e.stateNode=o_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?u_(h,e.type,e.stateNode):o_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Rf(e,e.memoizedProps,a.memoizedProps)}break;case 27:fn(i,e),dn(e),l&512&&(ce||a===null||ii(a,a.return)),a!==null&&l&4&&Rf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(fn(i,e),dn(e),l&512&&(ce||a===null||ii(a,a.return)),e.flags&32){h=e.stateNode;try{vn(h,"")}catch(B){$t(e,e.return,B)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Rf(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Cf=!0);break;case 6:if(fn(i,e),dn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(B){$t(e,e.return,B)}}break;case 3:if(sc=null,h=Un,Un=ic(i.containerInfo),fn(i,e),Un=h,dn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ll(i.containerInfo)}catch(B){$t(e,e.return,B)}Cf&&(Cf=!1,py(e));break;case 4:l=Un,Un=ic(e.stateNode.containerInfo),fn(i,e),dn(e),Un=l;break;case 12:fn(i,e),dn(e);break;case 13:fn(i,e),dn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(kf=yn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Df(e,l)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,L=ki,G=ce;if(ki=L||h,ce=G||R,fn(i,e),ce=G,ki=L,dn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||ki||ce||Ts(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(d=R.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=R.stateNode;var K=R.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){$t(R,R.return,B)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(B){$t(R,R.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Df(e,a))));break;case 19:fn(i,e),dn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Df(e,l)));break;case 30:break;case 21:break;default:fn(i,e),dn(e)}}function dn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(oy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=wf(e);Gu(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(vn(v,""),a.flags&=-33);var T=wf(e);Gu(e,T,v);break;case 3:case 4:var R=a.stateNode.containerInfo,L=wf(e);If(e,L,R);break;default:throw Error(s(161))}}catch(G){$t(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function py(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;py(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function cr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)cy(e,i.alternate,i),i=i.sibling}function Ts(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ur(4,i,i.return),Ts(i);break;case 1:ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&sy(i,i.return,a),Ts(i);break;case 27:tl(i.stateNode);case 26:case 5:ii(i,i.return),Ts(i);break;case 22:i.memoizedState===null&&Ts(i);break;case 30:Ts(i);break;default:Ts(i)}e=e.sibling}}function hr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:hr(h,d,a),Go(4,d);break;case 1:if(hr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){$t(l,l.return,L)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Gp(R[h],T)}catch(L){$t(l,l.return,L)}}a&&v&64&&ry(d),Fo(d,d.return);break;case 27:ly(d);case 26:case 5:hr(h,d,a),a&&l===null&&v&4&&ay(d),Fo(d,d.return);break;case 12:hr(h,d,a);break;case 13:hr(h,d,a),a&&v&4&&dy(h,d);break;case 22:d.memoizedState===null&&hr(h,d,a),Fo(d,d.return);break;case 30:break;default:hr(h,d,a)}i=i.sibling}}function Nf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&No(a))}function Of(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&No(e))}function ri(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)gy(e,i,a,l),i=i.sibling}function gy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ri(e,i,a,l),h&2048&&Go(9,i);break;case 1:ri(e,i,a,l);break;case 3:ri(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&No(e)));break;case 12:if(h&2048){ri(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){$t(i,i.return,R)}}else ri(e,i,a,l);break;case 13:ri(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ri(e,i,a,l):Ko(e,i):d._visibility&2?ri(e,i,a,l):(d._visibility|=2,ya(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Nf(v,i);break;case 24:ri(e,i,a,l),h&2048&&Of(i.alternate,i);break;default:ri(e,i,a,l)}}function ya(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,R=l,L=v.flags;switch(v.tag){case 0:case 11:case 15:ya(d,v,T,R,h),Go(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?ya(d,v,T,R,h):Ko(d,v):(G._visibility|=2,ya(d,v,T,R,h)),h&&L&2048&&Nf(v.alternate,v);break;case 24:ya(d,v,T,R,h),h&&L&2048&&Of(v.alternate,v);break;default:ya(d,v,T,R,h)}i=i.sibling}}function Ko(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Ko(a,l),h&2048&&Nf(l.alternate,l);break;case 24:Ko(a,l),h&2048&&Of(l.alternate,l);break;default:Ko(a,l)}i=i.sibling}}var Qo=8192;function _a(e){if(e.subtreeFlags&Qo)for(e=e.child;e!==null;)yy(e),e=e.sibling}function yy(e){switch(e.tag){case 26:_a(e),e.flags&Qo&&e.memoizedState!==null&&iS(Un,e.memoizedState,e.memoizedProps);break;case 5:_a(e);break;case 3:case 4:var i=Un;Un=ic(e.stateNode.containerInfo),_a(e),Un=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Qo,Qo=16777216,_a(e),Qo=i):_a(e));break;default:_a(e)}}function _y(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Yo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Oe=l,Ey(l,e)}_y(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vy(e),e=e.sibling}function vy(e){switch(e.tag){case 0:case 11:case 15:Yo(e),e.flags&2048&&ur(9,e,e.return);break;case 3:Yo(e);break;case 12:Yo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Fu(e)):Yo(e);break;default:Yo(e)}}function Fu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Oe=l,Ey(l,e)}_y(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ur(8,i,i.return),Fu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Fu(i));break;default:Fu(i)}e=e.sibling}}function Ey(e,i){for(;Oe!==null;){var a=Oe;switch(a.tag){case 0:case 11:case 15:ur(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:No(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Oe=l;else t:for(a=e;Oe!==null;){l=Oe;var h=l.sibling,d=l.return;if(hy(l),l===a){Oe=null;break t}if(h!==null){h.return=d,Oe=h;break t}Oe=d}}}var vA={getCacheForType:function(e){var i=Ge(Se),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},EA=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Wt=null,Ct=null,Ut=0,Ft=0,mn=null,fr=!1,va=!1,Vf=!1,xi=0,oe=0,dr=0,As=0,Mf=0,Cn=0,Ea=0,Xo=null,sn=null,Pf=!1,kf=0,Ku=1/0,Qu=null,mr=null,Le=0,pr=null,Ta=null,Aa=0,Uf=0,xf=null,Ty=null,$o=0,Lf=null;function pn(){if((Gt&2)!==0&&Ut!==0)return Ut&-Ut;if(H.T!==null){var e=ua;return e!==0?e:Ff()}return $i()}function Ay(){Cn===0&&(Cn=(Ut&536870912)===0||Bt?ro():536870912);var e=In.current;return e!==null&&(e.flags|=32),Cn}function gn(e,i,a){(e===Wt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Sa(e,0),gr(e,Ut,Cn,!1)),pi(e,a),((Gt&2)===0||e!==Wt)&&(e===Wt&&((Gt&2)===0&&(As|=a),oe===4&&gr(e,Ut,Cn,!1)),si(e))}function Sy(e,i,a){if((Gt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Yr(e,i),h=l?SA(e,i):jf(e,i,!0),d=l;do{if(h===0){va&&!l&&gr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!TA(a)){h=jf(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=Xo;var R=T.current.memoizedState.isDehydrated;if(R&&(Sa(T,v).flags|=256),v=jf(T,v,!1),v!==2){if(Vf&&!R){T.errorRecoveryDisabledLanes|=d,As|=d,h=4;break t}d=sn,sn=h,d!==null&&(sn===null?sn=d:sn.push.apply(sn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Sa(e,0),gr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:gr(l,i,Cn,!fr);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=kf+300-yn(),10<h)){if(gr(l,i,Cn,!fr),Bs(l,0,!0)!==0)break t;l.timeoutHandle=Wy(by.bind(null,l,a,sn,Qu,Pf,i,Cn,As,Ea,fr,d,2,-0,0),h);break t}by(l,a,sn,Qu,Pf,i,Cn,As,Ea,fr,d,0,-0,0)}}break}while(!0);si(e)}function by(e,i,a,l,h,d,v,T,R,L,G,K,z,B){if(e.timeoutHandle=-1,K=i.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(il={stylesheets:null,count:0,unsuspend:nS},yy(i),K=rS(),K!==null)){e.cancelPendingCommit=K(Oy.bind(null,e,i,d,a,l,h,v,T,R,G,1,z,B)),gr(e,d,v,!L);return}Oy(e,i,d,a,l,h,v,T,R)}function TA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!cn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function gr(e,i,a,l){i&=~Mf,i&=~As,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-He(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Gn(e,a,i)}function Yu(){return(Gt&6)===0?(Zo(0),!1):!0}function zf(){if(Ct!==null){if(Ft===0)var e=Ct.return;else e=Ct,Di=gs=null,ef(e),pa=null,jo=0,e=Ct;for(;e!==null;)iy(e.alternate,e),e=e.return;Ct=null}}function Sa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,zA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),zf(),Wt=e,Ct=a=wi(e.current,null),Ut=i,Ft=0,mn=null,fr=!1,va=Yr(e,i),Vf=!1,Ea=Cn=Mf=As=dr=oe=0,sn=Xo=null,Pf=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-He(l),d=1<<h;i|=e[h],l&=~d}return xi=i,gu(),a}function Ry(e,i){bt=null,H.H=ku,i===Vo||i===Ru?(i=qp(),Ft=3):i===zp?(i=qp(),Ft=4):Ft=i===Hg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mn=i,Ct===null&&(oe=1,Bu(e,Sn(i,e.current)))}function wy(){var e=H.H;return H.H=ku,e===null?ku:e}function Iy(){var e=H.A;return H.A=vA,e}function Bf(){oe=4,fr||(Ut&4194048)!==Ut&&In.current!==null||(va=!0),(dr&134217727)===0&&(As&134217727)===0||Wt===null||gr(Wt,Ut,Cn,!1)}function jf(e,i,a){var l=Gt;Gt|=2;var h=wy(),d=Iy();(Wt!==e||Ut!==i)&&(Qu=null,Sa(e,i)),i=!1;var v=oe;t:do try{if(Ft!==0&&Ct!==null){var T=Ct,R=mn;switch(Ft){case 8:zf(),v=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(i=!0);var L=Ft;if(Ft=0,mn=null,ba(e,T,R,L),a&&va){v=0;break t}break;default:L=Ft,Ft=0,mn=null,ba(e,T,R,L)}}AA(),v=oe;break}catch(G){Ry(e,G)}while(!0);return i&&e.shellSuspendCounter++,Di=gs=null,Gt=l,H.H=h,H.A=d,Ct===null&&(Wt=null,Ut=0,gu()),v}function AA(){for(;Ct!==null;)Cy(Ct)}function SA(e,i){var a=Gt;Gt|=2;var l=wy(),h=Iy();Wt!==e||Ut!==i?(Qu=null,Ku=yn()+500,Sa(e,i)):va=Yr(e,i);t:do try{if(Ft!==0&&Ct!==null){i=Ct;var d=mn;e:switch(Ft){case 1:Ft=0,mn=null,ba(e,i,d,1);break;case 2:case 9:if(Bp(d)){Ft=0,mn=null,Dy(i);break}i=function(){Ft!==2&&Ft!==9||Wt!==e||(Ft=7),si(e)},d.then(i,i);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Bp(d)?(Ft=0,mn=null,Dy(i)):(Ft=0,mn=null,ba(e,i,d,7));break;case 5:var v=null;switch(Ct.tag){case 26:v=Ct.memoizedState;case 5:case 27:var T=Ct;if(!v||c_(v)){Ft=0,mn=null;var R=T.sibling;if(R!==null)Ct=R;else{var L=T.return;L!==null?(Ct=L,Xu(L)):Ct=null}break e}}Ft=0,mn=null,ba(e,i,d,5);break;case 6:Ft=0,mn=null,ba(e,i,d,6);break;case 8:zf(),oe=6;break t;default:throw Error(s(462))}}bA();break}catch(G){Ry(e,G)}while(!0);return Di=gs=null,H.H=l,H.A=h,Gt=a,Ct!==null?0:(Wt=null,Ut=0,gu(),oe)}function bA(){for(;Ct!==null&&!to();)Cy(Ct)}function Cy(e){var i=ey(e.alternate,e,xi);e.memoizedProps=e.pendingProps,i===null?Xu(e):Ct=i}function Dy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Xg(a,i,i.pendingProps,i.type,void 0,Ut);break;case 11:i=Xg(a,i,i.pendingProps,i.type.render,i.ref,Ut);break;case 5:ef(i);default:iy(a,i),i=Ct=Np(i,xi),i=ey(a,i,xi)}e.memoizedProps=e.pendingProps,i===null?Xu(e):Ct=i}function ba(e,i,a,l){Di=gs=null,ef(i),pa=null,jo=0;var h=i.return;try{if(dA(e,h,i,a,Ut)){oe=1,Bu(e,Sn(a,e.current)),Ct=null;return}}catch(d){if(h!==null)throw Ct=h,d;oe=1,Bu(e,Sn(a,e.current)),Ct=null;return}i.flags&32768?(Bt||l===1?e=!0:va||(Ut&536870912)!==0?e=!1:(fr=e=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ny(i,e)):Xu(i)}function Xu(e){var i=e;do{if((i.flags&32768)!==0){Ny(i,fr);return}e=i.return;var a=pA(i.alternate,i,xi);if(a!==null){Ct=a;return}if(i=i.sibling,i!==null){Ct=i;return}Ct=i=e}while(i!==null);oe===0&&(oe=5)}function Ny(e,i){do{var a=gA(e.alternate,e);if(a!==null){a.flags&=32767,Ct=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=a}while(e!==null);oe=6,Ct=null}function Oy(e,i,a,l,h,d,v,T,R){e.cancelPendingCommit=null;do $u();while(Le!==0);if((Gt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Nh,ao(e,a,d,v,T,R),e===Wt&&(Ct=Wt=null,Ut=0),Ta=i,pr=e,Aa=a,Uf=d,xf=h,Ty=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,CA(Gr,function(){return Uy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=et.p,et.p=2,v=Gt,Gt|=4;try{yA(e,i,a)}finally{Gt=v,et.p=h,H.T=l}}Le=1,Vy(),My(),Py()}}function Vy(){if(Le===1){Le=0;var e=pr,i=Ta,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var h=Gt;Gt|=4;try{my(i,e);var d=Jf,v=Ep(e.containerInfo),T=d.focusedElem,R=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&vp(T.ownerDocument.documentElement,T)){if(R!==null&&Rh(T)){var L=R.start,G=R.end;if(G===void 0&&(G=L),"selectionStart"in T)T.selectionStart=L,T.selectionEnd=Math.min(G,T.value.length);else{var K=T.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var B=z.getSelection(),gt=T.textContent.length,dt=Math.min(R.start,gt),Xt=R.end===void 0?dt:Math.min(R.end,gt);!B.extend&&dt>Xt&&(v=Xt,Xt=dt,dt=v);var P=_p(T,dt),D=_p(T,Xt);if(P&&D&&(B.rangeCount!==1||B.anchorNode!==P.node||B.anchorOffset!==P.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var x=K.createRange();x.setStart(P.node,P.offset),B.removeAllRanges(),dt>Xt?(B.addRange(x),B.extend(D.node,D.offset)):(x.setEnd(D.node,D.offset),B.addRange(x))}}}}for(K=[],B=T;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<K.length;T++){var F=K[T];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}lc=!!Wf,Jf=Wf=null}finally{Gt=h,et.p=l,H.T=a}}e.current=i,Le=2}}function My(){if(Le===2){Le=0;var e=pr,i=Ta,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var h=Gt;Gt|=4;try{cy(e,i.alternate,i)}finally{Gt=h,et.p=l,H.T=a}}Le=3}}function Py(){if(Le===4||Le===3){Le=0,Fl();var e=pr,i=Ta,a=Aa,l=Ty;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Le=5:(Le=0,Ta=pr=null,ky(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(mr=null),js(a),i=i.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(se,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=H.T,h=et.p,et.p=2,H.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{H.T=i,et.p=h}}(Aa&3)!==0&&$u(),si(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Lf?$o++:($o=0,Lf=e):$o=0,Zo(0)}}function ky(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,No(i)))}function $u(e){return Vy(),My(),Py(),Uy()}function Uy(){if(Le!==5)return!1;var e=pr,i=Uf;Uf=0;var a=js(Aa),l=H.T,h=et.p;try{et.p=32>a?32:a,H.T=null,a=xf,xf=null;var d=pr,v=Aa;if(Le=0,Ta=pr=null,Aa=0,(Gt&6)!==0)throw Error(s(331));var T=Gt;if(Gt|=4,vy(d.current),gy(d,d.current,v,a),Gt=T,Zo(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(se,d)}catch{}return!0}finally{et.p=h,H.T=l,ky(e,i)}}function xy(e,i,a){i=Sn(a,i),i=gf(e.stateNode,i,2),e=sr(e,i,2),e!==null&&(pi(e,2),si(e))}function $t(e,i,a){if(e.tag===3)xy(e,e,a);else for(;i!==null;){if(i.tag===3){xy(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(mr===null||!mr.has(l))){e=Sn(a,e),a=jg(2),l=sr(i,a,2),l!==null&&(qg(a,l,i,e),pi(l,2),si(l));break}}i=i.return}}function qf(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new EA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Vf=!0,h.add(a),e=RA.bind(null,e,i,a),i.then(e,e))}function RA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(Ut&a)===a&&(oe===4||oe===3&&(Ut&62914560)===Ut&&300>yn()-kf?(Gt&2)===0&&Sa(e,0):Mf|=a,Ea===Ut&&(Ea=0)),si(e)}function Ly(e,i){i===0&&(i=so()),e=sa(e,i),e!==null&&(pi(e,i),si(e))}function wA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Ly(e,a)}function IA(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Ly(e,a)}function CA(e,i){return qr(e,i)}var Zu=null,Ra=null,Hf=!1,Wu=!1,Gf=!1,Ss=0;function si(e){e!==Ra&&e.next===null&&(Ra===null?Zu=Ra=e:Ra=Ra.next=e),Wu=!0,Hf||(Hf=!0,NA())}function Zo(e,i){if(!Gf&&Wu){Gf=!0;do for(var a=!1,l=Zu;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-He(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,qy(l,d))}else d=Ut,d=Bs(l,l===Wt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Yr(l,d)||(a=!0,qy(l,d));l=l.next}while(a);Gf=!1}}function DA(){zy()}function zy(){Wu=Hf=!1;var e=0;Ss!==0&&(LA()&&(e=Ss),Ss=0);for(var i=yn(),a=null,l=Zu;l!==null;){var h=l.next,d=By(l,i);d===0?(l.next=null,a===null?Zu=h:a.next=h,h===null&&(Ra=a)):(a=l,(e!==0||(d&3)!==0)&&(Wu=!0)),l=h}Zo(e)}function By(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-He(d),T=1<<v,R=h[v];R===-1?((T&a)===0||(T&l)!==0)&&(h[v]=io(T,i)):R<=i&&(e.expiredLanes|=T),d&=~T}if(i=Wt,a=Ut,a=Bs(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Hr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Yr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Hr(l),js(a)){case 2:case 8:a=Ls;break;case 32:a=Gr;break;case 268435456:a=zs;break;default:a=Gr}return l=jy.bind(null,e),a=qr(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Hr(l),e.callbackPriority=2,e.callbackNode=null,2}function jy(e,i){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if($u()&&e.callbackNode!==a)return null;var l=Ut;return l=Bs(e,e===Wt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Sy(e,l,i),By(e,yn()),e.callbackNode!=null&&e.callbackNode===a?jy.bind(null,e):null)}function qy(e,i){if($u())return null;Sy(e,i,!0)}function NA(){BA(function(){(Gt&6)!==0?qr(eo,DA):zy()})}function Ff(){return Ss===0&&(Ss=ro()),Ss}function Hy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qs(""+e)}function Gy(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function OA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Hy((h[de]||null).action),v=l.submitter;v&&(i=(i=v[de]||null)?Hy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new Ys("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ss!==0){var R=v?Gy(h,v):new FormData(h);hf(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(T.preventDefault(),R=v?Gy(h,v):new FormData(h),hf(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var Kf=0;Kf<Dh.length;Kf++){var Qf=Dh[Kf],VA=Qf.toLowerCase(),MA=Qf[0].toUpperCase()+Qf.slice(1);kn(VA,"on"+MA)}kn(Sp,"onAnimationEnd"),kn(bp,"onAnimationIteration"),kn(Rp,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn($0,"onTransitionRun"),kn(Z0,"onTransitionStart"),kn(W0,"onTransitionCancel"),kn(wp,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wo));function Fy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],R=T.instance,L=T.currentTarget;if(T=T.listener,R!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=L;try{d(h)}catch(G){zu(G)}h.currentTarget=null,d=R}else for(v=0;v<l.length;v++){if(T=l[v],R=T.instance,L=T.currentTarget,T=T.listener,R!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=L;try{d(h)}catch(G){zu(G)}h.currentTarget=null,d=R}}}}function Dt(e,i){var a=i[lo];a===void 0&&(a=i[lo]=new Set);var l=e+"__bubble";a.has(l)||(Ky(i,e,2,!1),a.add(l))}function Yf(e,i,a){var l=0;i&&(l|=4),Ky(a,e,l,i)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function Xf(e){if(!e[Ju]){e[Ju]=!0,uo.forEach(function(a){a!=="selectionchange"&&(PA.has(a)||Yf(a,!1,e),Yf(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ju]||(i[Ju]=!0,Yf("selectionchange",!1,i))}}function Ky(e,i,a,l){switch(g_(i)){case 2:var h=oS;break;case 8:h=lS;break;default:h=ud}a=h.bind(null,i,a,e),h=void 0,!Tn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function $f(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=gi(T),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=d=v;continue t}T=T.parentNode}}l=l.return}eu(function(){var L=d,G=En(a),K=[];t:{var z=Ip.get(e);if(z!==void 0){var B=Ys,gt=e;switch(e){case"keypress":if($n(a)===0)break t;case"keydown":case"keyup":B=ta;break;case"focusin":gt="focus",B=Zs;break;case"focusout":gt="blur",B=Zs;break;case"beforeblur":case"afterblur":B=Zs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Th;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=uu;break;case Sp:case bp:case Rp:B=Ws;break;case wp:B=hu;break;case"scroll":case"scrollend":B=nu;break;case"wheel":B=ea;break;case"copy":case"cut":case"paste":B=Js;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Ao;break;case"toggle":case"beforetoggle":B=du}var dt=(i&4)!==0,Xt=!dt&&(e==="scroll"||e==="scrollend"),P=dt?z!==null?z+"Capture":null:z;dt=[];for(var D=L,x;D!==null;){var F=D;if(x=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||x===null||P===null||(F=ns(D,P),F!=null&&dt.push(Jo(D,F,x))),Xt)break;D=D.return}0<dt.length&&(z=new B(z,gt,null,a,G),K.push({event:z,listeners:dt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==Ei&&(gt=a.relatedTarget||a.fromElement)&&(gi(gt)||gt[_n]))break t;if((B||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,B?(gt=a.relatedTarget||a.toElement,B=L,gt=gt?gi(gt):null,gt!==null&&(Xt=u(gt),dt=gt.tag,gt!==Xt||dt!==5&&dt!==27&&dt!==6)&&(gt=null)):(B=null,gt=L),B!==gt)){if(dt=An,F="onMouseLeave",P="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(dt=Ao,F="onPointerLeave",P="onPointerEnter",D="pointer"),Xt=B==null?z:Kn(B),x=gt==null?z:Kn(gt),z=new dt(F,D+"leave",B,a,G),z.target=Xt,z.relatedTarget=x,F=null,gi(G)===L&&(dt=new dt(P,D+"enter",gt,a,G),dt.target=x,dt.relatedTarget=Xt,F=dt),Xt=F,B&&gt)e:{for(dt=B,P=gt,D=0,x=dt;x;x=wa(x))D++;for(x=0,F=P;F;F=wa(F))x++;for(;0<D-x;)dt=wa(dt),D--;for(;0<x-D;)P=wa(P),x--;for(;D--;){if(dt===P||P!==null&&dt===P.alternate)break e;dt=wa(dt),P=wa(P)}dt=null}else dt=null;B!==null&&Qy(K,z,B,dt,!1),gt!==null&&Xt!==null&&Qy(K,Xt,gt,dt,!0)}}t:{if(z=L?Kn(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var ot=fp;else if(Ae(z))if(dp)ot=Q0;else{ot=F0;var It=G0}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&po(L.elementType)&&(ot=fp):ot=K0;if(ot&&(ot=ot(e,L))){Ri(K,ot,a,G);break t}It&&It(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&tr(z,"number",z.value)}switch(It=L?Kn(L):window,e){case"focusin":(Ae(It)||It.contentEditable==="true")&&(na=It,wh=L,Ro=null);break;case"focusout":Ro=wh=na=null;break;case"mousedown":Ih=!0;break;case"contextmenu":case"mouseup":case"dragend":Ih=!1,Tp(K,a,G);break;case"selectionchange":if(X0)break;case"keydown":case"keyup":Tp(K,a,G)}var lt;if(Jn)t:{switch(e){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else Pt?q(e,a)&&(mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(mt="onCompositionStart");mt&&(_&&a.locale!=="ko"&&(Pt||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Pt&&(lt=yo()):(Xn=G,er="value"in Xn?Xn.value:Xn.textContent,Pt=!0)),It=tc(L,mt),0<It.length&&(mt=new Eo(mt,e,null,a,G),K.push({event:mt,listeners:It}),lt?mt.data=lt:(lt=J(a),lt!==null&&(mt.data=lt)))),(lt=m?Te(e,a):kt(e,a))&&(mt=tc(L,"onBeforeInput"),0<mt.length&&(It=new Eo("onBeforeInput","beforeinput",null,a,G),K.push({event:It,listeners:mt}),It.data=lt)),OA(K,e,L,a,G)}Fy(K,i)})}function Jo(e,i,a){return{instance:e,listener:i,currentTarget:a}}function tc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ns(e,a),h!=null&&l.unshift(Jo(e,h,d)),h=ns(e,i),h!=null&&l.push(Jo(e,h,d))),e.tag===3)return l;e=e.return}return[]}function wa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qy(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,R=T.alternate,L=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||L===null||(R=L,h?(L=ns(a,d),L!=null&&v.unshift(Jo(a,L,R))):h||(L=ns(a,d),L!=null&&v.push(Jo(a,L,R)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var kA=/\r\n?/g,UA=/\u0000|\uFFFD/g;function Yy(e){return(typeof e=="string"?e:""+e).replace(kA,`
`).replace(UA,"")}function Xy(e,i){return i=Yy(i),Yy(e)===i}function ec(){}function Yt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||vn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&vn(e,""+l);break;case"className":Qn(e,"class",l);break;case"tabIndex":Qn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Qn(e,a,l);break;case"style":mo(e,l,d);break;case"data":if(i!=="object"){Qn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Qs(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Yt(e,i,"name",h.name,h,null),Yt(e,i,"formEncType",h.formEncType,h,null),Yt(e,i,"formMethod",h.formMethod,h,null),Yt(e,i,"formTarget",h.formTarget,h,null)):(Yt(e,i,"encType",h.encType,h,null),Yt(e,i,"method",h.method,h,null),Yt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Qs(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ec);break;case"onScroll":l!=null&&Dt("scroll",e);break;case"onScrollEnd":l!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Qs(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),Ji(e,"popover",l);break;case"xlinkActuate":ke(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ke(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ke(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ke(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ke(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ke(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ke(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ke(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ke(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ji(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vh.get(a)||a,Ji(e,a,l))}}function Zf(e,i,a,l,h,d){switch(a){case"style":mo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?vn(e,l):(typeof l=="number"||typeof l=="bigint")&&vn(e,""+l);break;case"onScroll":l!=null&&Dt("scroll",e);break;case"onScrollEnd":l!=null&&Dt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ec);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[de]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ji(e,a,l)}}}function ze(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,d,v,a,null)}}h&&Yt(e,i,"srcSet",a.srcSet,a,null),l&&Yt(e,i,"src",a.src,a,null);return;case"input":Dt("invalid",e);var T=d=v=h=null,R=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":v=G;break;case"checked":R=G;break;case"defaultChecked":L=G;break;case"value":d=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Yt(e,i,l,G,a,null)}}Jr(e,d,T,R,L,v,h,!1),Ks(e);return;case"select":Dt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Yt(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!l,i!=null?vi(e,!!l,i,!1):a!=null&&vi(e,!!l,a,!0);return;case"textarea":Dt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Yt(e,i,v,T,a,null)}ts(e,l,h,d),Ks(e);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(e,i,R,l,a,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(l=0;l<Wo.length;l++)Dt(Wo[l],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,L,l,a,null)}return;default:if(po(i)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Zf(e,i,G,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Yt(e,i,T,l,a,null))}function xA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,R=null,L=null,G=null;for(B in a){var K=a[B];if(a.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=K;default:l.hasOwnProperty(B)||Yt(e,i,B,null,l,K)}}for(var z in l){var B=l[z];if(K=a[z],l.hasOwnProperty(z)&&(B!=null||K!=null))switch(z){case"type":d=B;break;case"name":h=B;break;case"checked":L=B;break;case"defaultChecked":G=B;break;case"value":v=B;break;case"defaultValue":T=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==K&&Yt(e,i,z,B,l,K)}}un(e,v,T,R,L,G,d,h);return;case"select":B=v=T=z=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":B=R;default:l.hasOwnProperty(d)||Yt(e,i,d,null,l,R)}for(h in l)if(d=l[h],R=a[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":z=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==R&&Yt(e,i,h,d,l,R)}i=T,a=v,l=B,z!=null?vi(e,!!a,z,!1):!!l!=!!a&&(i!=null?vi(e,!!a,i,!0):vi(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Yt(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Yt(e,i,v,h,l,d)}Kt(e,z,B);return;case"option":for(var gt in a)if(z=a[gt],a.hasOwnProperty(gt)&&z!=null&&!l.hasOwnProperty(gt))switch(gt){case"selected":e.selected=!1;break;default:Yt(e,i,gt,null,l,z)}for(R in l)if(z=l[R],B=a[R],l.hasOwnProperty(R)&&z!==B&&(z!=null||B!=null))switch(R){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Yt(e,i,R,z,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in a)z=a[dt],a.hasOwnProperty(dt)&&z!=null&&!l.hasOwnProperty(dt)&&Yt(e,i,dt,null,l,z);for(L in l)if(z=l[L],B=a[L],l.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Yt(e,i,L,z,l,B)}return;default:if(po(i)){for(var Xt in a)z=a[Xt],a.hasOwnProperty(Xt)&&z!==void 0&&!l.hasOwnProperty(Xt)&&Zf(e,i,Xt,void 0,l,z);for(G in l)z=l[G],B=a[G],!l.hasOwnProperty(G)||z===B||z===void 0&&B===void 0||Zf(e,i,G,z,l,B);return}}for(var P in a)z=a[P],a.hasOwnProperty(P)&&z!=null&&!l.hasOwnProperty(P)&&Yt(e,i,P,null,l,z);for(K in l)z=l[K],B=a[K],!l.hasOwnProperty(K)||z===B||z==null&&B==null||Yt(e,i,K,z,l,B)}var Wf=null,Jf=null;function nc(e){return e.nodeType===9?e:e.ownerDocument}function $y(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function td(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ed=null;function LA(){var e=window.event;return e&&e.type==="popstate"?e===ed?!1:(ed=e,!0):(ed=null,!1)}var Wy=typeof setTimeout=="function"?setTimeout:void 0,zA=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,BA=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(e){return Jy.resolve(null).then(e).catch(jA)}:Wy;function jA(e){setTimeout(function(){throw e})}function yr(e){return e==="head"}function t_(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&tl(v.documentElement),a&2&&tl(v.body),a&4)for(a=v.head,tl(a),v=a.firstChild;v;){var T=v.nextSibling,R=v.nodeName;v[Xr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(d),ll(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);ll(i)}function nd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nd(a),Wi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function qA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Xr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function HA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=xn(e.nextSibling),e===null))return null;return e}function id(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function GA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function xn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var rd=null;function e_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function n_(e,i,a){switch(i=nc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function tl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Wi(e)}var Dn=new Map,i_=new Set;function ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Li=et.d;et.d={f:FA,r:KA,D:QA,C:YA,L:XA,m:$A,X:WA,S:ZA,M:JA};function FA(){var e=Li.f(),i=Yu();return e||i}function KA(e){var i=Fn(e);i!==null&&i.tag===5&&i.type==="form"?Sg(i):Li.r(e)}var Ia=typeof document>"u"?null:document;function r_(e,i,a){var l=Ia;if(l&&typeof i=="string"&&i){var h=me(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),i_.has(h)||(i_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),ze(i,"link",e),le(i),l.head.appendChild(i)))}}function QA(e){Li.D(e),r_("dns-prefetch",e,null)}function YA(e,i){Li.C(e,i),r_("preconnect",e,i)}function XA(e,i,a){Li.L(e,i,a);var l=Ia;if(l&&e&&i){var h='link[rel="preload"][as="'+me(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+me(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+me(a.imageSizes)+'"]')):h+='[href="'+me(e)+'"]';var d=h;switch(i){case"style":d=Ca(e);break;case"script":d=Da(e)}Dn.has(d)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Dn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(el(d))||i==="script"&&l.querySelector(nl(d))||(i=l.createElement("link"),ze(i,"link",e),le(i),l.head.appendChild(i)))}}function $A(e,i){Li.m(e,i);var a=Ia;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+me(l)+'"][href="'+me(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Da(e)}if(!Dn.has(d)&&(e=E({rel:"modulepreload",href:e},i),Dn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(nl(d)))return}l=a.createElement("link"),ze(l,"link",e),le(l),a.head.appendChild(l)}}}function ZA(e,i,a){Li.S(e,i,a);var l=Ia;if(l&&e){var h=$e(l).hoistableStyles,d=Ca(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(el(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Dn.get(d))&&sd(e,a);var R=v=l.createElement("link");le(R),ze(R,"link",e),R._p=new Promise(function(L,G){R.onload=L,R.onerror=G}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,rc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function WA(e,i){Li.X(e,i);var a=Ia;if(a&&e){var l=$e(a).hoistableScripts,h=Da(e),d=l.get(h);d||(d=a.querySelector(nl(h)),d||(e=E({src:e,async:!0},i),(i=Dn.get(h))&&ad(e,i),d=a.createElement("script"),le(d),ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function JA(e,i){Li.M(e,i);var a=Ia;if(a&&e){var l=$e(a).hoistableScripts,h=Da(e),d=l.get(h);d||(d=a.querySelector(nl(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=Dn.get(h))&&ad(e,i),d=a.createElement("script"),le(d),ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function s_(e,i,a,l){var h=(h=vt.current)?ic(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ca(a.href),a=$e(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ca(a.href);var d=$e(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(el(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Dn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(e,a),d||tS(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Da(a),a=$e(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ca(e){return'href="'+me(e)+'"'}function el(e){return'link[rel="stylesheet"]['+e+"]"}function a_(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function tS(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ze(i,"link",a),le(i),e.head.appendChild(i))}function Da(e){return'[src="'+me(e)+'"]'}function nl(e){return"script[async]"+e}function o_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+me(a.href)+'"]');if(l)return i.instance=l,le(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),le(l),ze(l,"style",h),rc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Ca(a.href);var d=e.querySelector(el(h));if(d)return i.state.loading|=4,i.instance=d,le(d),d;l=a_(a),(h=Dn.get(h))&&sd(l,h),d=(e.ownerDocument||e).createElement("link"),le(d);var v=d;return v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),ze(d,"link",l),i.state.loading|=4,rc(d,a.precedence,e),i.instance=d;case"script":return d=Da(a.src),(h=e.querySelector(nl(d)))?(i.instance=h,le(h),h):(l=a,(h=Dn.get(d))&&(l=E({},a),ad(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),le(h),ze(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,rc(l,a.precedence,e));return i.instance}function rc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function sd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function ad(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var sc=null;function l_(e,i,a){if(sc===null){var l=new Map,h=sc=new Map;h.set(a,l)}else h=sc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Xr]||d[Ee]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function u_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function eS(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function c_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var il=null;function nS(){}function iS(e,i,a){if(il===null)throw Error(s(475));var l=il;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ca(a.href),d=e.querySelector(el(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=ac.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,le(d);return}d=e.ownerDocument||e,a=a_(a),(h=Dn.get(h))&&sd(a,h),d=d.createElement("link"),le(d);var v=d;v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),ze(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=ac.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function rS(){if(il===null)throw Error(s(475));var e=il;return e.stylesheets&&e.count===0&&od(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&od(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function ac(){if(this.count--,this.count===0){if(this.stylesheets)od(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oc=null;function od(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oc=new Map,i.forEach(sS,e),oc=null,ac.call(e))}function sS(e,i){if(!(i.state.loading&4)){var a=oc.get(e);if(a)var l=a.get(null);else{a=new Map,oc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=ac.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var rl={$$typeof:ft,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function aS(e,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function h_(e,i,a,l,h,d,v,T,R,L,G,K){return e=new aS(e,i,a,v,T,R,L,K),i=1,d===!0&&(i|=24),d=hn(3,null,null,i),e.current=d,d.stateNode=e,i=jh(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Fh(d),e}function f_(e){return e?(e=aa,e):aa}function d_(e,i,a,l,h,d){h=f_(h),l.context===null?l.context=h:l.pendingContext=h,l=rr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=sr(e,l,i),a!==null&&(gn(a,e,i),Po(a,e,i))}function m_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function ld(e,i){m_(e,i),(e=e.alternate)&&m_(e,i)}function p_(e){if(e.tag===13){var i=sa(e,67108864);i!==null&&gn(i,e,67108864),ld(e,67108864)}}var lc=!0;function oS(e,i,a,l){var h=H.T;H.T=null;var d=et.p;try{et.p=2,ud(e,i,a,l)}finally{et.p=d,H.T=h}}function lS(e,i,a,l){var h=H.T;H.T=null;var d=et.p;try{et.p=8,ud(e,i,a,l)}finally{et.p=d,H.T=h}}function ud(e,i,a,l){if(lc){var h=cd(l);if(h===null)$f(e,i,l,uc,a),y_(e,l);else if(cS(h,e,i,a,l))l.stopPropagation();else if(y_(e,l),i&4&&-1<uS.indexOf(e)){for(;h!==null;){var d=Fn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Vn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var R=1<<31-He(v);T.entanglements[1]|=R,v&=~R}si(d),(Gt&6)===0&&(Ku=yn()+500,Zo(0))}}break;case 13:T=sa(d,2),T!==null&&gn(T,d,2),Yu(),ld(d,2)}if(d=cd(l),d===null&&$f(e,i,l,uc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else $f(e,i,l,null,a)}}function cd(e){return e=En(e),hd(e)}var uc=null;function hd(e){if(uc=null,e=gi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return uc=e,null}function g_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dh()){case eo:return 2;case Ls:return 8;case Gr:case mh:return 32;case zs:return 268435456;default:return 32}default:return 32}}var fd=!1,_r=null,vr=null,Er=null,sl=new Map,al=new Map,Tr=[],uS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y_(e,i){switch(e){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":sl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(i.pointerId)}}function ol(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Fn(i),i!==null&&p_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function cS(e,i,a,l,h){switch(i){case"focusin":return _r=ol(_r,e,i,a,l,h),!0;case"dragenter":return vr=ol(vr,e,i,a,l,h),!0;case"mouseover":return Er=ol(Er,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return sl.set(d,ol(sl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,al.set(d,ol(al.get(d)||null,e,i,a,l,h)),!0}return!1}function __(e){var i=gi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Yl(e.priority,function(){if(a.tag===13){var l=pn();l=Xi(l);var h=sa(a,l);h!==null&&gn(h,a,l),ld(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=cd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ei=l,a.target.dispatchEvent(l),Ei=null}else return i=Fn(a),i!==null&&p_(i),e.blockedOn=a,!1;i.shift()}return!0}function v_(e,i,a){cc(e)&&a.delete(i)}function hS(){fd=!1,_r!==null&&cc(_r)&&(_r=null),vr!==null&&cc(vr)&&(vr=null),Er!==null&&cc(Er)&&(Er=null),sl.forEach(v_),al.forEach(v_)}function hc(e,i){e.blockedOn===i&&(e.blockedOn=null,fd||(fd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hS)))}var fc=null;function E_(e){fc!==e&&(fc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){fc===e&&(fc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(hd(l||a)===null)continue;break}var d=Fn(a);d!==null&&(e.splice(i,3),i-=3,hf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ll(e){function i(R){return hc(R,e)}_r!==null&&hc(_r,e),vr!==null&&hc(vr,e),Er!==null&&hc(Er,e),sl.forEach(i),al.forEach(i);for(var a=0;a<Tr.length;a++){var l=Tr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Tr.length&&(a=Tr[0],a.blockedOn===null);)__(a),a.blockedOn===null&&Tr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[de]||null;if(typeof d=="function")v||E_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[de]||null)T=v.formAction;else if(hd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),E_(a)}}}function dd(e){this._internalRoot=e}dc.prototype.render=dd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=pn();d_(a,l,e,i,null,null)},dc.prototype.unmount=dd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;d_(e.current,2,null,e,null,null),Yu(),i[_n]=null}};function dc(e){this._internalRoot=e}dc.prototype.unstable_scheduleHydration=function(e){if(e){var i=$i();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Tr.length&&i!==0&&i<Tr[a].priority;a++);Tr.splice(a,0,e),a===0&&__(e)}};var T_=t.version;if(T_!=="19.1.0")throw Error(s(527,T_,"19.1.0"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(i),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var fS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{se=mc.inject(fS),Ht=mc}catch{}}return cl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=xg,d=Lg,v=zg,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=h_(e,1,!1,null,null,a,l,h,d,v,T,null),e[_n]=i.current,Xf(e),new dd(i)},cl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=xg,v=Lg,T=zg,R=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=h_(e,1,!0,i,a??null,l,h,d,v,T,R,L),i.context=f_(null),a=i.current,l=pn(),l=Xi(l),h=rr(l),h.callback=null,sr(a,h,l),a=l,i.current.lanes=a,pi(i,a),si(i),e[_n]=i.current,Xf(e),new dc(i)},cl.version="19.1.0",cl}var O_;function AS(){if(O_)return gd.exports;O_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),gd.exports=TS(),gd.exports}var SS=AS();const bS=()=>{};var V_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},RS=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},dE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,b=(u&3)<<4|p>>4;let V=(p&15)<<2|y>>6,j=y&63;g||(j=64,f||(V=64)),s.push(n[E],n[b],n[V],n[j])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(fE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):RS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||y==null||b==null)throw new wS;const V=u<<2|p>>4;if(s.push(V),y!==64){const j=p<<4&240|y>>2;if(s.push(j),b!==64){const $=y<<6&192|b;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class wS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IS=function(r){const t=fE(r);return dE.encodeByteArray(t,!0)},Oc=function(r){return IS(r).replace(/\./g,"")},mE=function(r){try{return dE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=()=>CS().__FIREBASE_DEFAULTS__,NS=()=>{if(typeof process>"u"||typeof V_>"u")return;const r=V_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},OS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&mE(r[1]);return t&&JSON.parse(t)},Xc=()=>{try{return bS()||DS()||NS()||OS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},pE=r=>{var t,n;return(n=(t=Xc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},VS=r=>{const t=pE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},gE=()=>{var r;return(r=Xc())===null||r===void 0?void 0:r.config},yE=r=>{var t;return(t=Xc())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Oc(JSON.stringify(n)),Oc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function US(){var r;const t=(r=Xc())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function zS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BS(){const r=Xe();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function jS(){return!US()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qS(){try{return typeof indexedDB=="object"}catch{return!1}}function HS(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="FirebaseError";class Ki extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=GS,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?FS(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Ki(o,p,s)}}function FS(r,t){return r.replace(KS,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const KS=/\{\$([^}]+)}/g;function QS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Is(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(M_(u)&&M_(f)){if(!Is(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function M_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function YS(r,t){const n=new XS(r,t);return n.subscribe.bind(n)}class XS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");$S(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Ed),o.error===void 0&&(o.error=Ed),o.complete===void 0&&(o.complete=Ed);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $S(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Ed(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(r){return r&&r._delegate?r._delegate:r}class Cs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new MS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(JS(t))try{this.getOrInitializeService({instanceIdentifier:bs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=bs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=bs){return this.instances.has(t)}getOptions(t=bs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:WS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=bs){return this.component?this.component.multipleInstances?t:bs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WS(r){return r===bs?void 0:r}function JS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new ZS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Nt||(Nt={}));const eb={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},nb=Nt.INFO,ib={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},rb=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=ib[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class cm{constructor(t){this.name=t,this._logLevel=nb,this._logHandler=rb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?eb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const sb=(r,t)=>t.some(n=>r instanceof n);let P_,k_;function ab(){return P_||(P_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ob(){return k_||(k_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _E=new WeakMap,kd=new WeakMap,vE=new WeakMap,Td=new WeakMap,hm=new WeakMap;function lb(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Cr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&_E.set(n,r)}).catch(()=>{}),hm.set(t,r),t}function ub(r){if(kd.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});kd.set(r,t)}let Ud={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return kd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||vE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function cb(r){Ud=r(Ud)}function hb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Ad(this),t,...n);return vE.set(s,t.sort?t.sort():[t]),Cr(s)}:ob().includes(r)?function(...t){return r.apply(Ad(this),t),Cr(_E.get(this))}:function(...t){return Cr(r.apply(Ad(this),t))}}function fb(r){return typeof r=="function"?hb(r):(r instanceof IDBTransaction&&ub(r),sb(r,ab())?new Proxy(r,Ud):r)}function Cr(r){if(r instanceof IDBRequest)return lb(r);if(Td.has(r))return Td.get(r);const t=fb(r);return t!==r&&(Td.set(r,t),hm.set(t,r)),t}const Ad=r=>hm.get(r);function db(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),p=Cr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Cr(f.result),g.oldVersion,g.newVersion,Cr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const mb=["get","getKey","getAll","getAllKeys","count"],pb=["put","add","delete","clear"],Sd=new Map;function U_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Sd.get(t))return Sd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=pb.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||mb.includes(n)))return;const u=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Sd.set(t,u),u}cb(r=>({...r,get:(t,n,s)=>U_(t,n)||r.get(t,n,s),has:(t,n)=>!!U_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yb(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function yb(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const xd="@firebase/app",x_="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new cm("@firebase/app"),_b="@firebase/app-compat",vb="@firebase/analytics-compat",Eb="@firebase/analytics",Tb="@firebase/app-check-compat",Ab="@firebase/app-check",Sb="@firebase/auth",bb="@firebase/auth-compat",Rb="@firebase/database",wb="@firebase/data-connect",Ib="@firebase/database-compat",Cb="@firebase/functions",Db="@firebase/functions-compat",Nb="@firebase/installations",Ob="@firebase/installations-compat",Vb="@firebase/messaging",Mb="@firebase/messaging-compat",Pb="@firebase/performance",kb="@firebase/performance-compat",Ub="@firebase/remote-config",xb="@firebase/remote-config-compat",Lb="@firebase/storage",zb="@firebase/storage-compat",Bb="@firebase/firestore",jb="@firebase/vertexai",qb="@firebase/firestore-compat",Hb="firebase",Gb="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="[DEFAULT]",Fb={[xd]:"fire-core",[_b]:"fire-core-compat",[Eb]:"fire-analytics",[vb]:"fire-analytics-compat",[Ab]:"fire-app-check",[Tb]:"fire-app-check-compat",[Sb]:"fire-auth",[bb]:"fire-auth-compat",[Rb]:"fire-rtdb",[wb]:"fire-data-connect",[Ib]:"fire-rtdb-compat",[Cb]:"fire-fn",[Db]:"fire-fn-compat",[Nb]:"fire-iid",[Ob]:"fire-iid-compat",[Vb]:"fire-fcm",[Mb]:"fire-fcm-compat",[Pb]:"fire-perf",[kb]:"fire-perf-compat",[Ub]:"fire-rc",[xb]:"fire-rc-compat",[Lb]:"fire-gcs",[zb]:"fire-gcs-compat",[Bb]:"fire-fst",[qb]:"fire-fst-compat",[jb]:"fire-vertex","fire-js":"fire-js",[Hb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=new Map,Kb=new Map,zd=new Map;function L_(r,t){try{r.container.addComponent(t)}catch(n){qi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function La(r){const t=r.name;if(zd.has(t))return qi.debug(`There were multiple attempts to register component ${t}.`),!1;zd.set(t,r);for(const n of Vc.values())L_(n,r);for(const n of Kb.values())L_(n,r);return!0}function fm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Nn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new Ul("app","Firebase",Qb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=Gb;function EE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Ld,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw Dr.create("bad-app-name",{appName:String(o)});if(n||(n=gE()),!n)throw Dr.create("no-options");const u=Vc.get(o);if(u){if(Is(n,u.options)&&Is(s,u.config))return u;throw Dr.create("duplicate-app",{appName:o})}const f=new tb(o);for(const g of zd.values())f.addComponent(g);const p=new Yb(n,s,f);return Vc.set(o,p),p}function TE(r=Ld){const t=Vc.get(r);if(!t&&r===Ld&&gE())return EE();if(!t)throw Dr.create("no-app",{appName:r});return t}function Nr(r,t,n){var s;let o=(s=Fb[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const p=[`Unable to register library "${o}" with version "${t}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&p.push("and"),f&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qi.warn(p.join(" "));return}La(new Cs(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="firebase-heartbeat-database",$b=1,wl="firebase-heartbeat-store";let bd=null;function AE(){return bd||(bd=db(Xb,$b,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(wl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Dr.create("idb-open",{originalErrorMessage:r.message})})),bd}async function Zb(r){try{const n=(await AE()).transaction(wl),s=await n.objectStore(wl).get(SE(r));return await n.done,s}catch(t){if(t instanceof Ki)qi.warn(t.message);else{const n=Dr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});qi.warn(n.message)}}}async function z_(r,t){try{const s=(await AE()).transaction(wl,"readwrite");await s.objectStore(wl).put(t,SE(r)),await s.done}catch(n){if(n instanceof Ki)qi.warn(n.message);else{const s=Dr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qi.warn(s.message)}}}function SE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=1024,Jb=30;class tR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=B_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Jb){const f=iR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){qi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=B_(),{heartbeatsToSend:s,unsentEntries:o}=eR(this._heartbeatsCache.heartbeats),u=Oc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return qi.warn(n),""}}}function B_(){return new Date().toISOString().substring(0,10)}function eR(r,t=Wb){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),j_(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),j_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class nR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qS()?HS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Zb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return z_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return z_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function j_(r){return Oc(JSON.stringify({version:2,heartbeats:r})).length}function iR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(r){La(new Cs("platform-logger",t=>new gb(t),"PRIVATE")),La(new Cs("heartbeat",t=>new tR(t),"PRIVATE")),Nr(xd,x_,r),Nr(xd,x_,"esm2017"),Nr("fire-js","")}rR("");var sR="firebase",aR="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr(sR,aR,"app");var q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Or,bE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,S){function w(){}w.prototype=S.prototype,O.D=S.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(N,M,k){for(var I=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)I[Pe-2]=arguments[Pe];return S.prototype[M].apply(N,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,S,w){w||(w=0);var N=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)N[M]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(M=0;16>M;++M)N[M]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=O.g[0],w=O.g[1],M=O.g[2];var k=O.g[3],I=S+(k^w&(M^k))+N[0]+3614090360&4294967295;S=w+(I<<7&4294967295|I>>>25),I=k+(M^S&(w^M))+N[1]+3905402710&4294967295,k=S+(I<<12&4294967295|I>>>20),I=M+(w^k&(S^w))+N[2]+606105819&4294967295,M=k+(I<<17&4294967295|I>>>15),I=w+(S^M&(k^S))+N[3]+3250441966&4294967295,w=M+(I<<22&4294967295|I>>>10),I=S+(k^w&(M^k))+N[4]+4118548399&4294967295,S=w+(I<<7&4294967295|I>>>25),I=k+(M^S&(w^M))+N[5]+1200080426&4294967295,k=S+(I<<12&4294967295|I>>>20),I=M+(w^k&(S^w))+N[6]+2821735955&4294967295,M=k+(I<<17&4294967295|I>>>15),I=w+(S^M&(k^S))+N[7]+4249261313&4294967295,w=M+(I<<22&4294967295|I>>>10),I=S+(k^w&(M^k))+N[8]+1770035416&4294967295,S=w+(I<<7&4294967295|I>>>25),I=k+(M^S&(w^M))+N[9]+2336552879&4294967295,k=S+(I<<12&4294967295|I>>>20),I=M+(w^k&(S^w))+N[10]+4294925233&4294967295,M=k+(I<<17&4294967295|I>>>15),I=w+(S^M&(k^S))+N[11]+2304563134&4294967295,w=M+(I<<22&4294967295|I>>>10),I=S+(k^w&(M^k))+N[12]+1804603682&4294967295,S=w+(I<<7&4294967295|I>>>25),I=k+(M^S&(w^M))+N[13]+4254626195&4294967295,k=S+(I<<12&4294967295|I>>>20),I=M+(w^k&(S^w))+N[14]+2792965006&4294967295,M=k+(I<<17&4294967295|I>>>15),I=w+(S^M&(k^S))+N[15]+1236535329&4294967295,w=M+(I<<22&4294967295|I>>>10),I=S+(M^k&(w^M))+N[1]+4129170786&4294967295,S=w+(I<<5&4294967295|I>>>27),I=k+(w^M&(S^w))+N[6]+3225465664&4294967295,k=S+(I<<9&4294967295|I>>>23),I=M+(S^w&(k^S))+N[11]+643717713&4294967295,M=k+(I<<14&4294967295|I>>>18),I=w+(k^S&(M^k))+N[0]+3921069994&4294967295,w=M+(I<<20&4294967295|I>>>12),I=S+(M^k&(w^M))+N[5]+3593408605&4294967295,S=w+(I<<5&4294967295|I>>>27),I=k+(w^M&(S^w))+N[10]+38016083&4294967295,k=S+(I<<9&4294967295|I>>>23),I=M+(S^w&(k^S))+N[15]+3634488961&4294967295,M=k+(I<<14&4294967295|I>>>18),I=w+(k^S&(M^k))+N[4]+3889429448&4294967295,w=M+(I<<20&4294967295|I>>>12),I=S+(M^k&(w^M))+N[9]+568446438&4294967295,S=w+(I<<5&4294967295|I>>>27),I=k+(w^M&(S^w))+N[14]+3275163606&4294967295,k=S+(I<<9&4294967295|I>>>23),I=M+(S^w&(k^S))+N[3]+4107603335&4294967295,M=k+(I<<14&4294967295|I>>>18),I=w+(k^S&(M^k))+N[8]+1163531501&4294967295,w=M+(I<<20&4294967295|I>>>12),I=S+(M^k&(w^M))+N[13]+2850285829&4294967295,S=w+(I<<5&4294967295|I>>>27),I=k+(w^M&(S^w))+N[2]+4243563512&4294967295,k=S+(I<<9&4294967295|I>>>23),I=M+(S^w&(k^S))+N[7]+1735328473&4294967295,M=k+(I<<14&4294967295|I>>>18),I=w+(k^S&(M^k))+N[12]+2368359562&4294967295,w=M+(I<<20&4294967295|I>>>12),I=S+(w^M^k)+N[5]+4294588738&4294967295,S=w+(I<<4&4294967295|I>>>28),I=k+(S^w^M)+N[8]+2272392833&4294967295,k=S+(I<<11&4294967295|I>>>21),I=M+(k^S^w)+N[11]+1839030562&4294967295,M=k+(I<<16&4294967295|I>>>16),I=w+(M^k^S)+N[14]+4259657740&4294967295,w=M+(I<<23&4294967295|I>>>9),I=S+(w^M^k)+N[1]+2763975236&4294967295,S=w+(I<<4&4294967295|I>>>28),I=k+(S^w^M)+N[4]+1272893353&4294967295,k=S+(I<<11&4294967295|I>>>21),I=M+(k^S^w)+N[7]+4139469664&4294967295,M=k+(I<<16&4294967295|I>>>16),I=w+(M^k^S)+N[10]+3200236656&4294967295,w=M+(I<<23&4294967295|I>>>9),I=S+(w^M^k)+N[13]+681279174&4294967295,S=w+(I<<4&4294967295|I>>>28),I=k+(S^w^M)+N[0]+3936430074&4294967295,k=S+(I<<11&4294967295|I>>>21),I=M+(k^S^w)+N[3]+3572445317&4294967295,M=k+(I<<16&4294967295|I>>>16),I=w+(M^k^S)+N[6]+76029189&4294967295,w=M+(I<<23&4294967295|I>>>9),I=S+(w^M^k)+N[9]+3654602809&4294967295,S=w+(I<<4&4294967295|I>>>28),I=k+(S^w^M)+N[12]+3873151461&4294967295,k=S+(I<<11&4294967295|I>>>21),I=M+(k^S^w)+N[15]+530742520&4294967295,M=k+(I<<16&4294967295|I>>>16),I=w+(M^k^S)+N[2]+3299628645&4294967295,w=M+(I<<23&4294967295|I>>>9),I=S+(M^(w|~k))+N[0]+4096336452&4294967295,S=w+(I<<6&4294967295|I>>>26),I=k+(w^(S|~M))+N[7]+1126891415&4294967295,k=S+(I<<10&4294967295|I>>>22),I=M+(S^(k|~w))+N[14]+2878612391&4294967295,M=k+(I<<15&4294967295|I>>>17),I=w+(k^(M|~S))+N[5]+4237533241&4294967295,w=M+(I<<21&4294967295|I>>>11),I=S+(M^(w|~k))+N[12]+1700485571&4294967295,S=w+(I<<6&4294967295|I>>>26),I=k+(w^(S|~M))+N[3]+2399980690&4294967295,k=S+(I<<10&4294967295|I>>>22),I=M+(S^(k|~w))+N[10]+4293915773&4294967295,M=k+(I<<15&4294967295|I>>>17),I=w+(k^(M|~S))+N[1]+2240044497&4294967295,w=M+(I<<21&4294967295|I>>>11),I=S+(M^(w|~k))+N[8]+1873313359&4294967295,S=w+(I<<6&4294967295|I>>>26),I=k+(w^(S|~M))+N[15]+4264355552&4294967295,k=S+(I<<10&4294967295|I>>>22),I=M+(S^(k|~w))+N[6]+2734768916&4294967295,M=k+(I<<15&4294967295|I>>>17),I=w+(k^(M|~S))+N[13]+1309151649&4294967295,w=M+(I<<21&4294967295|I>>>11),I=S+(M^(w|~k))+N[4]+4149444226&4294967295,S=w+(I<<6&4294967295|I>>>26),I=k+(w^(S|~M))+N[11]+3174756917&4294967295,k=S+(I<<10&4294967295|I>>>22),I=M+(S^(k|~w))+N[2]+718787259&4294967295,M=k+(I<<15&4294967295|I>>>17),I=w+(k^(M|~S))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+k&4294967295}s.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var w=S-this.blockSize,N=this.B,M=this.h,k=0;k<S;){if(M==0)for(;k<=w;)o(this,O,k),k+=this.blockSize;if(typeof O=="string"){for(;k<S;)if(N[M++]=O.charCodeAt(k++),M==this.blockSize){o(this,N),M=0;break}}else for(;k<S;)if(N[M++]=O[k++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=S},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var w=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=w&255,w/=256;for(this.u(O),O=Array(16),S=w=0;4>S;++S)for(var N=0;32>N;N+=8)O[w++]=this.g[S]>>>N&255;return O};function u(O,S){var w=p;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=S(O)}function f(O,S){this.h=S;for(var w=[],N=!0,M=O.length-1;0<=M;M--){var k=O[M]|0;N&&k==S||(w[M]=k,N=!1)}this.g=w}var p={};function g(O){return-128<=O&&128>O?u(O,function(S){return new f([S|0],0>S?-1:0)}):new f([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return Z(y(-O));for(var S=[],w=1,N=0;O>=w;N++)S[N]=O/w|0,w*=4294967296;return new f(S,0)}function E(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return Z(E(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(S,8)),N=b,M=0;M<O.length;M+=8){var k=Math.min(8,O.length-M),I=parseInt(O.substring(M,M+k),S);8>k?(k=y(Math.pow(S,k)),N=N.j(k).add(y(I))):(N=N.j(w),N=N.add(y(I)))}return N}var b=g(0),V=g(1),j=g(16777216);r=f.prototype,r.m=function(){if(it(this))return-Z(this).m();for(var O=0,S=1,w=0;w<this.g.length;w++){var N=this.i(w);O+=(0<=N?N:4294967296+N)*S,S*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if($(this))return"0";if(it(this))return"-"+Z(this).toString(O);for(var S=y(Math.pow(O,6)),w=this,N="";;){var M=Vt(w,S).g;w=_t(w,M.j(S));var k=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=M,$(w))return k+N;for(;6>k.length;)k="0"+k;N=k+N}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function $(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function it(O){return O.h==-1}r.l=function(O){return O=_t(this,O),it(O)?-1:$(O)?0:1};function Z(O){for(var S=O.g.length,w=[],N=0;N<S;N++)w[N]=~O.g[N];return new f(w,~O.h).add(V)}r.abs=function(){return it(this)?Z(this):this},r.add=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],N=0,M=0;M<=S;M++){var k=N+(this.i(M)&65535)+(O.i(M)&65535),I=(k>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);N=I>>>16,k&=65535,I&=65535,w[M]=I<<16|k}return new f(w,w[w.length-1]&-2147483648?-1:0)};function _t(O,S){return O.add(Z(S))}r.j=function(O){if($(this)||$(O))return b;if(it(this))return it(O)?Z(this).j(Z(O)):Z(Z(this).j(O));if(it(O))return Z(this.j(Z(O)));if(0>this.l(j)&&0>O.l(j))return y(this.m()*O.m());for(var S=this.g.length+O.g.length,w=[],N=0;N<2*S;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<O.g.length;M++){var k=this.i(N)>>>16,I=this.i(N)&65535,Pe=O.i(M)>>>16,re=O.i(M)&65535;w[2*N+2*M]+=I*re,At(w,2*N+2*M),w[2*N+2*M+1]+=k*re,At(w,2*N+2*M+1),w[2*N+2*M+1]+=I*Pe,At(w,2*N+2*M+1),w[2*N+2*M+2]+=k*Pe,At(w,2*N+2*M+2)}for(N=0;N<S;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=S;N<2*S;N++)w[N]=0;return new f(w,0)};function At(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function ft(O,S){this.g=O,this.h=S}function Vt(O,S){if($(S))throw Error("division by zero");if($(O))return new ft(b,b);if(it(O))return S=Vt(Z(O),S),new ft(Z(S.g),Z(S.h));if(it(S))return S=Vt(O,Z(S)),new ft(Z(S.g),S.h);if(30<O.g.length){if(it(O)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var w=V,N=S;0>=N.l(O);)w=yt(w),N=yt(N);var M=Mt(w,1),k=Mt(N,1);for(N=Mt(N,2),w=Mt(w,2);!$(N);){var I=k.add(N);0>=I.l(O)&&(M=M.add(w),k=I),N=Mt(N,1),w=Mt(w,1)}return S=_t(O,M.j(S)),new ft(M,S)}for(M=b;0<=O.l(S);){for(w=Math.max(1,Math.floor(O.m()/S.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),k=y(w),I=k.j(S);it(I)||0<I.l(O);)w-=N,k=y(w),I=k.j(S);$(k)&&(k=V),M=M.add(k),O=_t(O,I)}return new ft(M,O)}r.A=function(O){return Vt(this,O).h},r.and=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)&O.i(N);return new f(w,this.h&O.h)},r.or=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)|O.i(N);return new f(w,this.h|O.h)},r.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)^O.i(N);return new f(w,this.h^O.h)};function yt(O){for(var S=O.g.length+1,w=[],N=0;N<S;N++)w[N]=O.i(N)<<1|O.i(N-1)>>>31;return new f(w,O.h)}function Mt(O,S){var w=S>>5;S%=32;for(var N=O.g.length-w,M=[],k=0;k<N;k++)M[k]=0<S?O.i(k+w)>>>S|O.i(k+w+1)<<32-S:O.i(k+w);return new f(M,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,bE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Or=f}).apply(typeof q_<"u"?q_:typeof self<"u"?self:typeof window<"u"?window:{});var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RE,fl,wE,Tc,Bd,IE,CE,DE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,_){return c==Array.prototype||c==Object.prototype||(c[m]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof pc=="object"&&pc];for(var m=0;m<c.length;++m){var _=c[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,m){if(m)t:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in _))break t;_=_[U]}c=c[c.length-1],A=_[c],m=m(A),m!=A&&m!=null&&t(_,c,{configurable:!0,writable:!0,value:m})}}function u(c,m){c instanceof String&&(c+="");var _=0,A=!1,U={next:function(){if(!A&&_<c.length){var q=_++;return{value:m(q,c[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function g(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function y(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function E(c,m,_){return c.call.apply(c.bind,arguments)}function b(c,m,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),c.apply(m,U)}}return function(){return c.apply(m,arguments)}}function V(c,m,_){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,V.apply(null,arguments)}function j(c,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function $(c,m){function _(){}_.prototype=m.prototype,c.aa=m.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,U,q){for(var J=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)J[Pt-2]=arguments[Pt];return m.prototype[U].apply(A,J)}}function it(c){const m=c.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=c[A];return _}return[]}function Z(c,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(g(A)){const U=c.length||0,q=A.length||0;c.length=U+q;for(let J=0;J<q;J++)c[U+J]=A[J]}else c.push(A)}}class _t{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function At(c){return/^[\s\xa0]*$/.test(c)}function ft(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function Vt(c){return Vt[" "](c),c}Vt[" "]=function(){};var yt=ft().indexOf("Gecko")!=-1&&!(ft().toLowerCase().indexOf("webkit")!=-1&&ft().indexOf("Edge")==-1)&&!(ft().indexOf("Trident")!=-1||ft().indexOf("MSIE")!=-1)&&ft().indexOf("Edge")==-1;function Mt(c,m,_){for(const A in c)m.call(_,c[A],A,c)}function O(c,m){for(const _ in c)m.call(void 0,c[_],_,c)}function S(c){const m={};for(const _ in c)m[_]=c[_];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,m){let _,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(_ in A)c[_]=A[_];for(let q=0;q<w.length;q++)_=w[q],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function M(c){var m=1;c=c.split(":");const _=[];for(;0<m&&c.length;)_.push(c.shift()),m--;return c.length&&_.push(c.join(":")),_}function k(c){p.setTimeout(()=>{throw c},0)}function I(){var c=zt;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class Pe{constructor(){this.h=this.g=null}add(m,_){const A=re.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new _t(()=>new H,c=>c.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ut=!1,zt=new Pe,C=()=>{const c=p.Promise.resolve(void 0);et=()=>{c.then(X)}};var X=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){k(_)}var m=re;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}ut=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};p.addEventListener("test",_,m),p.removeEventListener("test",_,m)}catch{}return c}();function wt(c,m){if(W.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(yt){t:{try{Vt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else _=="mouseover"?m=c.fromElement:_=="mouseout"&&(m=c.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:vt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&wt.aa.h.call(this)}}$(wt,W);var vt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Hn(c,m,_,A,U){this.listener=c,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=U,this.key=++Zt,this.da=this.fa=!1}function Yi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function di(c){this.src=c,this.g={},this.h=0}di.prototype.add=function(c,m,_,A,U){var q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);var J=qr(c,m,A,U);return-1<J?(m=c[J],_||(m.fa=!1)):(m=new Hn(m,this.src,q,!!A,U),m.fa=_,c.push(m)),m};function jr(c,m){var _=m.type;if(_ in c.g){var A=c.g[_],U=Array.prototype.indexOf.call(A,m,void 0),q;(q=0<=U)&&Array.prototype.splice.call(A,U,1),q&&(Yi(m),c.g[_].length==0&&(delete c.g[_],c.h--))}}function qr(c,m,_,A){for(var U=0;U<c.length;++U){var q=c[U];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==A)return U}return-1}var Hr="closure_lm_"+(1e6*Math.random()|0),to={};function Fl(c,m,_,A,U){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Fl(c,m[q],_,A,U);return null}return _=Kl(_),c&&c[Ie]?c.K(m,_,y(A)?!!A.capture:!1,U):yn(c,m,_,!1,A,U)}function yn(c,m,_,A,U,q){if(!m)throw Error("Invalid event type");var J=y(U)?!!U.capture:!!U,Pt=zs(c);if(Pt||(c[Hr]=Pt=new di(c)),_=Pt.add(m,_,A,J,q),_.proxy)return _;if(A=dh(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)ht||(U=J),U===void 0&&(U=!1),c.addEventListener(m.toString(),A,U);else if(c.attachEvent)c.attachEvent(Gr(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function dh(){function c(_){return m.call(c.src,c.listener,_)}const m=mh;return c}function eo(c,m,_,A,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)eo(c,m[q],_,A,U);else A=y(A)?!!A.capture:!!A,_=Kl(_),c&&c[Ie]?(c=c.i,m=String(m).toString(),m in c.g&&(q=c.g[m],_=qr(q,_,A,U),-1<_&&(Yi(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete c.g[m],c.h--)))):c&&(c=zs(c))&&(m=c.g[m.toString()],c=-1,m&&(c=qr(m,_,A,U)),(_=-1<c?m[c]:null)&&Ls(_))}function Ls(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Ie])jr(m.i,c);else{var _=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(_,A,c.capture):m.detachEvent?m.detachEvent(Gr(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=zs(m))?(jr(_,c),_.h==0&&(_.src=null,m[Hr]=null)):Yi(c)}}}function Gr(c){return c in to?to[c]:to[c]="on"+c}function mh(c,m){if(c.da)c=!0;else{m=new wt(m,this);var _=c.listener,A=c.ha||c.src;c.fa&&Ls(c),c=_.call(A,m)}return c}function zs(c){return c=c[Hr],c instanceof di?c:null}var no="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kl(c){return typeof c=="function"?c:(c[no]||(c[no]=function(m){return c.handleEvent(m)}),c[no])}function se(){nt.call(this),this.i=new di(this),this.M=this,this.F=null}$(se,nt),se.prototype[Ie]=!0,se.prototype.removeEventListener=function(c,m,_,A){eo(this,c,m,_,A)};function Ht(c,m){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new W(m,c);else if(m instanceof W)m.target=m.target||c;else{var U=m;m=new W(A,c),N(m,U)}if(U=!0,_)for(var q=_.length-1;0<=q;q--){var J=m.g=_[q];U=ln(J,A,!0,m)&&U}if(J=m.g=c,U=ln(J,A,!0,m)&&U,U=ln(J,A,!1,m)&&U,_)for(q=0;q<_.length;q++)J=m.g=_[q],U=ln(J,A,!1,m)&&U}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var _=c.g[m],A=0;A<_.length;A++)Yi(_[A]);delete c.g[m],c.h--}}this.F=null},se.prototype.K=function(c,m,_,A){return this.i.add(String(c),m,!1,_,A)},se.prototype.L=function(c,m,_,A){return this.i.add(String(c),m,!0,_,A)};function ln(c,m,_,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,q=0;q<m.length;++q){var J=m[q];if(J&&!J.da&&J.capture==_){var Pt=J.listener,Te=J.ha||J.src;J.fa&&jr(c.i,J),U=Pt.call(Te,A)!==!1&&U}}return U&&!A.defaultPrevented}function He(c,m,_){if(typeof c=="function")_&&(c=V(c,_));else if(c&&typeof c.handleEvent=="function")c=V(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(c,m||0)}function Ql(c){c.g=He(()=>{c.g=null,c.i&&(c.i=!1,Ql(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class ph extends nt{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ql(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fr(c){nt.call(this),this.h=c,this.g={}}$(Fr,nt);var Kr=[];function Qr(c){Mt(c.g,function(m,_){this.g.hasOwnProperty(_)&&Ls(m)},c),c.g={}}Fr.prototype.N=function(){Fr.aa.N.call(this),Qr(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=p.JSON.stringify,Bs=p.JSON.parse,Yr=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function io(){}io.prototype.h=null;function ro(c){return c.h||(c.h=c.i())}function so(){}var mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pi(){W.call(this,"d")}$(pi,W);function ao(){W.call(this,"c")}$(ao,W);var Gn={},oo=null;function Xi(){return oo=oo||new se}Gn.La="serverreachability";function js(c){W.call(this,Gn.La,c)}$(js,W);function $i(c){const m=Xi();Ht(m,new js(m))}Gn.STAT_EVENT="statevent";function Yl(c,m){W.call(this,Gn.STAT_EVENT,c),this.stat=m}$(Yl,W);function te(c){const m=Xi();Ht(m,new Yl(m,c))}Gn.Ma="timingevent";function Ee(c,m){W.call(this,Gn.Ma,c),this.size=m}$(Ee,W);function de(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},m)}function _n(){this.g=!0}_n.prototype.xa=function(){this.g=!1};function lo(c,m,_,A,U,q){c.info(function(){if(c.g)if(q)for(var J="",Pt=q.split("&"),Te=0;Te<Pt.length;Te++){var kt=Pt[Te].split("=");if(1<kt.length){var De=kt[0];kt=kt[1];var Ae=De.split("_");J=2<=Ae.length&&Ae[1]=="type"?J+(De+"="+kt+"&"):J+(De+"=redacted&")}}else J=null;else J=q;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+_+`
`+J})}function gh(c,m,_,A,U,q,J){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+_+`
`+q+" "+J})}function Zi(c,m,_,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Xr(c,_)+(A?" "+A:"")})}function Xl(c,m){c.info(function(){return"TIMEOUT: "+m})}_n.prototype.info=function(){};function Xr(c,m){if(!c.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var J=1;J<U.length;J++)U[J]=""}}}}return Vn(_)}catch{return m}}var Wi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fn;function Kn(){}$(Kn,io),Kn.prototype.g=function(){return new XMLHttpRequest},Kn.prototype.i=function(){return{}},Fn=new Kn;function $e(c,m,_,A){this.j=c,this.i=m,this.l=_,this.R=A||1,this.U=new Fr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var uo={},qs={};function Mn(c,m,_){c.L=1,c.v=ts(un(m)),c.m=_,c.P=!0,yi(c,null)}function yi(c,m){c.F=Date.now(),$r(c),c.A=un(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),go(_.i,"t",A),c.C=0,_=c.j.J,c.h=new le,c.g=hu(c.j,_?m:null,!c.m),0<c.O&&(c.M=new ph(V(c.Y,c,c.g),c.O)),m=c.U,_=c.g,A=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(Kr[0]=U.toString()),U=Kr);for(var q=0;q<U.length;q++){var J=Fl(_,U[q],A||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),$i(),lo(c.i,c.u,c.A,c.l,c.R,c.m)}$e.prototype.ca=function(c){c=c.target;const m=this.M;m&&An(c)==3?m.j():this.Y(c)},$e.prototype.Y=function(c){try{if(c==this.g)t:{const Ae=An(this.g);var m=this.g.Ba();const Ri=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||iu(this.g)))){this.J||Ae!=4||m==7||(m==8||0>=Ri?$i(3):$i(2)),Ji(this);var _=this.g.Z();this.X=_;e:if($l(this)){var A=iu(this.g);c="";var U=A.length,q=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ke(this),Qn(this);var J="";break e}this.h.i=new p.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,c+=this.h.i.decode(A[m],{stream:!(q&&m==U-1)});A.length=0,this.h.g+=c,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=_==200,gh(this.i,this.u,this.A,this.l,this.R,Ae,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,Te=this.g;if((Pt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!At(Pt)){var kt=Pt;break e}}kt=null}if(_=kt)Zi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zr(this,_);else{this.o=!1,this.s=3,te(12),ke(this),Qn(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<J.length;)if(Ue=Zl(this,J),Ue==qs){Ae==4&&(this.s=4,te(14),_=!1),Zi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==uo){this.s=4,te(15),Zi(this.i,this.l,J,"[Invalid Chunk]"),_=!1;break}else Zi(this.i,this.l,Ue,null),Zr(this,Ue);if($l(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||J.length!=0||this.h.h||(this.s=1,te(16),_=!1),this.o=this.o&&_,!_)Zi(this.i,this.l,J,"[Invalid Chunked Response]"),ke(this),Qn(this);else if(0<J.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),ls(De),De.M=!0,te(11))}}else Zi(this.i,this.l,J,null),Zr(this,J);Ae==4&&ke(this),this.o&&!this.J&&(Ae==4?lu(this.j,this):(this.o=!1,$r(this)))}else Th(this.g),_==400&&0<J.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),ke(this),Qn(this)}}}catch{}finally{}};function $l(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Zl(c,m){var _=c.C,A=m.indexOf(`
`,_);return A==-1?qs:(_=Number(m.substring(_,A)),isNaN(_)?uo:(A+=1,A+_>m.length?qs:(m=m.slice(A,A+_),c.C=A+_,m)))}$e.prototype.cancel=function(){this.J=!0,ke(this)};function $r(c){c.S=Date.now()+c.I,Wl(c,c.I)}function Wl(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=de(V(c.ba,c),m)}function Ji(c){c.B&&(p.clearTimeout(c.B),c.B=null)}$e.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Xl(this.i,this.A),this.L!=2&&($i(),te(17)),ke(this),this.s=2,Qn(this)):Wl(this,this.S-c)};function Qn(c){c.j.G==0||c.J||lu(c.j,c)}function ke(c){Ji(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,Qr(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function Zr(c,m){try{var _=c.j;if(_.G!=0&&(_.g==c||co(_.h,c))){if(!c.K&&co(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ta(_),Ws(_);else break t;To(_),te(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=de(V(_.Za,_),6e3));if(1>=Gs(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else bi(_,11)}else if((c.K||_.g==c)&&ta(_),!At(m))for(U=_.Da.g.parse(m),m=0;m<U.length;m++){let kt=U[m];if(_.T=kt[0],kt=kt[1],_.G==2)if(kt[0]=="c"){_.K=kt[1],_.ia=kt[2];const De=kt[3];De!=null&&(_.la=De,_.j.info("VER="+_.la));const Ae=kt[4];Ae!=null&&(_.Aa=Ae,_.j.info("SVER="+_.Aa));const Ri=kt[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(A=1.5*Ri,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ue=c.g;if(Ue){const ti=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var q=A.h;q.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Fs(q,q.h),q.h=null))}if(A.D){const So=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(A.ya=So,Kt(A.I,A.D,So))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var J=c;if(A.qa=cu(A,A.J?A.ia:null,A.W),J.K){Ze(A.h,J);var Pt=J,Te=A.L;Te&&(Pt.I=Te),Pt.B&&(Ji(Pt),$r(Pt)),A.g=J}else au(A);0<_.i.length&&Js(_)}else kt[0]!="stop"&&kt[0]!="close"||bi(_,7);else _.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?bi(_,7):vo(_):kt[0]!="noop"&&_.l&&_.l.ta(kt),_.v=0)}}$i(4)}catch{}}var Jl=class{constructor(c,m){this.g=c,this.map=m}};function _i(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Gs(c){return c.h?1:c.g?c.g.size:0}function co(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Fs(c,m){c.g?c.g.add(m):c.h=m}function Ze(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}_i.prototype.cancel=function(){if(this.i=ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ho(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const _ of c.g.values())m=m.concat(_.D);return m}return it(c.i)}function yh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var m=[],_=c.length,A=0;A<_;A++)m.push(c[A]);return m}m=[],_=0;for(A in c)m[_++]=c[A];return m}function Ks(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var m=[];c=c.length;for(var _=0;_<c;_++)m.push(_);return m}m=[],_=0;for(const A in c)m[_++]=A;return m}}}function fo(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var _=Ks(c),A=yh(c),U=A.length,q=0;q<U;q++)m.call(void 0,A[q],_&&_[q],c)}var Wr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _h(c,m){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),U=null;if(0<=A){var q=c[_].substring(0,A);U=c[_].substring(A+1)}else q=c[_];m(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function me(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof me){this.h=c.h,Jr(this,c.j),this.o=c.o,this.g=c.g,tr(this,c.s),this.l=c.l;var m=c.i,_=new Ei;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),vi(this,_),this.m=c.m}else c&&(m=String(c).match(Wr))?(this.h=!1,Jr(this,m[1]||"",!0),this.o=vn(m[2]||""),this.g=vn(m[3]||"",!0),tr(this,m[4]),this.l=vn(m[5]||"",!0),vi(this,m[6]||"",!0),this.m=vn(m[7]||"")):(this.h=!1,this.i=new Ei(null,this.h))}me.prototype.toString=function(){var c=[],m=this.j;m&&c.push(es(m,mo,!0),":");var _=this.g;return(_||m=="file")&&(c.push("//"),(m=this.o)&&c.push(es(m,mo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(es(_,_.charAt(0)=="/"?vh:po,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",es(_,Qs)),c.join("")};function un(c){return new me(c)}function Jr(c,m,_){c.j=_?vn(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function tr(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function vi(c,m,_){m instanceof Ei?(c.i=m,eu(c.i,c.h)):(_||(m=es(m,Eh)),c.i=new Ei(m,c.h))}function Kt(c,m,_){c.i.set(m,_)}function ts(c){return Kt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function vn(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function es(c,m,_){return typeof c=="string"?(c=encodeURI(c).replace(m,tu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function tu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var mo=/[#\/\?@]/g,po=/[#\?:]/g,vh=/[#\?]/g,Eh=/[#\?@]/g,Qs=/#/g;function Ei(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function En(c){c.g||(c.g=new Map,c.h=0,c.i&&_h(c.i,function(m,_){c.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Ei.prototype,r.add=function(c,m){En(this),this.i=null,c=Yn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(m),this.h+=1,this};function Ti(c,m){En(c),m=Yn(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Ai(c,m){return En(c),m=Yn(c,m),c.g.has(m)}r.forEach=function(c,m){En(this),this.g.forEach(function(_,A){_.forEach(function(U){c.call(m,U,A,this)},this)},this)},r.na=function(){En(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const U=c[A];for(let q=0;q<U.length;q++)_.push(m[A])}return _},r.V=function(c){En(this);let m=[];if(typeof c=="string")Ai(this,c)&&(m=m.concat(this.g.get(Yn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)m=m.concat(c[_])}return m},r.set=function(c,m){return En(this),this.i=null,c=Yn(this,c),Ai(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function go(c,m,_){Ti(c,m),0<_.length&&(c.i=null,c.g.set(Yn(c,m),it(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const q=encodeURIComponent(String(A)),J=this.V(A);for(A=0;A<J.length;A++){var U=q;J[A]!==""&&(U+="="+encodeURIComponent(String(J[A]))),c.push(U)}}return this.i=c.join("&")};function Yn(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function eu(c,m){m&&!c.j&&(En(c),c.i=null,c.g.forEach(function(_,A){var U=A.toLowerCase();A!=U&&(Ti(this,A),go(this,U,_))},c)),c.j=m}function ns(c,m){const _=new _n;if(p.Image){const A=new Image;A.onload=j(Tn,_,"TestLoadImage: loaded",!0,m,A),A.onerror=j(Tn,_,"TestLoadImage: error",!1,m,A),A.onabort=j(Tn,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=j(Tn,_,"TestLoadImage: timeout",!1,m,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function Pn(c,m){const _=new _n,A=new AbortController,U=setTimeout(()=>{A.abort(),Tn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(q=>{clearTimeout(U),q.ok?Tn(_,"TestPingServer: ok",!0,m):Tn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Tn(_,"TestPingServer: error",!1,m)})}function Tn(c,m,_,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(_)}catch{}}function is(){this.g=new Yr}function Xn(c,m,_){const A=_||"";try{fo(c,function(U,q){let J=U;y(U)&&(J=Vn(U)),m.push(A+q+"="+encodeURIComponent(J))})}catch(U){throw m.push(A+"type="+encodeURIComponent("_badmap")),U}}function er(c){this.l=c.Ub||null,this.j=c.eb||!1}$(er,io),er.prototype.g=function(){return new Si(this.l,this.j)},er.prototype.i=function(c){return function(){return c}}({});function Si(c,m){se.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(Si,se),r=Si.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Zn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function yo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?$n(this):Zn(this),this.readyState==3&&yo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,$n(this))},r.Qa=function(c){this.g&&(this.response=c,$n(this))},r.ga=function(){this.g&&$n(this)};function $n(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Zn(c)}r.setRequestHeader=function(c,m){this.u.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=m.next();return c.join(`\r
`)};function Zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function _o(c){let m="";return Mt(c,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function Ce(c,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=_o(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Kt(c,m,_))}function jt(c){se.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(jt,se);var Ys=/^https?$/i,rs=["POST","PUT"];r=jt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fn.g(),this.v=this.o?ro(this.o):ro(Fn),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){nu(this,q);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)_.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())_.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),U=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(rs,m,void 0))||A||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,J]of _)this.g.setRequestHeader(q,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ss(this),this.u=!0,this.g.send(c),this.u=!1}catch(q){nu(this,q)}};function nu(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,Xs(c),Wn(c)}function Xs(c){c.A||(c.A=!0,Ht(c,"complete"),Ht(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ht(this,"complete"),Ht(this,"abort"),Wn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wn(this,!0)),jt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?$s(this):this.bb())},r.bb=function(){$s(this)};function $s(c){if(c.h&&typeof f<"u"&&(!c.v[1]||An(c)!=4||c.Z()!=2)){if(c.u&&An(c)==4)He(c.Ea,0,c);else if(Ht(c,"readystatechange"),An(c)==4){c.h=!1;try{const J=c.Z();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=J===0){var U=String(c.D).match(Wr)[1]||null;!U&&p.self&&p.self.location&&(U=p.self.location.protocol.slice(0,-1)),A=!Ys.test(U?U.toLowerCase():"")}_=A}if(_)Ht(c,"complete"),Ht(c,"success");else{c.m=6;try{var q=2<An(c)?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.Z()+"]",Xs(c)}}finally{Wn(c)}}}}function Wn(c,m){if(c.g){ss(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Ht(c,"ready");try{_.onreadystatechange=A}catch{}}}function ss(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function An(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Bs(m)}};function iu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Th(c){const m={};c=(c.g&&2<=An(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(At(c[A]))continue;var _=M(c[A]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[U]||[];m[U]=q,q.push(_)}O(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function as(c,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||m}function Zs(c){this.Aa=0,this.i=[],this.j=new _n,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=as("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=as("baseRetryDelayMs",5e3,c),this.cb=as("retryDelaySeedMs",1e4,c),this.Wa=as("forwardChannelMaxRetries",2,c),this.wa=as("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new _i(c&&c.concurrentRequestLimit),this.Da=new is,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Zs.prototype,r.la=8,r.G=1,r.connect=function(c,m,_,A){te(0),this.W=c,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=cu(this,null,this.W),Js(this)};function vo(c){if(ru(c),c.G==3){var m=c.U++,_=un(c.I);if(Kt(_,"SID",c.K),Kt(_,"RID",m),Kt(_,"TYPE","terminate"),os(c,_),m=new $e(c,c.j,m),m.L=2,m.v=ts(un(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=m.v,_=!0),_||(m.g=hu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),$r(m)}uu(c)}function Ws(c){c.g&&(ls(c),c.g.cancel(),c.g=null)}function ru(c){Ws(c),c.u&&(p.clearTimeout(c.u),c.u=null),ta(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function Js(c){if(!Hs(c.h)&&!c.s){c.s=!0;var m=c.Ga;et||C(),ut||(et(),ut=!0),zt.add(m,c),c.B=0}}function Ah(c,m){return Gs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=de(V(c.Ga,c,m),Ao(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new $e(this,this.j,c);let q=this.o;if(this.S&&(q?(q=S(q),N(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=su(this,U,m),_=un(this.I),Kt(_,"RID",c),Kt(_,"CVER",22),this.D&&Kt(_,"X-HTTP-Session-Id",this.D),os(this,_),q&&(this.O?m="headers="+encodeURIComponent(String(_o(q)))+"&"+m:this.m&&Ce(_,this.m,q)),Fs(this.h,U),this.Ua&&Kt(_,"TYPE","init"),this.P?(Kt(_,"$req",m),Kt(_,"SID","null"),U.T=!0,Mn(U,_,null)):Mn(U,_,m),this.G=2}}else this.G==3&&(c?Eo(this,c):this.i.length==0||Hs(this.h)||Eo(this))};function Eo(c,m){var _;m?_=m.l:_=c.U++;const A=un(c.I);Kt(A,"SID",c.K),Kt(A,"RID",_),Kt(A,"AID",c.T),os(c,A),c.m&&c.o&&Ce(A,c.m,c.o),_=new $e(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),m&&(c.i=m.D.concat(c.i)),m=su(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Fs(c.h,_),Mn(_,A,m)}function os(c,m){c.H&&Mt(c.H,function(_,A){Kt(m,A,_)}),c.l&&fo({},function(_,A){Kt(m,A,_)})}function su(c,m,_){_=Math.min(c.i.length,_);var A=c.l?V(c.l.Na,c.l,c):null;t:{var U=c.i;let q=-1;for(;;){const J=["count="+_];q==-1?0<_?(q=U[0].g,J.push("ofs="+q)):q=0:J.push("ofs="+q);let Pt=!0;for(let Te=0;Te<_;Te++){let kt=U[Te].g;const De=U[Te].map;if(kt-=q,0>kt)q=Math.max(0,U[Te].g-100),Pt=!1;else try{Xn(De,J,"req"+kt+"_")}catch{A&&A(De)}}if(Pt){A=J.join("&");break t}}}return c=c.i.splice(0,_),m.D=c,A}function au(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;et||C(),ut||(et(),ut=!0),zt.add(m,c),c.v=0}}function To(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=de(V(c.Fa,c),Ao(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=de(V(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Ws(this),ou(this))};function ls(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function ou(c){c.g=new $e(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=un(c.qa);Kt(m,"RID","rpc"),Kt(m,"SID",c.K),Kt(m,"AID",c.T),Kt(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Kt(m,"TO",c.ja),Kt(m,"TYPE","xmlhttp"),os(c,m),c.m&&c.o&&Ce(m,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ts(un(m)),_.m=null,_.P=!0,yi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Ws(this),To(this),te(19))};function ta(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function lu(c,m){var _=null;if(c.g==m){ta(c),ls(c),c.g=null;var A=2}else if(co(c.h,m))_=m.D,Ze(c.h,m),A=1;else return;if(c.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var U=c.B;A=Xi(),Ht(A,new Ee(A,_)),Js(c)}else au(c);else if(U=m.s,U==3||U==0&&0<m.X||!(A==1&&Ah(c,m)||A==2&&To(c)))switch(_&&0<_.length&&(m=c.h,m.i=m.i.concat(_)),U){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function Ao(c,m){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*m}function bi(c,m){if(c.j.info("Error code "+m),m==2){var _=V(c.fb,c),A=c.Xa;const U=!A;A=new me(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Jr(A,"https"),ts(A),U?ns(A.toString(),_):Pn(A.toString(),_)}else te(2);c.G=0,c.l&&c.l.sa(m),uu(c),ru(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function uu(c){if(c.G=0,c.ka=[],c.l){const m=ho(c.h);(m.length!=0||c.i.length!=0)&&(Z(c.ka,m),Z(c.ka,c.i),c.h.i.length=0,it(c.i),c.i.length=0),c.l.ra()}}function cu(c,m,_){var A=_ instanceof me?un(_):new me(_);if(A.g!="")m&&(A.g=m+"."+A.g),tr(A,A.s);else{var U=p.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var q=new me(null);A&&Jr(q,A),m&&(q.g=m),U&&tr(q,U),_&&(q.l=_),A=q}return _=c.D,m=c.ya,_&&m&&Kt(A,_,m),Kt(A,"VER",c.la),os(c,A),A}function hu(c,m,_){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new jt(new er({eb:_})):new jt(c.pa),m.Ha(c.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function fu(){}r=fu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ea(){}ea.prototype.g=function(c,m){return new We(c,m)};function We(c,m){se.call(this),this.g=new Zs(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!At(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!At(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Jn(this)}$(We,se),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){vo(this.g)},We.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Vn(c),c=_);m.i.push(new Jl(m.Ya++,c)),m.G==3&&Js(m)},We.prototype.N=function(){this.g.l=null,delete this.j,vo(this.g),delete this.g,We.aa.N.call(this)};function du(c){pi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const _ in m){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}$(du,pi);function mu(){ao.call(this),this.status=1}$(mu,ao);function Jn(c){this.g=c}$(Jn,fu),Jn.prototype.ua=function(){Ht(this.g,"a")},Jn.prototype.ta=function(c){Ht(this.g,new du(c))},Jn.prototype.sa=function(c){Ht(this.g,new mu)},Jn.prototype.ra=function(){Ht(this.g,"b")},ea.prototype.createWebChannel=ea.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,DE=function(){return new ea},CE=function(){return Xi()},IE=Gn,Bd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wi.NO_ERROR=0,Wi.TIMEOUT=8,Wi.HTTP_ERROR=6,Tc=Wi,gi.COMPLETE="complete",wE=gi,so.EventType=mi,mi.OPEN="a",mi.CLOSE="b",mi.ERROR="c",mi.MESSAGE="d",se.prototype.listen=se.prototype.K,fl=so,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,RE=jt}).apply(typeof pc<"u"?pc:typeof self<"u"?self:typeof window<"u"?window:{});const H_="@firebase/firestore",G_="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xa="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new cm("@firebase/firestore");function Na(){return Ds.logLevel}function rt(r,...t){if(Ds.logLevel<=Nt.DEBUG){const n=t.map(dm);Ds.debug(`Firestore (${Xa}): ${r}`,...n)}}function Hi(r,...t){if(Ds.logLevel<=Nt.ERROR){const n=t.map(dm);Ds.error(`Firestore (${Xa}): ${r}`,...n)}}function za(r,...t){if(Ds.logLevel<=Nt.WARN){const n=t.map(dm);Ds.warn(`Firestore (${Xa}): ${r}`,...n)}}function dm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,NE(r,s,n)}function NE(r,t,n){let s=`FIRESTORE (${Xa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Hi(s),new Error(s)}function qt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||NE(t,o,s)}function Tt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Ki{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class oR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}}class lR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uR{constructor(t){this.t=t,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){qt(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Vr,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;t.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},p=g=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Vr)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new OE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Qe(t)}}class cR{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hR{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new cR(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class F_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){qt(this.o===void 0,3512);const s=u=>{u.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,rt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new F_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new F_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=dR(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Rt(r,t){return r<t?-1:r>t?1:0}function jd(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return Rt(s,o);{const u=VE(),f=mR(u.encode(K_(r,n)),u.encode(K_(t,n)));return f!==0?f:Rt(s,o)}}n+=s>65535?2:1}return Rt(r.length,t.length)}function K_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function mR(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Rt(r[n],t[n]);return Rt(r.length,t.length)}function Ba(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=-62135596800,Y_=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(t){return Re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Y_);return new Re(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new at(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new at(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Q_)throw new at(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y_}_compareTo(t){return this.seconds===t.seconds?Rt(this.nanoseconds,t.nanoseconds):Rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Q_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new Re(0,0))}static max(){return new Et(new Re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="__name__";class ai{constructor(t,n,s){n===void 0?n=0:n>t.length&&pt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&pt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ai.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ai?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=ai.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Rt(t.length,n.length)}static compareSegments(t,n){const s=ai.isNumericId(t),o=ai.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ai.extractNumericId(t).compare(ai.extractNumericId(n)):jd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Or.fromString(t.substring(4,t.length-2))}}class Jt extends ai{construct(t,n,s){return new Jt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new at(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Jt(n)}static emptyPath(){return new Jt([])}}const pR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends ai{construct(t,n,s){return new je(t,n,s)}static isValidIdentifier(t){return pR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X_}static keyField(){return new je([X_])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new at(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new at(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new at(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new at(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new je(n)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.path=t}static fromPath(t){return new ct(Jt.fromString(t))}static fromName(t){return new ct(Jt.fromString(t).popFirst(5))}static empty(){return new ct(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Jt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new Jt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=-1;function gR(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new Re(n+1,0):new Re(n,s));return new kr(o,ct.empty(),t)}function yR(r){return new kr(r.readTime,r.key,Il)}class kr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new kr(Et.min(),ct.empty(),Il)}static max(){return new kr(Et.max(),ct.empty(),Il)}}function _R(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=ct.comparator(r.documentKey,t.documentKey),n!==0?n:Rt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ER{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==vR)throw r;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Q((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Q.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Q.reject(n)}static resolve(t){return new Q((n,s)=>{n(t)})}static reject(t){return new Q((n,s)=>{s(t)})}static waitFor(t){return new Q((n,s)=>{let o=0,u=0,f=!1;t.forEach(p=>{++o,p.next(()=>{++u,f&&u===o&&n()},g=>s(g))}),f=!0,u===o&&n()})}static or(t){let n=Q.resolve(!1);for(const s of t)n=n.next(o=>o?Q.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new Q((s,o)=>{const u=t.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next(E=>{f[y]=E,++p,p===u&&s(f)},E=>o(E))}})}static doWhile(t,n){return new Q((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function TR(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Za(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}$c.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=-1;function Zc(r){return r==null}function Mc(r){return r===0&&1/r==-1/0}function AR(r){return typeof r=="number"&&Number.isInteger(r)&&!Mc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="";function SR(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=$_(t)),t=bR(r.get(n),t);return $_(t)}function bR(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case PE:n+="";break;default:n+=u}}return n}function $_(r){return r+PE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Ms(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function kE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t,n){this.comparator=t,this.root=n||Be.EMPTY}insert(t,n){return new ie(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(t){return new ie(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Be.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new gc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new gc(this.root,t,this.comparator,!1)}getReverseIterator(){return new gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new gc(this.root,t,this.comparator,!0)}}class gc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Be{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Be.RED,this.left=o??Be.EMPTY,this.right=u??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Be(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Be.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Be(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(t){this.comparator=t,this.data=new ie(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new W_(this.data.getIterator())}getIteratorFrom(t){return new W_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof we)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new we(this.comparator);return n.data=t,n}}class W_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this.fields=t,t.sort(je.comparator)}static empty(){return new Ln([])}unionWith(t){let n=new we(je.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Ln(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ba(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new UE("Invalid base64 string: "+u):u}}(t);return new qe(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const RR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(r){if(qt(!!r,39018),typeof r=="string"){let t=0;const n=RR.exec(r);if(qt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:he(r.seconds),nanos:he(r.nanos)}}function he(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function xr(r){return typeof r=="string"?qe.fromBase64String(r):qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="server_timestamp",LE="__type__",zE="__previous_value__",BE="__local_write_time__";function pm(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[LE])===null||n===void 0?void 0:n.stringValue)===xE}function Wc(r){const t=r.mapValue.fields[zE];return pm(t)?Wc(t):t}function Cl(r){const t=Ur(r.mapValue.fields[BE].timestampValue);return new Re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(t,n,s,o,u,f,p,g,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y}}const Pc="(default)";class Dl{constructor(t,n){this.projectId=t,this.database=n||Pc}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===Pc}isEqual(t){return t instanceof Dl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="__type__",IR="__max__",yc={mapValue:{}},qE="__vector__",kc="value";function Lr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?pm(r)?4:DR(r)?9007199254740991:CR(r)?10:11:pt(28295,{value:r})}function ci(r,t){if(r===t)return!0;const n=Lr(r);if(n!==Lr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Cl(r).isEqual(Cl(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ur(o.timestampValue),p=Ur(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return xr(o.bytesValue).isEqual(xr(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return he(o.geoPointValue.latitude)===he(u.geoPointValue.latitude)&&he(o.geoPointValue.longitude)===he(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return he(o.integerValue)===he(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=he(o.doubleValue),p=he(u.doubleValue);return f===p?Mc(f)===Mc(p):isNaN(f)&&isNaN(p)}return!1}(r,t);case 9:return Ba(r.arrayValue.values||[],t.arrayValue.values||[],ci);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Z_(f)!==Z_(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!ci(f[g],p[g])))return!1;return!0}(r,t);default:return pt(52216,{left:r})}}function Nl(r,t){return(r.values||[]).find(n=>ci(n,t))!==void 0}function ja(r,t){if(r===t)return 0;const n=Lr(r),s=Lr(t);if(n!==s)return Rt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Rt(r.booleanValue,t.booleanValue);case 2:return function(u,f){const p=he(u.integerValue||u.doubleValue),g=he(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1}(r,t);case 3:return J_(r.timestampValue,t.timestampValue);case 4:return J_(Cl(r),Cl(t));case 5:return jd(r.stringValue,t.stringValue);case 6:return function(u,f){const p=xr(u),g=xr(f);return p.compareTo(g)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const p=u.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const E=Rt(p[y],g[y]);if(E!==0)return E}return Rt(p.length,g.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const p=Rt(he(u.latitude),he(f.latitude));return p!==0?p:Rt(he(u.longitude),he(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return tv(r.arrayValue,t.arrayValue);case 10:return function(u,f){var p,g,y,E;const b=u.fields||{},V=f.fields||{},j=(p=b[kc])===null||p===void 0?void 0:p.arrayValue,$=(g=V[kc])===null||g===void 0?void 0:g.arrayValue,it=Rt(((y=j==null?void 0:j.values)===null||y===void 0?void 0:y.length)||0,((E=$==null?void 0:$.values)===null||E===void 0?void 0:E.length)||0);return it!==0?it:tv(j,$)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===yc.mapValue&&f===yc.mapValue)return 0;if(u===yc.mapValue)return 1;if(f===yc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const V=jd(g[b],E[b]);if(V!==0)return V;const j=ja(p[g[b]],y[E[b]]);if(j!==0)return j}return Rt(g.length,E.length)}(r.mapValue,t.mapValue);default:throw pt(23264,{Pe:n})}}function J_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Rt(r,t);const n=Ur(r),s=Ur(t),o=Rt(n.seconds,s.seconds);return o!==0?o:Rt(n.nanos,s.nanos)}function tv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ja(n[o],s[o]);if(u)return u}return Rt(n.length,s.length)}function qa(r){return qd(r)}function qd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Ur(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return xr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ct.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=qd(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${qd(n.fields[f])}`;return o+"}"}(r.mapValue):pt(61005,{value:r})}function Ac(r){switch(Lr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Wc(r);return t?16+Ac(t):16;case 5:return 2*r.stringValue.length;case 6:return xr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Ac(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Ms(s.fields,(u,f)=>{o+=u.length+Ac(f)}),o}(r.mapValue);default:throw pt(13486,{value:r})}}function ev(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Hd(r){return!!r&&"integerValue"in r}function gm(r){return!!r&&"arrayValue"in r}function nv(r){return!!r&&"nullValue"in r}function iv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Sc(r){return!!r&&"mapValue"in r}function CR(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[jE])===null||n===void 0?void 0:n.stringValue)===qE}function yl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Ms(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=yl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=yl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function DR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===IR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this.value=t}static empty(){return new On({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Sc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=yl(n)}setAll(t){let n=je.emptyPath(),s={},o=[];t.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=yl(f):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Sc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ci(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Sc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Ms(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new On(yl(this.value))}}function HE(r){const t=[];return Ms(r.fields,(n,s)=>{const o=new je([n]);if(Sc(s)){const u=HE(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new Ln(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,n,s,o,u,f,p){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(t){return new Ye(t,0,Et.min(),Et.min(),Et.min(),On.empty(),0)}static newFoundDocument(t,n,s,o){return new Ye(t,1,n,Et.min(),s,o,0)}static newNoDocument(t,n){return new Ye(t,2,n,Et.min(),Et.min(),On.empty(),0)}static newUnknownDocument(t,n){return new Ye(t,3,n,Et.min(),Et.min(),On.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ye&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(t,n){this.position=t,this.inclusive=n}}function rv(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=ct.comparator(ct.fromName(f.referenceValue),n.key):s=ja(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function sv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ci(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t,n="asc"){this.field=t,this.dir=n}}function NR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{}class ve extends GE{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new VR(t,n,s):n==="array-contains"?new kR(t,s):n==="in"?new UR(t,s):n==="not-in"?new xR(t,s):n==="array-contains-any"?new LR(t,s):new ve(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new MR(t,s):new PR(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ja(n,this.value)):n!==null&&Lr(this.value)===Lr(n)&&this.matchesComparison(ja(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends GE{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new jn(t,n)}matches(t){return FE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function FE(r){return r.op==="and"}function KE(r){return OR(r)&&FE(r)}function OR(r){for(const t of r.filters)if(t instanceof jn)return!1;return!0}function Gd(r){if(r instanceof ve)return r.field.canonicalString()+r.op.toString()+qa(r.value);if(KE(r))return r.filters.map(t=>Gd(t)).join(",");{const t=r.filters.map(n=>Gd(n)).join(",");return`${r.op}(${t})`}}function QE(r,t){return r instanceof ve?function(s,o){return o instanceof ve&&s.op===o.op&&s.field.isEqual(o.field)&&ci(s.value,o.value)}(r,t):r instanceof jn?function(s,o){return o instanceof jn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,p)=>u&&QE(f,o.filters[p]),!0):!1}(r,t):void pt(19439)}function YE(r){return r instanceof ve?function(n){return`${n.field.canonicalString()} ${n.op} ${qa(n.value)}`}(r):r instanceof jn?function(n){return n.op.toString()+" {"+n.getFilters().map(YE).join(" ,")+"}"}(r):"Filter"}class VR extends ve{constructor(t,n,s){super(t,n,s),this.key=ct.fromName(s.referenceValue)}matches(t){const n=ct.comparator(t.key,this.key);return this.matchesComparison(n)}}class MR extends ve{constructor(t,n){super(t,"in",n),this.keys=XE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class PR extends ve{constructor(t,n){super(t,"not-in",n),this.keys=XE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function XE(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ct.fromName(s.referenceValue))}class kR extends ve{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return gm(n)&&Nl(n.arrayValue,this.value)}}class UR extends ve{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Nl(this.value.arrayValue,n)}}class xR extends ve{constructor(t,n){super(t,"not-in",n)}matches(t){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nl(this.value.arrayValue,n)}}class LR extends ve{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!gm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Nl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(t,n=null,s=[],o=[],u=null,f=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Ie=null}}function av(r,t=null,n=[],s=[],o=null,u=null,f=null){return new zR(r,t,n,s,o,u,f)}function ym(r){const t=Tt(r);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Gd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Zc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>qa(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>qa(s)).join(",")),t.Ie=n}return t.Ie}function _m(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!NR(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!QE(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!sv(r.startAt,t.startAt)&&sv(r.endAt,t.endAt)}function Fd(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t,n=null,s=[],o=[],u=null,f="F",p=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function BR(r,t,n,s,o,u,f,p){return new Wa(r,t,n,s,o,u,f,p)}function Jc(r){return new Wa(r)}function ov(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function $E(r){return r.collectionGroup!==null}function _l(r){const t=Tt(r);if(t.Ee===null){t.Ee=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new we(je.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(p=p.add(y.field))})}),p})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new Ol(u,s))}),n.has(je.keyField().canonicalString())||t.Ee.push(new Ol(je.keyField(),s))}return t.Ee}function oi(r){const t=Tt(r);return t.de||(t.de=jR(t,_l(r))),t.de}function jR(r,t){if(r.limitType==="F")return av(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ol(o.field,u)});const n=r.endAt?new Uc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Uc(r.startAt.position,r.startAt.inclusive):null;return av(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Kd(r,t){const n=r.filters.concat([t]);return new Wa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Qd(r,t,n){return new Wa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function th(r,t){return _m(oi(r),oi(t))&&r.limitType===t.limitType}function ZE(r){return`${ym(oi(r))}|lt:${r.limitType}`}function Oa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>YE(o)).join(", ")}]`),Zc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>qa(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>qa(o)).join(",")),`Target(${s})`}(oi(r))}; limitType=${r.limitType})`}function eh(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ct.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of _l(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,p,g){const y=rv(f,p,g);return f.inclusive?y<=0:y<0}(s.startAt,_l(s),o)||s.endAt&&!function(f,p,g){const y=rv(f,p,g);return f.inclusive?y>=0:y>0}(s.endAt,_l(s),o))}(r,t)}function qR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function WE(r){return(t,n)=>{let s=!1;for(const o of _l(r)){const u=HR(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function HR(r,t,n){const s=r.field.isKeyField()?ct.comparator(t.key,n.key):function(u,f,p){const g=f.data.field(u),y=p.data.field(u);return g!==null&&y!==null?ja(g,y):pt(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return pt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ms(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return kE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=new ie(ct.comparator);function Gi(){return GR}const JE=new ie(ct.comparator);function dl(...r){let t=JE;for(const n of r)t=t.insert(n.key,n);return t}function tT(r){let t=JE;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Rs(){return vl()}function eT(){return vl()}function vl(){return new Ps(r=>r.toString(),(r,t)=>r.isEqual(t))}const FR=new ie(ct.comparator),KR=new we(ct.comparator);function Ot(...r){let t=KR;for(const n of r)t=t.add(n);return t}const QR=new we(Rt);function YR(){return QR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mc(t)?"-0":t}}function nT(r){return{integerValue:""+r}}function XR(r,t){return AR(t)?nT(t):vm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(){this._=void 0}}function $R(r,t,n){return r instanceof Vl?function(o,u){const f={fields:{[LE]:{stringValue:xE},[BE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&pm(u)&&(u=Wc(u)),u&&(f.fields[zE]=u),{mapValue:f}}(n,t):r instanceof Ml?rT(r,t):r instanceof Pl?sT(r,t):function(o,u){const f=iT(o,u),p=lv(f)+lv(o.Re);return Hd(f)&&Hd(o.Re)?nT(p):vm(o.serializer,p)}(r,t)}function ZR(r,t,n){return r instanceof Ml?rT(r,t):r instanceof Pl?sT(r,t):n}function iT(r,t){return r instanceof xc?function(s){return Hd(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Vl extends nh{}class Ml extends nh{constructor(t){super(),this.elements=t}}function rT(r,t){const n=aT(t);for(const s of r.elements)n.some(o=>ci(o,s))||n.push(s);return{arrayValue:{values:n}}}class Pl extends nh{constructor(t){super(),this.elements=t}}function sT(r,t){let n=aT(t);for(const s of r.elements)n=n.filter(o=>!ci(o,s));return{arrayValue:{values:n}}}class xc extends nh{constructor(t,n){super(),this.serializer=t,this.Re=n}}function lv(r){return he(r.integerValue||r.doubleValue)}function aT(r){return gm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t,n){this.field=t,this.transform=n}}function JR(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Ml&&o instanceof Ml||s instanceof Pl&&o instanceof Pl?Ba(s.elements,o.elements,ci):s instanceof xc&&o instanceof xc?ci(s.Re,o.Re):s instanceof Vl&&o instanceof Vl}(r.transform,t.transform)}class tw{constructor(t,n){this.version=t,this.transformResults=n}}class Bn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Bn}static exists(t){return new Bn(void 0,t)}static updateTime(t){return new Bn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function bc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class ih{}function oT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Em(r.key,Bn.none()):new xl(r.key,r.data,Bn.none());{const n=r.data,s=On.empty();let o=new we(je.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ks(r.key,s,new Ln(o.toArray()),Bn.none())}}function ew(r,t,n){r instanceof xl?function(o,u,f){const p=o.value.clone(),g=cv(o.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):r instanceof ks?function(o,u,f){if(!bc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=cv(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(lT(o)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function El(r,t,n,s){return r instanceof xl?function(u,f,p,g){if(!bc(u.precondition,f))return p;const y=u.value.clone(),E=hv(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,t,n,s):r instanceof ks?function(u,f,p,g){if(!bc(u.precondition,f))return p;const y=hv(u.fieldTransforms,g,f),E=f.data;return E.setAll(lT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,t,n,s):function(u,f,p){return bc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(r,t,n)}function nw(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=iT(s.transform,o||null);u!=null&&(n===null&&(n=On.empty()),n.set(s.field,u))}return n||null}function uv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ba(s,o,(u,f)=>JR(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class xl extends ih{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ks extends ih{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function lT(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function cv(r,t,n){const s=new Map;qt(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=t.data.field(u.field);s.set(u.field,ZR(f,p,n[o]))}return s}function hv(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,$R(u,f,t))}return s}class Em extends ih{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iw extends ih{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&ew(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=El(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=El(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=eT();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const g=oT(f,p);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ot())}isEqual(t){return this.batchId===t.batchId&&Ba(this.mutations,t.mutations,(n,s)=>uv(n,s))&&Ba(this.baseMutations,t.baseMutations,(n,s)=>uv(n,s))}}class Tm{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){qt(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let o=function(){return FR}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Tm(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,xt;function ow(r){switch(r){case Y.OK:return pt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function uT(r){if(r===void 0)return Hi("GRPC error has no .code"),Y.UNKNOWN;switch(r){case ye.OK:return Y.OK;case ye.CANCELLED:return Y.CANCELLED;case ye.UNKNOWN:return Y.UNKNOWN;case ye.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case ye.INTERNAL:return Y.INTERNAL;case ye.UNAVAILABLE:return Y.UNAVAILABLE;case ye.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case ye.NOT_FOUND:return Y.NOT_FOUND;case ye.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case ye.ABORTED:return Y.ABORTED;case ye.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case ye.DATA_LOSS:return Y.DATA_LOSS;default:return pt(39323,{code:r})}}(xt=ye||(ye={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=new Or([4294967295,4294967295],0);function fv(r){const t=VE().encode(r),n=new bE;return n.update(t),new Uint8Array(n.digest())}function dv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Or([n,s],0),new Or([o,u],0)]}class Am{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ml(`Invalid padding: ${n}`);if(s<0)throw new ml(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new ml(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new ml(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Or.fromNumber(this.pe)}we(t,n,s){let o=t.add(n.multiply(Or.fromNumber(s)));return o.compare(lw)===1&&(o=new Or([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=fv(t),[s,o]=dv(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Am(u,o,n);return s.forEach(p=>f.insert(p)),f}insert(t){if(this.pe===0)return;const n=fv(t),[s,o]=dv(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Ll.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new rh(Et.min(),o,new ie(Rt),Gi(),Ot())}}class Ll{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Ll(s,n,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,n,s,o){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=o}}class cT{constructor(t,n){this.targetId=t,this.Ce=n}}class hT{constructor(t,n,s=qe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class mv{constructor(){this.Fe=0,this.Me=pv(),this.xe=qe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Ot(),n=Ot(),s=Ot();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:pt(38017,{changeType:u})}}),new Ll(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=pv()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class uw{constructor(t){this.ze=t,this.je=new Map,this.He=Gi(),this.Je=_c(),this.Ye=_c(),this.Ze=new ie(Rt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:pt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(t){const n=t.targetId,s=t.Ce.count,o=this._t(n);if(o){const u=o.target;if(Fd(u))if(s===0){const f=new ct(u.path);this.tt(n,f,Ye.newNoDocument(f,Et.min()))}else qt(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const p=this.ct(t),g=p?this.lt(p,t,f):1;if(g!==0){this.st(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=xr(s).toUint8Array()}catch(g){if(g instanceof UE)return za("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Am(f,o,u)}catch(g){return za(g instanceof ml?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.pe===0?null:p}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.tt(n,u,null),o++)}),o}It(t){const n=new Map;this.je.forEach((u,f)=>{const p=this._t(f);if(p){if(u.current&&Fd(p.target)){const g=new ct(p.target.path);this.Et(g).has(f)||this.dt(f,g)||this.tt(f,g,Ye.newNoDocument(g,t))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=Ot();this.Ye.forEach((u,f)=>{let p=!0;f.forEachWhile(g=>{const y=this._t(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(t));const o=new rh(t,n,this.Ze,this.He,s);return this.He=Gi(),this.Je=_c(),this.Ye=_c(),this.Ze=new ie(Rt),o}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const o=this.rt(t);this.dt(t,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new mv,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new we(Rt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new we(Rt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||rt("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new mv),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function _c(){return new ie(ct.comparator)}function pv(){return new ie(ct.comparator)}const cw={asc:"ASCENDING",desc:"DESCENDING"},hw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fw={and:"AND",or:"OR"};class dw{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Yd(r,t){return r.useProto3Json||Zc(t)?t:{value:t}}function Lc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function mw(r,t){return Lc(r,t.toTimestamp())}function li(r){return qt(!!r,49232),Et.fromTimestamp(function(n){const s=Ur(n);return new Re(s.seconds,s.nanos)}(r))}function Sm(r,t){return Xd(r,t).canonicalString()}function Xd(r,t){const n=function(o){return new Jt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function dT(r){const t=Jt.fromString(r);return qt(_T(t),10190,{key:t.toString()}),t}function $d(r,t){return Sm(r.databaseId,t.path)}function Rd(r,t){const n=dT(t);if(n.get(1)!==r.databaseId.projectId)throw new at(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new at(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ct(pT(n))}function mT(r,t){return Sm(r.databaseId,t)}function pw(r){const t=dT(r);return t.length===4?Jt.emptyPath():pT(t)}function Zd(r){return new Jt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function pT(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function gv(r,t,n){return{name:$d(r,t),fields:n.value.mapValue.fields}}function gw(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:pt(39313,{state:y})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(qt(E===void 0||typeof E=="string",58123),qe.fromBase64String(E||"")):(qt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),qe.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,p=f&&function(y){const E=y.code===void 0?Y.UNKNOWN:uT(y.code);return new at(E,y.message||"")}(f);n=new hT(s,o,u,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Rd(r,s.document.name),u=li(s.document.updateTime),f=s.document.createTime?li(s.document.createTime):Et.min(),p=new On({mapValue:{fields:s.document.fields}}),g=Ye.newFoundDocument(o,u,f,p),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Rc(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Rd(r,s.document),u=s.readTime?li(s.readTime):Et.min(),f=Ye.newNoDocument(o,u),p=s.removedTargetIds||[];n=new Rc([],p,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Rd(r,s.document),u=s.removedTargetIds||[];n=new Rc([],u,o,null)}else{if(!("filter"in t))return pt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new aw(o,u),p=s.targetId;n=new cT(p,f)}}return n}function yw(r,t){let n;if(t instanceof xl)n={update:gv(r,t.key,t.value)};else if(t instanceof Em)n={delete:$d(r,t.key)};else if(t instanceof ks)n={update:gv(r,t.key,t.data),updateMask:ww(t.fieldMask)};else{if(!(t instanceof iw))return pt(16599,{ft:t.type});n={verify:$d(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const p=f.transform;if(p instanceof Vl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ml)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Pl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof xc)return{fieldPath:f.field.canonicalString(),increment:p.Re};throw pt(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:mw(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:pt(27497)}(r,t.precondition)),n}function _w(r,t){return r&&r.length>0?(qt(t!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?li(o.updateTime):li(u);return f.isEqual(Et.min())&&(f=li(u)),new tw(f,o.transformResults||[])}(n,t))):[]}function vw(r,t){return{documents:[mT(r,t.path)]}}function Ew(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=mT(r,o);const u=function(y){if(y.length!==0)return yT(jn.create(y,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(V){return{field:Va(V.field),direction:Sw(V.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const p=Yd(r,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{gt:n,parent:o}}function Tw(r){let t=pw(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){qt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(b){const V=gT(b);return V instanceof jn&&KE(V)?V.getFilters():[V]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(V=>function($){return new Ol(Ma($.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(V))}(n.orderBy));let p=null;n.limit&&(p=function(b){let V;return V=typeof b=="object"?b.value:b,Zc(V)?null:V}(n.limit));let g=null;n.startAt&&(g=function(b){const V=!!b.before,j=b.values||[];return new Uc(j,V)}(n.startAt));let y=null;return n.endAt&&(y=function(b){const V=!b.before,j=b.values||[];return new Uc(j,V)}(n.endAt)),BR(t,o,f,u,p,"F",g,y)}function Aw(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function gT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ma(n.unaryFilter.field);return ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ma(n.unaryFilter.field);return ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ma(n.unaryFilter.field);return ve.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ma(n.unaryFilter.field);return ve.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}}(r):r.fieldFilter!==void 0?function(n){return ve.create(Ma(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return jn.create(n.compositeFilter.filters.map(s=>gT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt(1026)}}(n.compositeFilter.op))}(r):pt(30097,{filter:r})}function Sw(r){return cw[r]}function bw(r){return hw[r]}function Rw(r){return fw[r]}function Va(r){return{fieldPath:r.canonicalString()}}function Ma(r){return je.fromServerFormat(r.fieldPath)}function yT(r){return r instanceof ve?function(n){if(n.op==="=="){if(iv(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NAN"}};if(nv(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iv(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NOT_NAN"}};if(nv(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(n.field),op:bw(n.op),value:n.value}}}(r):r instanceof jn?function(n){const s=n.getFilters().map(o=>yT(o));return s.length===1?s[0]:{compositeFilter:{op:Rw(n.op),filters:s}}}(r):pt(54877,{filter:r})}function ww(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function _T(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(t,n,s,o,u=Et.min(),f=Et.min(),p=qe.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new Ir(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(t){this.wt=t}}function Cw(r){const t=Tw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Qd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(){this.yn=new Nw}addToCollectionParentIndex(t,n){return this.yn.add(n),Q.resolve()}getCollectionParents(t,n){return Q.resolve(this.yn.getEntries(n))}addFieldIndex(t,n){return Q.resolve()}deleteFieldIndex(t,n){return Q.resolve()}deleteAllFieldIndexes(t){return Q.resolve()}createTargetIndexes(t,n){return Q.resolve()}getDocumentsMatchingTarget(t,n){return Q.resolve(null)}getIndexType(t,n){return Q.resolve(0)}getFieldIndexes(t,n){return Q.resolve([])}getNextCollectionGroupToUpdate(t){return Q.resolve(null)}getMinOffset(t,n){return Q.resolve(kr.min())}getMinOffsetFromCollectionGroup(t,n){return Q.resolve(kr.min())}updateCollectionGroup(t,n,s){return Q.resolve()}updateIndexEntries(t,n){return Q.resolve()}}class Nw{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new we(Jt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new we(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vT=41943040;class an{static withCacheSize(t){return new an(t,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(vT,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new Ha(0)}static ir(){return new Ha(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="LruGarbageCollector",Ow=1048576;function vv([r,t],[n,s]){const o=Rt(r,n);return o===0?Rt(t,s):o}class Vw{constructor(t){this.cr=t,this.buffer=new we(vv),this.lr=0}hr(){return++this.lr}Pr(t){const n=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();vv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Mw{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){rt(_v,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Za(n)?rt(_v,"Ignoring IndexedDB error during garbage collection: ",n):await $a(n)}await this.Ir(3e5)})}}class Pw{constructor(t,n){this.Er=t,this.params=n}calculateTargetCount(t,n){return this.Er.dr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return Q.resolve($c.le);const s=new Vw(n);return this.Er.forEachTarget(t,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(t,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.Er.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Er.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(yv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yv):this.Rr(t,n))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,n){let s,o,u,f,p,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(t,o))).next(b=>(s=b,p=Date.now(),this.removeTargets(t,s,n))).next(b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(t,s))).next(b=>(y=Date.now(),Na()<=Nt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function kw(r,t){return new Pw(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(){this.changes=new Ps(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ye.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Q.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&El(s.mutation,o,Ln.empty(),Re.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Ot()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Ot()){const o=Rs();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=dl();return u.forEach((p,g)=>{f=f.insert(p,g.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Rs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Ot()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,p)=>{n.set(f,p)})})}computeViews(t,n,s,o){let u=Gi();const f=vl(),p=function(){return vl()}();return n.forEach((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof ks)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),El(E.mutation,y,E.mutation.getFieldMask(),Re.now())):f.set(y.key,Ln.empty())}),this.recalculateAndSaveOverlays(t,u).next(g=>(g.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var b;return p.set(y,new xw(E,(b=f.get(y))!==null&&b!==void 0?b:null))}),p))}recalculateAndSaveOverlays(t,n){const s=vl();let o=new ie((f,p)=>f-p),u=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const p of f)p.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||Ln.empty();E=p.applyToLocalView(y,E),s.set(g,E);const b=(o.get(p.batchId)||Ot()).add(g);o=o.insert(p.batchId,b)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,E=g.value,b=eT();E.forEach(V=>{if(!u.has(V)){const j=oT(n.get(V),s.get(V));j!==null&&b.set(V,j),u=u.add(V)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,b))}return Q.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return ct.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):$E(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):Q.resolve(Rs());let p=Il,g=u;return f.next(y=>Q.forEach(y,(E,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),u.get(E)?Q.resolve():this.remoteDocumentCache.getEntry(t,E).next(V=>{g=g.insert(E,V)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,g,y,Ot())).next(E=>({batchId:p,changes:tT(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ct(n)).next(s=>{let o=dl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=dl();return this.indexManager.getCollectionParents(t,u).next(p=>Q.forEach(p,g=>{const y=function(b,V){return new Wa(V,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next(E=>{E.forEach((b,V)=>{f=f.insert(b,V)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Ye.newInvalidDocument(E)))});let p=dl();return f.forEach((g,y)=>{const E=u.get(g);E!==void 0&&El(E.mutation,y,Ln.empty(),Re.now()),eh(n,y)&&(p=p.insert(g,y))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,n){return Q.resolve(this.Fr.get(n))}saveBundleMetadata(t,n){return this.Fr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:li(o.createTime)}}(n)),Q.resolve()}getNamedQuery(t,n){return Q.resolve(this.Mr.get(n))}saveNamedQuery(t,n){return this.Mr.set(n.name,function(o){return{name:o.name,query:Cw(o.bundledQuery),readTime:li(o.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.overlays=new ie(ct.comparator),this.Or=new Map}getOverlay(t,n){return Q.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Rs();return Q.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.St(t,n,u)}),Q.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(s)),Q.resolve()}getOverlaysForCollection(t,n,s){const o=Rs(),u=n.length+1,f=new ct(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return Q.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ie((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Rs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=Rs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>p.set(y,E)),!(p.size()>=o)););return Q.resolve(p)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new sw(n,s));let u=this.Or.get(n);u===void 0&&(u=Ot(),this.Or.set(n,u)),this.Or.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(t){return Q.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this.Nr=new we(Me.Br),this.Lr=new we(Me.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,n){const s=new Me(t,n);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Qr(new Me(t,n))}$r(t,n){t.forEach(s=>this.removeReference(s,n))}Ur(t){const n=new ct(new Jt([])),s=new Me(n,t),o=new Me(n,t+1),u=[];return this.Lr.forEachInRange([s,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const n=new ct(new Jt([])),s=new Me(n,t),o=new Me(n,t+1);let u=Ot();return this.Lr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Me(t,0),s=this.Nr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Me{constructor(t,n){this.key=t,this.Gr=n}static Br(t,n){return ct.comparator(t.key,n.key)||Rt(t.Gr,n.Gr)}static kr(t,n){return Rt(t.Gr,n.Gr)||ct.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new we(Me.Br)}checkEmpty(t){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new rw(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.zr=this.zr.add(new Me(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Q.resolve(f)}lookupMutationBatch(t,n){return Q.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Hr(s),u=o<0?0:o;return Q.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?mm:this.Jn-1)}getAllMutationBatches(t){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Me(n,0),o=new Me(n,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([s,o],f=>{const p=this.jr(f.Gr);u.push(p)}),Q.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new we(Rt);return n.forEach(o=>{const u=new Me(o,0),f=new Me(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],p=>{s=s.add(p.Gr)})}),Q.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;ct.isDocumentKey(u)||(u=u.child(""));const f=new Me(new ct(u),0);let p=new we(Rt);return this.zr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Gr)),!0)},f),Q.resolve(this.Jr(p))}Jr(t){const n=[];return t.forEach(s=>{const o=this.jr(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){qt(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return Q.forEach(n.mutations,o=>{const u=new Me(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.zr=s})}Xn(t){}containsKey(t,n){const s=new Me(n,0),o=this.zr.firstAfterOrEqual(s);return Q.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Q.resolve()}Yr(t,n){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const n=this.Hr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t){this.Zr=t,this.docs=function(){return new ie(ct.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.Zr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Q.resolve(s?s.document.mutableCopy():Ye.newInvalidDocument(n))}getEntries(t,n){let s=Gi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ye.newInvalidDocument(o))}),Q.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Gi();const f=n.path,p=new ct(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||_R(yR(E),s)<=0||(o.has(E.key)||eh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Q.resolve(u)}getAllFromCollectionGroup(t,n,s,o){pt(9500)}Xr(t,n){return Q.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new Gw(this)}getSize(t){return Q.resolve(this.size)}}class Gw extends Uw{constructor(t){super(),this.vr=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.vr.addEntry(t,o)):this.vr.removeEntry(s)}),Q.waitFor(n)}getFromCache(t,n){return this.vr.getEntry(t,n)}getAllFromCache(t,n){return this.vr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t){this.persistence=t,this.ei=new Ps(n=>ym(n),_m),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ti=0,this.ni=new bm,this.targetCount=0,this.ri=Ha.rr()}forEachTarget(t,n){return this.ei.forEach((s,o)=>n(o)),Q.resolve()}getLastRemoteSnapshotVersion(t){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Q.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ti&&(this.ti=n),Q.resolve()}ar(t){this.ei.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ri=new Ha(n),this.highestTargetId=n),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,n){return this.ar(n),this.targetCount+=1,Q.resolve()}updateTargetData(t,n){return this.ar(n),Q.resolve()}removeTargetData(t,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ei.forEach((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)}),Q.waitFor(u).next(()=>o)}getTargetCount(t){return Q.resolve(this.targetCount)}getTargetData(t,n){const s=this.ei.get(n)||null;return Q.resolve(s)}addMatchingKeys(t,n,s){return this.ni.qr(n,s),Q.resolve()}removeMatchingKeys(t,n,s){this.ni.$r(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),Q.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.ni.Ur(n),Q.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ni.Wr(n);return Q.resolve(s)}containsKey(t,n){return Q.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(t,n){this.ii={},this.overlays={},this.si=new $c(0),this.oi=!1,this.oi=!0,this._i=new jw,this.referenceDelegate=t(this),this.ai=new Fw(this),this.indexManager=new Dw,this.remoteDocumentCache=function(o){return new Hw(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new Iw(n),this.ci=new zw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Bw,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ii[t.toKey()];return s||(s=new qw(n,this.referenceDelegate),this.ii[t.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,n,s){rt("MemoryPersistence","Starting transaction:",t);const o=new Kw(this.si.next());return this.referenceDelegate.li(),s(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(t,n){return Q.or(Object.values(this.ii).map(s=>()=>s.containsKey(t,n)))}}class Kw extends ER{constructor(t){super(),this.currentSequenceNumber=t}}class Rm{constructor(t){this.persistence=t,this.Ti=new bm,this.Ii=null}static Ei(t){return new Rm(t)}get di(){if(this.Ii)return this.Ii;throw pt(60996)}addReference(t,n,s){return this.Ti.addReference(s,n),this.di.delete(s.toString()),Q.resolve()}removeReference(t,n,s){return this.Ti.removeReference(s,n),this.di.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),Q.resolve()}removeTarget(t,n){this.Ti.Ur(n.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}li(){this.Ii=new Set}hi(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.di,s=>{const o=ct.fromPath(s);return this.Ai(t,o).next(u=>{u||n.removeEntry(o,Et.min())})}).next(()=>(this.Ii=null,n.apply(t)))}updateLimboDocument(t,n){return this.Ai(t,n).next(s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(t){return 0}Ai(t,n){return Q.or([()=>Q.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Pi(t,n)])}}class zc{constructor(t,n){this.persistence=t,this.Ri=new Ps(s=>SR(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=kw(this,n)}static Ei(t,n){return new zc(t,n)}li(){}hi(t){return Q.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}Vr(t){let n=0;return this.Ar(t,s=>{n++}).next(()=>n)}Ar(t,n){return Q.forEach(this.Ri,(s,o)=>this.gr(t,s,o).next(u=>u?Q.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(t,f=>this.gr(t,f,n).next(p=>{p||(s++,u.removeEntry(f,Et.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.Ri.set(n,t.currentSequenceNumber),Q.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.Ri.set(s,t.currentSequenceNumber),Q.resolve()}removeReference(t,n,s){return this.Ri.set(s,t.currentSequenceNumber),Q.resolve()}updateLimboDocument(t,n){return this.Ri.set(n,t.currentSequenceNumber),Q.resolve()}ui(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Ac(t.data.value)),n}gr(t,n,s){return Q.or([()=>this.persistence.Pi(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.Ri.get(n);return Q.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.ls=s,this.hs=o}static Ps(t,n){let s=Ot(),o=Ot();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new wm(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return jS()?8:TR(Xe())>0?6:4}()}initialize(t,n){this.As=t,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.Rs(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new Qw;return this.fs(t,n,f).next(p=>{if(u.result=p,this.Is)return this.gs(t,n,f,p.size)})}).next(()=>u.result)}gs(t,n,s,o){return s.documentReadCount<this.Es?(Na()<=Nt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Oa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Q.resolve()):(Na()<=Nt.DEBUG&&rt("QueryEngine","Query:",Oa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Na()<=Nt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Oa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,oi(n))):Q.resolve())}Rs(t,n){if(ov(n))return Q.resolve(null);let s=oi(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Qd(n,null,"F"),s=oi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Ot(...u);return this.As.getDocuments(t,f).next(p=>this.indexManager.getMinOffset(t,s).next(g=>{const y=this.ps(n,p);return this.ys(n,y,f,g.readTime)?this.Rs(t,Qd(n,null,"F")):this.ws(t,y,n,g)}))})))}Vs(t,n,s,o){return ov(n)||o.isEqual(Et.min())?Q.resolve(null):this.As.getDocuments(t,s).next(u=>{const f=this.ps(n,u);return this.ys(n,f,s,o)?Q.resolve(null):(Na()<=Nt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Oa(n)),this.ws(t,f,n,gR(o,Il)).next(p=>p))})}ps(t,n){let s=new we(WE(t));return n.forEach((o,u)=>{eh(t,u)&&(s=s.add(u))}),s}ys(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(t,n,s){return Na()<=Nt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Oa(n)),this.As.getDocumentsMatchingQuery(t,n,kr.min(),s)}ws(t,n,s,o){return this.As.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="LocalStore",Xw=3e8;class $w{constructor(t,n,s,o){this.persistence=t,this.bs=n,this.serializer=o,this.Ss=new ie(Rt),this.Ds=new Ps(u=>ym(u),_m),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(s)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Lw(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ss))}}function Zw(r,t,n,s){return new $w(r,t,n,s)}async function TT(r,t){const n=Tt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Fs(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],p=[];let g=Ot();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){p.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(y=>({Ms:y,removedBatchIds:f,addedBatchIds:p}))})})}function Ww(r,t){const n=Tt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Cs.newChangeBuffer({trackRemovals:!0});return function(p,g,y,E){const b=y.batch,V=b.keys();let j=Q.resolve();return V.forEach($=>{j=j.next(()=>E.getEntry(g,$)).next(it=>{const Z=y.docVersions.get($);qt(Z!==null,48541),it.version.compareTo(Z)<0&&(b.applyToRemoteDocument(it,y),it.isValidDocument()&&(it.setReadTime(y.commitVersion),E.addEntry(it)))})}),j.next(()=>p.mutationQueue.removeMutationBatch(g,b))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let g=Ot();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function AT(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.ai.getLastRemoteSnapshotVersion(n))}function Jw(r,t){const n=Tt(r),s=t.snapshotVersion;let o=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Cs.newChangeBuffer({trackRemovals:!0});o=n.Ss;const p=[];t.targetChanges.forEach((E,b)=>{const V=o.get(b);if(!V)return;p.push(n.ai.removeMatchingKeys(u,E.removedDocuments,b).next(()=>n.ai.addMatchingKeys(u,E.addedDocuments,b)));let j=V.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?j=j.withResumeToken(qe.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,s)),o=o.insert(b,j),function(it,Z,_t){return it.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=Xw?!0:_t.addedDocuments.size+_t.modifiedDocuments.size+_t.removedDocuments.size>0}(V,j,E)&&p.push(n.ai.updateTargetData(u,j))});let g=Gi(),y=Ot();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),p.push(t1(u,f,t.documentUpdates).next(E=>{g=E.xs,y=E.Os})),!s.isEqual(Et.min())){const E=n.ai.getLastRemoteSnapshotVersion(u).next(b=>n.ai.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(E)}return Q.waitFor(p).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(n.Ss=o,u))}function t1(r,t,n){let s=Ot(),o=Ot();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=Gi();return n.forEach((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Et.min())?(t.removeEntry(p,g.readTime),f=f.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(p,g)):rt(Im,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)}),{xs:f,Os:o}})}function e1(r,t){const n=Tt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=mm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function n1(r,t){const n=Tt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.ai.getTargetData(s,t).next(u=>u?(o=u,Q.resolve(o)):n.ai.allocateTargetId(s).next(f=>(o=new Ir(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(s.targetId,s),n.Ds.set(t,s.targetId)),s})}async function Wd(r,t,n){const s=Tt(r),o=s.Ss.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Za(f))throw f;rt(Im,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ss=s.Ss.remove(t),s.Ds.delete(o.target)}function Ev(r,t,n){const s=Tt(r);let o=Et.min(),u=Ot();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,E){const b=Tt(g),V=b.Ds.get(E);return V!==void 0?Q.resolve(b.Ss.get(V)):b.ai.getTargetData(y,E)}(s,f,oi(t)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(f,p.targetId).next(g=>{u=g})}).next(()=>s.bs.getDocumentsMatchingQuery(f,t,n?o:Et.min(),n?u:Ot())).next(p=>(i1(s,qR(t),p),{documents:p,Ns:u})))}function i1(r,t,n){let s=r.vs.get(t)||Et.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.vs.set(t,s)}class Tv{constructor(){this.activeTargetIds=YR()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class r1{constructor(){this.So=new Tv,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,n,s){this.Do[t]=n}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new Tv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="ConnectivityMonitor";class Sv{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){rt(Av,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){rt(Av,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc=null;function Jd(){return vc===null?vc=function(){return 268435456+Math.round(2147483648*Math.random())}():vc++,"0x"+vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="RestConnection",a1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class o1{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+t.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===Pc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(t,n,s,o,u){const f=Jd(),p=this.$o(t,n.toUriEncodedString());rt(wd,`Sending RPC '${t}' ${f}:`,p,s);const g={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(g,o,u),this.Ko(t,p,g,s).then(y=>(rt(wd,`Received RPC '${t}' ${f}: `,y),y),y=>{throw za(wd,`RPC '${t}' ${f} failed with error: `,y,"url: ",p,"request:",s),y})}Wo(t,n,s,o,u,f){return this.Qo(t,n,s,o,u)}Uo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}$o(t,n){const s=a1[t];return`${this.Lo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class u1 extends o1{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,n,s,o){const u=Jd();return new Promise((f,p)=>{const g=new RE;g.setWithCredentials(!0),g.listenOnce(wE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Tc.NO_ERROR:const E=g.getResponseJson();rt(Ke,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(E)),f(E);break;case Tc.TIMEOUT:rt(Ke,`RPC '${t}' ${u} timed out`),p(new at(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Tc.HTTP_ERROR:const b=g.getStatus();if(rt(Ke,`RPC '${t}' ${u} failed with status:`,b,"response text:",g.getResponseText()),b>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const j=V==null?void 0:V.error;if(j&&j.status&&j.message){const $=function(Z){const _t=Z.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(_t)>=0?_t:Y.UNKNOWN}(j.status);p(new at($,j.message))}else p(new at(Y.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new at(Y.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{s_:t,streamId:u,o_:g.getLastErrorCode(),__:g.getLastError()})}}finally{rt(Ke,`RPC '${t}' ${u} completed.`)}});const y=JSON.stringify(o);rt(Ke,`RPC '${t}' ${u} sending request:`,o),g.send(n,"POST",y,s,15)})}a_(t,n,s){const o=Jd(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=DE(),p=CE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Uo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");rt(Ke,`Creating RPC '${t}' stream ${o}: ${E}`,g);const b=f.createWebChannel(E,g);let V=!1,j=!1;const $=new l1({Go:Z=>{j?rt(Ke,`Not sending because RPC '${t}' stream ${o} is closed:`,Z):(V||(rt(Ke,`Opening RPC '${t}' stream ${o} transport.`),b.open(),V=!0),rt(Ke,`RPC '${t}' stream ${o} sending:`,Z),b.send(Z))},zo:()=>b.close()}),it=(Z,_t,At)=>{Z.listen(_t,ft=>{try{At(ft)}catch(Vt){setTimeout(()=>{throw Vt},0)}})};return it(b,fl.EventType.OPEN,()=>{j||(rt(Ke,`RPC '${t}' stream ${o} transport opened.`),$.t_())}),it(b,fl.EventType.CLOSE,()=>{j||(j=!0,rt(Ke,`RPC '${t}' stream ${o} transport closed`),$.r_())}),it(b,fl.EventType.ERROR,Z=>{j||(j=!0,za(Ke,`RPC '${t}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),$.r_(new at(Y.UNAVAILABLE,"The operation could not be completed")))}),it(b,fl.EventType.MESSAGE,Z=>{var _t;if(!j){const At=Z.data[0];qt(!!At,16349);const ft=At,Vt=(ft==null?void 0:ft.error)||((_t=ft[0])===null||_t===void 0?void 0:_t.error);if(Vt){rt(Ke,`RPC '${t}' stream ${o} received error:`,Vt);const yt=Vt.status;let Mt=function(w){const N=ye[w];if(N!==void 0)return uT(N)}(yt),O=Vt.message;Mt===void 0&&(Mt=Y.INTERNAL,O="Unknown error status: "+yt+" with message "+Vt.message),j=!0,$.r_(new at(Mt,O)),b.close()}else rt(Ke,`RPC '${t}' stream ${o} received:`,At),$.i_(At)}}),it(p,IE.STAT_EVENT,Z=>{Z.stat===Bd.PROXY?rt(Ke,`RPC '${t}' stream ${o} detected buffering proxy`):Z.stat===Bd.NOPROXY&&rt(Ke,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{$.n_()},0),$}}function Id(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(r){return new dw(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(t,n,s=1e3,o=1.5,u=6e4){this.bi=t,this.timerId=n,this.u_=s,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const n=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,n-s);o>0&&rt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="PersistentStream";class bT{constructor(t,n,s,o,u,f,p,g){this.bi=t,this.R_=s,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new ST(t,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Hi(n.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===n&&this.B_(s,o)},s=>{t(()=>{const o=new at(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(t,n){const s=this.N_(this.m_);this.stream=this.k_(t,n),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return rt(bv,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return n=>{this.bi.enqueueAndForget(()=>this.m_===t?n():(rt(bv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class c1 extends bT{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}k_(t,n){return this.connection.a_("Listen",t,n)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const n=gw(this.serializer,t),s=function(u){if(!("targetChange"in u))return Et.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Et.min():f.readTime?li(f.readTime):Et.min()}(t);return this.listener.Q_(n,s)}U_(t){const n={};n.database=Zd(this.serializer),n.addTarget=function(u,f){let p;const g=f.target;if(p=Fd(g)?{documents:vw(u,g)}:{query:Ew(u,g).gt},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=fT(u,f.resumeToken);const y=Yd(u,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(Et.min())>0){p.readTime=Lc(u,f.snapshotVersion.toTimestamp());const y=Yd(u,f.expectedCount);y!==null&&(p.expectedCount=y)}return p}(this.serializer,t);const s=Aw(this.serializer,t);s&&(n.labels=s),this.F_(n)}K_(t){const n={};n.database=Zd(this.serializer),n.removeTarget=t,this.F_(n)}}class h1 extends bT{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,n){return this.connection.a_("Write",t,n)}q_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const n=_w(t.writeResults,t.commitTime),s=li(t.commitTime);return this.listener.j_(s,n)}H_(){const t={};t.database=Zd(this.serializer),this.F_(t)}G_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>yw(this.serializer,s))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{}class d1 extends f1{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new at(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,n,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(t,Xd(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new at(Y.UNKNOWN,u.toString())})}Wo(t,n,s,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Wo(t,Xd(n,s),o,f,p,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new at(Y.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class m1{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Hi(n),this.ea=!1):rt("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="RemoteStore";class p1{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{s.enqueueAndForget(async()=>{Us(this)&&(rt(Ns,"Restarting streams for network reachability change."),await async function(g){const y=Tt(g);y.aa.add(4),await zl(y),y.la.set("Unknown"),y.aa.delete(4),await ah(y)}(this))})}),this.la=new m1(s,o)}}async function ah(r){if(Us(r))for(const t of r.ua)await t(!0)}async function zl(r){for(const t of r.ua)await t(!1)}function RT(r,t){const n=Tt(r);n._a.has(t.targetId)||(n._a.set(t.targetId,t),Om(n)?Nm(n):Ja(n).b_()&&Dm(n,t))}function Cm(r,t){const n=Tt(r),s=Ja(n);n._a.delete(t),s.b_()&&wT(n,t),n._a.size===0&&(s.b_()?s.v_():Us(n)&&n.la.set("Unknown"))}function Dm(r,t){if(r.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ja(r).U_(t)}function wT(r,t){r.ha.Ke(t),Ja(r).K_(t)}function Nm(r){r.ha=new uw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r._a.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),Ja(r).start(),r.la.ta()}function Om(r){return Us(r)&&!Ja(r).w_()&&r._a.size>0}function Us(r){return Tt(r).aa.size===0}function IT(r){r.ha=void 0}async function g1(r){r.la.set("Online")}async function y1(r){r._a.forEach((t,n)=>{Dm(r,t)})}async function _1(r,t){IT(r),Om(r)?(r.la.ia(t),Nm(r)):r.la.set("Unknown")}async function v1(r,t,n){if(r.la.set("Online"),t instanceof hT&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const p of u.targetIds)o._a.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o._a.delete(p),o.ha.removeTarget(p))}(r,t)}catch(s){rt(Ns,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Bc(r,s)}else if(t instanceof Rc?r.ha.Xe(t):t instanceof cT?r.ha.ot(t):r.ha.nt(t),!n.isEqual(Et.min()))try{const s=await AT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const p=u.ha.It(f);return p.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u._a.get(y);E&&u._a.set(y,E.withResumeToken(g.resumeToken,f))}}),p.targetMismatches.forEach((g,y)=>{const E=u._a.get(g);if(!E)return;u._a.set(g,E.withResumeToken(qe.EMPTY_BYTE_STRING,E.snapshotVersion)),wT(u,g);const b=new Ir(E.target,g,y,E.sequenceNumber);Dm(u,b)}),u.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(s){rt(Ns,"Failed to raise snapshot:",s),await Bc(r,s)}}async function Bc(r,t,n){if(!Za(t))throw t;r.aa.add(1),await zl(r),r.la.set("Offline"),n||(n=()=>AT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{rt(Ns,"Retrying IndexedDB access"),await n(),r.aa.delete(1),await ah(r)})}function CT(r,t){return t().catch(n=>Bc(r,n,t))}async function oh(r){const t=Tt(r),n=zr(t);let s=t.oa.length>0?t.oa[t.oa.length-1].batchId:mm;for(;E1(t);)try{const o=await e1(t.localStore,s);if(o===null){t.oa.length===0&&n.v_();break}s=o.batchId,T1(t,o)}catch(o){await Bc(t,o)}DT(t)&&NT(t)}function E1(r){return Us(r)&&r.oa.length<10}function T1(r,t){r.oa.push(t);const n=zr(r);n.b_()&&n.W_&&n.G_(t.mutations)}function DT(r){return Us(r)&&!zr(r).w_()&&r.oa.length>0}function NT(r){zr(r).start()}async function A1(r){zr(r).H_()}async function S1(r){const t=zr(r);for(const n of r.oa)t.G_(n.mutations)}async function b1(r,t,n){const s=r.oa.shift(),o=Tm.from(s,t,n);await CT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await oh(r)}async function R1(r,t){t&&zr(r).W_&&await async function(s,o){if(function(f){return ow(f)&&f!==Y.ABORTED}(o.code)){const u=s.oa.shift();zr(s).D_(),await CT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await oh(s)}}(r,t),DT(r)&&NT(r)}async function Rv(r,t){const n=Tt(r);n.asyncQueue.verifyOperationInProgress(),rt(Ns,"RemoteStore received new credentials");const s=Us(n);n.aa.add(3),await zl(n),s&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.aa.delete(3),await ah(n)}async function w1(r,t){const n=Tt(r);t?(n.aa.delete(2),await ah(n)):t||(n.aa.add(2),await zl(n),n.la.set("Unknown"))}function Ja(r){return r.Pa||(r.Pa=function(n,s,o){const u=Tt(n);return u.Y_(),new c1(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{jo:g1.bind(null,r),Jo:y1.bind(null,r),Zo:_1.bind(null,r),Q_:v1.bind(null,r)}),r.ua.push(async t=>{t?(r.Pa.D_(),Om(r)?Nm(r):r.la.set("Unknown")):(await r.Pa.stop(),IT(r))})),r.Pa}function zr(r){return r.Ta||(r.Ta=function(n,s,o){const u=Tt(n);return u.Y_(),new h1(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{jo:()=>Promise.resolve(),Jo:A1.bind(null,r),Zo:R1.bind(null,r),z_:S1.bind(null,r),j_:b1.bind(null,r)}),r.ua.push(async t=>{t?(r.Ta.D_(),await oh(r)):(await r.Ta.stop(),r.oa.length>0&&(rt(Ns,`Stopping write stream with ${r.oa.length} pending writes`),r.oa=[]))})),r.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,p=new Vm(t,n,f,o,u);return p.start(s),p}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mm(r,t){if(Hi("AsyncQueue",`${t}: ${r}`),Za(r))return new at(Y.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{static emptySet(t){return new Pa(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ct.comparator(n.key,s.key):(n,s)=>ct.comparator(n.key,s.key),this.keyedMap=dl(),this.sortedSet=new ie(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Pa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Pa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(){this.Ia=new ie(ct.comparator)}track(t){const n=t.doc.key,s=this.Ia.get(n);s?t.type!==0&&s.type===3?this.Ia=this.Ia.insert(n,t):t.type===3&&s.type!==1?this.Ia=this.Ia.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Ia=this.Ia.remove(n):t.type===1&&s.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:t.doc}):pt(63341,{Vt:t,Ea:s}):this.Ia=this.Ia.insert(n,t)}da(){const t=[];return this.Ia.inorderTraversal((n,s)=>{t.push(s)}),t}}class Ga{constructor(t,n,s,o,u,f,p,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(p=>{f.push({type:0,doc:p})}),new Ga(t,n,Pa.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&th(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class C1{constructor(){this.queries=Iv(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,s){const o=Tt(n),u=o.queries;o.queries=Iv(),u.forEach((f,p)=>{for(const g of p.Ra)g.onError(s)})})(this,new at(Y.ABORTED,"Firestore shutting down"))}}function Iv(){return new Ps(r=>ZE(r),th)}async function OT(r,t){const n=Tt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Va()&&t.ma()&&(s=2):(u=new I1,s=t.ma()?0:1);try{switch(s){case 0:u.Aa=await n.onListen(o,!0);break;case 1:u.Aa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=Mm(f,`Initialization of query '${Oa(t.query)}' failed`);return void t.onError(p)}n.queries.set(o,u),u.Ra.push(t),t.ga(n.onlineState),u.Aa&&t.pa(u.Aa)&&Pm(n)}async function VT(r,t){const n=Tt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Ra.indexOf(t);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=t.ma()?0:1:!u.Va()&&t.ma()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function D1(r,t){const n=Tt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.Ra)p.pa(o)&&(s=!0);f.Aa=o}}s&&Pm(n)}function N1(r,t,n){const s=Tt(r),o=s.queries.get(t);if(o)for(const u of o.Ra)u.onError(n);s.queries.delete(t)}function Pm(r){r.fa.forEach(t=>{t.next()})}var tm,Cv;(Cv=tm||(tm={})).ya="default",Cv.Cache="cache";class MT{constructor(t,n,s){this.query=t,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Ga(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ba?this.Da(t)&&(this.wa.next(t),n=!0):this.va(t,this.onlineState)&&(this.Ca(t),n=!0),this.Sa=t,n}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),n=!0),n}va(t,n){if(!t.fromCache||!this.ma())return!0;const s=n!=="Offline";return(!this.options.Fa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(t){t=Ga.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==tm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(t){this.key=t}}class kT{constructor(t){this.key=t}}class O1{constructor(t,n){this.query=t,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ot(),this.mutatedKeys=Ot(),this.Ua=WE(t),this.Ka=new Pa(this.Ua)}get Wa(){return this.qa}Ga(t,n){const s=n?n.za:new wv,o=n?n.Ka:this.Ka;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,b)=>{const V=o.get(E),j=eh(this.query,b)?b:null,$=!!V&&this.mutatedKeys.has(V.key),it=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Z=!1;V&&j?V.data.isEqual(j.data)?$!==it&&(s.track({type:3,doc:j}),Z=!0):this.ja(V,j)||(s.track({type:2,doc:j}),Z=!0,(g&&this.Ua(j,g)>0||y&&this.Ua(j,y)<0)&&(p=!0)):!V&&j?(s.track({type:0,doc:j}),Z=!0):V&&!j&&(s.track({type:1,doc:V}),Z=!0,(g||y)&&(p=!0)),Z&&(j?(f=f.add(j),u=it?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ka:f,za:s,ys:p,mutatedKeys:u}}ja(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const f=t.za.da();f.sort((E,b)=>function(j,$){const it=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:Z})}};return it(j)-it($)}(E.type,b.type)||this.Ua(E.doc,b.doc)),this.Ha(s),o=o!=null&&o;const p=n&&!o?this.Ja():[],g=this.$a.size===0&&this.current&&!o?1:0,y=g!==this.Qa;return this.Qa=g,f.length!==0||y?{snapshot:new Ga(this.query,t.Ka,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:p}:{Ya:p}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new wv,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Ot(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const n=[];return t.forEach(s=>{this.$a.has(s)||n.push(new kT(s))}),this.$a.forEach(s=>{t.has(s)||n.push(new PT(s))}),n}Xa(t){this.qa=t.Ns,this.$a=Ot();const n=this.Ga(t.documents);return this.applyChanges(n,!0)}eu(){return Ga.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const km="SyncEngine";class V1{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class M1{constructor(t){this.key=t,this.tu=!1}}class P1{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new Ps(p=>ZE(p),th),this.iu=new Map,this.su=new Set,this.ou=new ie(ct.comparator),this._u=new Map,this.au=new bm,this.uu={},this.cu=new Map,this.lu=Ha.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function k1(r,t,n=!0){const s=jT(r);let o;const u=s.ru.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await UT(s,t,n,!0),o}async function U1(r,t){const n=jT(r);await UT(n,t,!0,!1)}async function UT(r,t,n,s){const o=await n1(r.localStore,oi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await x1(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&RT(r.remoteStore,o),p}async function x1(r,t,n,s,o){r.Pu=(b,V,j)=>async function(it,Z,_t,At){let ft=Z.view.Ga(_t);ft.ys&&(ft=await Ev(it.localStore,Z.query,!1).then(({documents:O})=>Z.view.Ga(O,ft)));const Vt=At&&At.targetChanges.get(Z.targetId),yt=At&&At.targetMismatches.get(Z.targetId)!=null,Mt=Z.view.applyChanges(ft,it.isPrimaryClient,Vt,yt);return Nv(it,Z.targetId,Mt.Ya),Mt.snapshot}(r,b,V,j);const u=await Ev(r.localStore,t,!0),f=new O1(t,u.Ns),p=f.Ga(u.documents),g=Ll.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(p,r.isPrimaryClient,g);Nv(r,n,y.Ya);const E=new V1(t,n,f);return r.ru.set(t,E),r.iu.has(n)?r.iu.get(n).push(t):r.iu.set(n,[t]),y.snapshot}async function L1(r,t,n){const s=Tt(r),o=s.ru.get(t),u=s.iu.get(o.targetId);if(u.length>1)return s.iu.set(o.targetId,u.filter(f=>!th(f,t))),void s.ru.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Wd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Cm(s.remoteStore,o.targetId),em(s,o.targetId)}).catch($a)):(em(s,o.targetId),await Wd(s.localStore,o.targetId,!0))}async function z1(r,t){const n=Tt(r),s=n.ru.get(t),o=n.iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Cm(n.remoteStore,s.targetId))}async function B1(r,t,n){const s=Q1(r);try{const o=await function(f,p){const g=Tt(f),y=Re.now(),E=p.reduce((j,$)=>j.add($.key),Ot());let b,V;return g.persistence.runTransaction("Locally write mutations","readwrite",j=>{let $=Gi(),it=Ot();return g.Cs.getEntries(j,E).next(Z=>{$=Z,$.forEach((_t,At)=>{At.isValidDocument()||(it=it.add(_t))})}).next(()=>g.localDocuments.getOverlayedDocuments(j,$)).next(Z=>{b=Z;const _t=[];for(const At of p){const ft=nw(At,b.get(At.key).overlayedDocument);ft!=null&&_t.push(new ks(At.key,ft,HE(ft.value.mapValue),Bn.exists(!0)))}return g.mutationQueue.addMutationBatch(j,y,_t,p)}).next(Z=>{V=Z;const _t=Z.applyToLocalDocumentSet(b,it);return g.documentOverlayCache.saveOverlays(j,Z.batchId,_t)})}).then(()=>({batchId:V.batchId,changes:tT(b)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,g){let y=f.uu[f.currentUser.toKey()];y||(y=new ie(Rt)),y=y.insert(p,g),f.uu[f.currentUser.toKey()]=y}(s,o.batchId,n),await Bl(s,o.changes),await oh(s.remoteStore)}catch(o){const u=Mm(o,"Failed to persist write");n.reject(u)}}async function xT(r,t){const n=Tt(r);try{const s=await Jw(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n._u.get(u);f&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?qt(f.tu,14607):o.removedDocuments.size>0&&(qt(f.tu,42227),f.tu=!1))}),await Bl(n,s,t)}catch(s){await $a(s)}}function Dv(r,t,n){const s=Tt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ru.forEach((u,f)=>{const p=f.view.ga(t);p.snapshot&&o.push(p.snapshot)}),function(f,p){const g=Tt(f);g.onlineState=p;let y=!1;g.queries.forEach((E,b)=>{for(const V of b.Ra)V.ga(p)&&(y=!0)}),y&&Pm(g)}(s.eventManager,t),o.length&&s.nu.Q_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function j1(r,t,n){const s=Tt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s._u.get(t),u=o&&o.key;if(u){let f=new ie(ct.comparator);f=f.insert(u,Ye.newNoDocument(u,Et.min()));const p=Ot().add(u),g=new rh(Et.min(),new Map,new ie(Rt),f,p);await xT(s,g),s.ou=s.ou.remove(u),s._u.delete(t),Um(s)}else await Wd(s.localStore,t,!1).then(()=>em(s,t,n)).catch($a)}async function q1(r,t){const n=Tt(r),s=t.batch.batchId;try{const o=await Ww(n.localStore,t);zT(n,s,null),LT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Bl(n,o)}catch(o){await $a(o)}}async function H1(r,t,n){const s=Tt(r);try{const o=await function(f,p){const g=Tt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,p).next(b=>(qt(b!==null,37113),E=b.keys(),g.mutationQueue.removeMutationBatch(y,b))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,p)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(s.localStore,t);zT(s,t,n),LT(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Bl(s,o)}catch(o){await $a(o)}}function LT(r,t){(r.cu.get(t)||[]).forEach(n=>{n.resolve()}),r.cu.delete(t)}function zT(r,t,n){const s=Tt(r);let o=s.uu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.uu[s.currentUser.toKey()]=o}}function em(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.iu.get(t))r.ru.delete(s),n&&r.nu.Tu(s,n);r.iu.delete(t),r.isPrimaryClient&&r.au.Ur(t).forEach(s=>{r.au.containsKey(s)||BT(r,s)})}function BT(r,t){r.su.delete(t.path.canonicalString());const n=r.ou.get(t);n!==null&&(Cm(r.remoteStore,n),r.ou=r.ou.remove(t),r._u.delete(n),Um(r))}function Nv(r,t,n){for(const s of n)s instanceof PT?(r.au.addReference(s.key,t),G1(r,s)):s instanceof kT?(rt(km,"Document no longer in limbo: "+s.key),r.au.removeReference(s.key,t),r.au.containsKey(s.key)||BT(r,s.key)):pt(19791,{Iu:s})}function G1(r,t){const n=t.key,s=n.path.canonicalString();r.ou.get(n)||r.su.has(s)||(rt(km,"New document in limbo: "+n),r.su.add(s),Um(r))}function Um(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const t=r.su.values().next().value;r.su.delete(t);const n=new ct(Jt.fromString(t)),s=r.lu.next();r._u.set(s,new M1(n)),r.ou=r.ou.insert(n,s),RT(r.remoteStore,new Ir(oi(Jc(n.path)),s,"TargetPurposeLimboResolution",$c.le))}}async function Bl(r,t,n){const s=Tt(r),o=[],u=[],f=[];s.ru.isEmpty()||(s.ru.forEach((p,g)=>{f.push(s.Pu(g,t,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const b=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(y){o.push(y);const b=wm.Ps(g.targetId,y);u.push(b)}}))}),await Promise.all(f),s.nu.Q_(o),await async function(g,y){const E=Tt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>Q.forEach(y,V=>Q.forEach(V.ls,j=>E.persistence.referenceDelegate.addReference(b,V.targetId,j)).next(()=>Q.forEach(V.hs,j=>E.persistence.referenceDelegate.removeReference(b,V.targetId,j)))))}catch(b){if(!Za(b))throw b;rt(Im,"Failed to update sequence numbers: "+b)}for(const b of y){const V=b.targetId;if(!b.fromCache){const j=E.Ss.get(V),$=j.snapshotVersion,it=j.withLastLimboFreeSnapshotVersion($);E.Ss=E.Ss.insert(V,it)}}}(s.localStore,u))}async function F1(r,t){const n=Tt(r);if(!n.currentUser.isEqual(t)){rt(km,"User change. New user:",t.toKey());const s=await TT(n.localStore,t);n.currentUser=t,function(u,f){u.cu.forEach(p=>{p.forEach(g=>{g.reject(new at(Y.CANCELLED,f))})}),u.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Bl(n,s.Ms)}}function K1(r,t){const n=Tt(r),s=n._u.get(t);if(s&&s.tu)return Ot().add(s.key);{let o=Ot();const u=n.iu.get(t);if(!u)return o;for(const f of u){const p=n.ru.get(f);o=o.unionWith(p.view.Wa)}return o}}function jT(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=xT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=K1.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=j1.bind(null,t),t.nu.Q_=D1.bind(null,t.eventManager),t.nu.Tu=N1.bind(null,t.eventManager),t}function Q1(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=q1.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=H1.bind(null,t),t}class jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=sh(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,n){return null}fu(t,n){return null}Vu(t){return Zw(this.persistence,new Yw,t.initialUser,this.serializer)}Ru(t){return new ET(Rm.Ei,this.serializer)}Au(t){return new r1}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jc.provider={build:()=>new jc};class Y1 extends jc{constructor(t){super(),this.cacheSizeBytes=t}mu(t,n){qt(this.persistence.referenceDelegate instanceof zc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Mw(s,t.asyncQueue,n)}Ru(t){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new ET(s=>zc.Ei(s,n),this.serializer)}}class nm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Dv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=F1.bind(null,this.syncEngine),await w1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new C1}()}createDatastore(t){const n=sh(t.databaseInfo.databaseId),s=function(u){return new u1(u)}(t.databaseInfo);return function(u,f,p,g){return new d1(u,f,p,g)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,p){return new p1(s,o,u,f,p)}(this.localStore,this.datastore,t.asyncQueue,n=>Dv(this.syncEngine,n,0),function(){return Sv.C()?new Sv:new s1}())}createSyncEngine(t,n){return function(o,u,f,p,g,y,E){const b=new P1(o,u,f,p,g,y);return E&&(b.hu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=Tt(o);rt(Ns,"RemoteStore shutting down."),u.aa.add(5),await zl(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}nm.provider={build:()=>new nm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Hi("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="FirestoreClient";class X1{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=ME.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{rt(Br,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(rt(Br,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Mm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Cd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(Br,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await TT(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function Ov(r,t){r.asyncQueue.verifyOperationInProgress();const n=await $1(r);rt(Br,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Rv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Rv(t.remoteStore,o)),r._onlineComponents=t}async function $1(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(Br,"Using user provided OfflineComponentProvider");try{await Cd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;za("Error using user provided cache. Falling back to memory cache: "+n),await Cd(r,new jc)}}else rt(Br,"Using default OfflineComponentProvider"),await Cd(r,new Y1(void 0));return r._offlineComponents}async function HT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(Br,"Using user provided OnlineComponentProvider"),await Ov(r,r._uninitializedComponentsProvider._online)):(rt(Br,"Using default OnlineComponentProvider"),await Ov(r,new nm))),r._onlineComponents}function Z1(r){return HT(r).then(t=>t.syncEngine)}async function im(r){const t=await HT(r),n=t.eventManager;return n.onListen=k1.bind(null,t.syncEngine),n.onUnlisten=L1.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=U1.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=z1.bind(null,t.syncEngine),n}function W1(r,t,n={}){const s=new Vr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,p,g,y){const E=new qT({next:V=>{E.yu(),f.enqueueAndForget(()=>VT(u,b));const j=V.docs.has(p);!j&&V.fromCache?y.reject(new at(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&V.fromCache&&g&&g.source==="server"?y.reject(new at(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(V)},error:V=>y.reject(V)}),b=new MT(Jc(p.path),E,{includeMetadataChanges:!0,Fa:!0});return OT(u,b)}(await im(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(r,t,n){if(!n)throw new at(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function J1(r,t,n,s){if(t===!0&&s===!0)throw new at(Y.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Mv(r){if(!ct.isDocumentKey(r))throw new at(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Pv(r){if(ct.isDocumentKey(r))throw new at(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function lh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function ui(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new at(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lh(r);throw new at(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="firestore.googleapis.com",kv=!0;class Uv{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new at(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KT,this.ssl=kv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:kv;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=vT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Ow)throw new at(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}J1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GT((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class uh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new oR;switch(s.type){case"firstParty":return new hR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new at(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Vv.get(n);s&&(rt("ComponentProvider","Removing Datastore"),Vv.delete(n),s.terminate())}(this),Promise.resolve()}}function tI(r,t,n,s={}){var o;const u=(r=ui(r,uh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;u.host!==KT&&u.host!==p&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:p,ssl:!1,emulatorOptions:s});if(!Is(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Qe.MOCK_USER;else{y=PS(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new at(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Qe(b)}r._authCredentials=new lR(new OE(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new xs(this.firestore,t,this._query)}}class tn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new tn(this.firestore,t,this._key)}}class Mr extends xs{constructor(t,n,s){super(t,n,Jc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new tn(this.firestore,null,new ct(t))}withConverter(t){return new Mr(this.firestore,t,this._path)}}function rm(r,t,...n){if(r=en(r),FT("collection","path",t),r instanceof uh){const s=Jt.fromString(t,...n);return Pv(s),new Mr(r,null,s)}{if(!(r instanceof tn||r instanceof Mr))throw new at(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(t,...n));return Pv(s),new Mr(r.firestore,null,s)}}function xm(r,t,...n){if(r=en(r),arguments.length===1&&(t=ME.newId()),FT("doc","path",t),r instanceof uh){const s=Jt.fromString(t,...n);return Mv(s),new tn(r,null,new ct(s))}{if(!(r instanceof tn||r instanceof Mr))throw new at(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(t,...n));return Mv(s),new tn(r.firestore,r instanceof Mr?r.converter:null,new ct(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="AsyncQueue";class Lv{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new ST(this,"async_queue_retry"),this.ju=()=>{const s=Id();s&&rt(xv,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=t;const n=Id();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const n=Id();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Vr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!Za(t))throw t;rt(xv,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const n=this.Hu.then(()=>(this.Wu=!0,t().catch(s=>{throw this.Ku=s,this.Wu=!1,Hi("INTERNAL UNHANDLED ERROR: ",zv(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=n,n}enqueueAfterDelay(t,n,s){this.Ju(),this.zu.indexOf(t)>-1&&(n=0);const o=Vm.createAndSchedule(this,t,n,s,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&pt(47125,{ec:zv(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const n of this.Uu)if(n.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const n=this.Uu.indexOf(t);this.Uu.splice(n,1)}}function zv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Os extends uh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new Lv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Lv(t),this._firestoreClient=void 0,await t}}}function eI(r,t){const n=typeof r=="object"?r:TE(),s=typeof r=="string"?r:Pc,o=fm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=VS("firestore");u&&tI(o,...u)}return o}function Lm(r){if(r._terminated)throw new at(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||nI(r),r._firestoreClient}function nI(r){var t,n,s;const o=r._freezeSettings(),u=function(p,g,y,E){return new wR(p,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,GT(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new X1(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fa(qe.fromBase64String(t))}catch(n){throw new at(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Fa(qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new at(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new at(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new at(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Rt(this._lat,t._lat)||Rt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=/^__.*__$/;class rI{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ks(t,this.data,this.fieldMask,n,this.fieldTransforms):new xl(t,this.data,n,this.fieldTransforms)}}function QT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{oc:r})}}class Hm{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new Hm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ac({path:s,cc:!1});return o.lc(t),o}hc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return qc(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(QT(this.oc)&&iI.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class sI{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||sh(t)}dc(t,n,s,o=!1){return new Hm({oc:t,methodName:n,Ec:s,path:je.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gm(r){const t=r._freezeSettings(),n=sh(r._databaseId);return new sI(r._databaseId,!!t.ignoreUndefinedProperties,n)}function YT(r,t,n,s,o,u={}){const f=r.dc(u.merge||u.mergeFields?2:0,t,n,o);ZT("Data must be an object, but it was:",f,s);const p=XT(s,f);let g,y;if(u.merge)g=new Ln(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const V=oI(t,b,n);if(!f.contains(V))throw new at(Y.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);uI(E,V)||E.push(V)}g=new Ln(E),y=f.fieldTransforms.filter(b=>g.covers(b.field))}else g=null,y=f.fieldTransforms;return new rI(new On(p),g,y)}class Fm extends Bm{_toFieldTransform(t){return new WR(t.path,new Vl)}isEqual(t){return t instanceof Fm}}function aI(r,t,n,s=!1){return Km(n,r.dc(s?4:3,t))}function Km(r,t){if($T(r=en(r)))return ZT("Unsupported field value:",t,r),XT(r,t);if(r instanceof Bm)return function(s,o){if(!QT(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const p of s){let g=Km(p,o.Pc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=en(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return XR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Re.fromDate(s);return{timestampValue:Lc(o.serializer,u)}}if(s instanceof Re){const u=new Re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Lc(o.serializer,u)}}if(s instanceof jm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fa)return{bytesValue:fT(o.serializer,s._byteString)};if(s instanceof tn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Sm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof qm)return function(f,p){return{mapValue:{fields:{[jE]:{stringValue:qE},[kc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw p.Tc("VectorValues must only contain numeric values.");return vm(p.serializer,y)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${lh(s)}`)}(r,t)}function XT(r,t){const n={};return kE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ms(r,(s,o)=>{const u=Km(o,t.uc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function $T(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Re||r instanceof jm||r instanceof Fa||r instanceof tn||r instanceof Bm||r instanceof qm)}function ZT(r,t,n){if(!$T(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=lh(n);throw s==="an object"?t.Tc(r+" a custom object"):t.Tc(r+" "+s)}}function oI(r,t,n){if((t=en(t))instanceof zm)return t._internalPath;if(typeof t=="string")return WT(r,t);throw qc("Field path arguments must be of type string or ",r,!1,void 0,n)}const lI=new RegExp("[~\\*/\\[\\]]");function WT(r,t,n){if(t.search(lI)>=0)throw qc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new zm(...t.split("."))._internalPath}catch{throw qc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function qc(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new at(Y.INVALID_ARGUMENT,p+r+g)}function uI(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new cI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Qm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cI extends JT{data(){return super.data()}}function Qm(r,t){return typeof t=="string"?WT(r,t):t instanceof zm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ym{}class t0 extends Ym{}function e0(r,t,...n){let s=[];t instanceof Ym&&s.push(t),s=s.concat(n),function(u){const f=u.filter(g=>g instanceof $m).length,p=u.filter(g=>g instanceof Xm).length;if(f>1||f>0&&p>0)throw new at(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Xm extends t0{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Xm(t,n,s)}_apply(t){const n=this._parse(t);return n0(t._query,n),new xs(t.firestore,t.converter,Kd(t._query,n))}_parse(t){const n=Gm(t.firestore);return function(u,f,p,g,y,E,b){let V;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new at(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){qv(b,E);const $=[];for(const it of b)$.push(jv(g,u,it));V={arrayValue:{values:$}}}else V=jv(g,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||qv(b,E),V=aI(p,f,b,E==="in"||E==="not-in");return ve.create(y,E,V)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class $m extends Ym{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new $m(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:jn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const p=u.getFlattenedFilters();for(const g of p)n0(f,g),f=Kd(f,g)}(t._query,n),new xs(t.firestore,t.converter,Kd(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zm extends t0{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Zm(t,n)}_apply(t){const n=function(o,u,f){if(o.startAt!==null)throw new at(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new at(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ol(u,f)}(t._query,this._field,this._direction);return new xs(t.firestore,t.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new Wa(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,n))}}function fI(r,t="asc"){const n=t,s=Qm("orderBy",r);return Zm._create(s,n)}function jv(r,t,n){if(typeof(n=en(n))=="string"){if(n==="")throw new at(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$E(t)&&n.indexOf("/")!==-1)throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Jt.fromString(n));if(!ct.isDocumentKey(s))throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ev(r,new ct(s))}if(n instanceof tn)return ev(r,n._key);throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lh(n)}.`)}function qv(r,t){if(!Array.isArray(r)||r.length===0)throw new at(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function n0(r,t){const n=function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new at(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new at(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class dI{convertValue(t,n="none"){switch(Lr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return he(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(xr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Ms(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[kc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>he(f.doubleValue));return new qm(u)}convertGeoPoint(t){return new jm(he(t.latitude),he(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Wc(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Cl(t));default:return null}}convertTimestamp(t){const n=Ur(t);return new Re(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Jt.fromString(t);qt(_T(s),9688,{name:t});const o=new Dl(s.get(1),s.get(3)),u=new ct(s.popFirst(5));return o.isEqual(n)||Hi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class r0 extends JT{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Qm("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class wc extends r0{data(t={}){return super.data(t)}}class mI{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new pl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new wc(this._firestore,this._userDataWriter,s.key,s,new pl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new at(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const g=new wc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new pl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const g=new wc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new pl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:pI(p.type),doc:g,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function pI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(r){r=ui(r,tn);const t=ui(r.firestore,Os);return W1(Lm(t),r._key).then(n=>o0(t,r,n))}class s0 extends dI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fa(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function Hv(r,t,n){r=ui(r,tn);const s=ui(r.firestore,Os),o=i0(r.converter,t,n);return Wm(s,[YT(Gm(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Bn.none())])}function yI(r){return Wm(ui(r.firestore,Os),[new Em(r._key,Bn.none())])}function _I(r,t){const n=ui(r.firestore,Os),s=xm(r),o=i0(r.converter,t);return Wm(n,[YT(Gm(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Bn.exists(!1))]).then(()=>s)}function a0(r,...t){var n,s,o;r=en(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||Bv(t[f])||(u=t[f],f++);const p={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(Bv(t[f])){const b=t[f];t[f]=(n=b.next)===null||n===void 0?void 0:n.bind(b),t[f+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),t[f+2]=(o=b.complete)===null||o===void 0?void 0:o.bind(b)}let g,y,E;if(r instanceof tn)y=ui(r.firestore,Os),E=Jc(r._key.path),g={next:b=>{t[f]&&t[f](o0(y,r,b))},error:t[f+1],complete:t[f+2]};else{const b=ui(r,xs);y=ui(b.firestore,Os),E=b._query;const V=new s0(y);g={next:j=>{t[f]&&t[f](new mI(y,V,b,j))},error:t[f+1],complete:t[f+2]},hI(r._query)}return function(V,j,$,it){const Z=new qT(it),_t=new MT(j,Z,$);return V.asyncQueue.enqueueAndForget(async()=>OT(await im(V),_t)),()=>{Z.yu(),V.asyncQueue.enqueueAndForget(async()=>VT(await im(V),_t))}}(Lm(y),E,p,g)}function Wm(r,t){return function(s,o){const u=new Vr;return s.asyncQueue.enqueueAndForget(async()=>B1(await Z1(s),o,u)),u.promise}(Lm(r),t)}function o0(r,t,n){const s=n.docs.get(t._key),o=new s0(r);return new r0(r,o,t._key,s,new pl(n.hasPendingWrites,n.fromCache),t.converter)}function sm(){return new Fm("serverTimestamp")}(function(t,n=!0){(function(o){Xa=o})(Ya),La(new Cs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new Os(new uR(s.getProvider("auth-internal")),new fR(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new at(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),Nr(H_,G_,t),Nr(H_,G_,"esm2017")})();function Jm(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function l0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vI=l0,u0=new Ul("auth","Firebase",l0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new cm("@firebase/auth");function EI(r,...t){Hc.logLevel<=Nt.WARN&&Hc.warn(`Auth (${Ya}): ${r}`,...t)}function Ic(r,...t){Hc.logLevel<=Nt.ERROR&&Hc.error(`Auth (${Ya}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(r,...t){throw ep(r,...t)}function on(r,...t){return ep(r,...t)}function tp(r,t,n){const s=Object.assign(Object.assign({},vI()),{[t]:n});return new Ul("auth","Firebase",s).create(t,{appName:r.name})}function Pr(r){return tp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TI(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&hi(r,"argument-error"),tp(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ep(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return u0.create(r,...t)}function st(r,t,...n){if(!r)throw ep(t,...n)}function Bi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Ic(t),new Error(t)}function Fi(r,t){r||Bi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function c0(){return Gv()==="http:"||Gv()==="https:"}function Gv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(c0()||LS()||"connection"in navigator)?navigator.onLine:!0}function SI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Fi(n>t,"Short delay should be less than long delay!"),this.isMobile=kS()||zS()}get(){return AI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(r,t){Fi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wI=new jl(3e4,6e4);function fi(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function qn(r,t,n,s,o={}){return f0(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const p=Qa(Object.assign({key:r.config.apiKey},f)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:t,headers:g},u);return xS()||(y.referrerPolicy="no-referrer"),h0.fetch()(await d0(r,r.config.apiHost,n,p),y)})}async function f0(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},bI),t);try{const o=new CI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw gl(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw gl(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw gl(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw gl(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw tp(r,E,y);hi(r,E)}}catch(o){if(o instanceof Ki)throw o;hi(r,"network-request-failed",{message:String(o)})}}async function ch(r,t,n,s,o={}){const u=await qn(r,t,n,s,o);return"mfaPendingCredential"in u&&hi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function d0(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?np(r.config,o):`${r.config.apiScheme}://${o}`;return RI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function II(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(on(this.auth,"network-request-failed")),wI.get())})}}function gl(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=on(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(r){return r!==void 0&&r.getResponse!==void 0}function Kv(r){return r!==void 0&&r.enterprise!==void 0}class m0{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return II(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(r){return(await qn(r,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function p0(r,t){return qn(r,"GET","/v2/recaptchaConfig",fi(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(r,t){return qn(r,"POST","/v1/accounts:delete",t)}async function Gc(r,t){return qn(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function OI(r,t=!1){const n=en(r),s=await n.getIdToken(t),o=ip(s);st(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Tl(Dd(o.auth_time)),issuedAtTime:Tl(Dd(o.iat)),expirationTime:Tl(Dd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Dd(r){return Number(r)*1e3}function ip(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Ic("JWT malformed, contained fewer than 3 sections"),null;try{const o=mE(n);return o?JSON.parse(o):(Ic("Failed to decode base64 JWT payload"),null)}catch(o){return Ic("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Qv(r){const t=ip(r);return st(t,"internal-error"),st(typeof t.exp<"u","internal-error"),st(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Ki&&VI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function VI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(r){var t;const n=r.auth,s=await r.getIdToken(),o=await kl(r,Gc(n,{idToken:s}));st(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?g0(u.providerUserInfo):[],p=kI(r.providerData,f),g=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(p!=null&&p.length),E=g?y:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new om(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,b)}async function PI(r){const t=en(r);await Fc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function kI(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function g0(r){return r.map(t=>{var{providerId:n}=t,s=Jm(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(r,t){const n=await f0(r,{},async()=>{const s=Qa({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await d0(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",h0.fetch()(f,{method:"POST",headers:p,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xI(r,t){return qn(r,"POST","/v2/accounts:revokeToken",fi(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){st(t.idToken,"internal-error"),st(typeof t.idToken<"u","internal-error"),st(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Qv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){st(t.length!==0,"internal-error");const n=Qv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(st(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await UI(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ka;return s&&(st(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(st(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(st(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ka,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(r,t){st(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class zn{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=Jm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new MI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new om(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await kl(this,this.stsTokenManager.getToken(this.auth,t));return st(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return OI(this,t)}reload(){return PI(this)}_assign(t){this!==t&&(st(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new zn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){st(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Fc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(Pr(this.auth));const t=await this.getIdToken();return await kl(this,NI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,p,g,y,E;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,V=(o=n.email)!==null&&o!==void 0?o:void 0,j=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,$=(f=n.photoURL)!==null&&f!==void 0?f:void 0,it=(p=n.tenantId)!==null&&p!==void 0?p:void 0,Z=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,_t=(y=n.createdAt)!==null&&y!==void 0?y:void 0,At=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ft,emailVerified:Vt,isAnonymous:yt,providerData:Mt,stsTokenManager:O}=n;st(ft&&O,t,"internal-error");const S=ka.fromJSON(this.name,O);st(typeof ft=="string",t,"internal-error"),Sr(b,t.name),Sr(V,t.name),st(typeof Vt=="boolean",t,"internal-error"),st(typeof yt=="boolean",t,"internal-error"),Sr(j,t.name),Sr($,t.name),Sr(it,t.name),Sr(Z,t.name),Sr(_t,t.name),Sr(At,t.name);const w=new zn({uid:ft,auth:t,email:V,emailVerified:Vt,displayName:b,isAnonymous:yt,photoURL:$,phoneNumber:j,tenantId:it,stsTokenManager:S,createdAt:_t,lastLoginAt:At});return Mt&&Array.isArray(Mt)&&(w.providerData=Mt.map(N=>Object.assign({},N))),Z&&(w._redirectEventId=Z),w}static async _fromIdTokenResponse(t,n,s=!1){const o=new ka;o.updateFromServerResponse(n);const u=new zn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Fc(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];st(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?g0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new ka;p.updateFromIdToken(s);const g=new zn({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new om(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=new Map;function ji(r){Fi(r instanceof Function,"Expected a class definition");let t=Yv.get(r);return t?(Fi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Yv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}y0.type="NONE";const Xv=y0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(r,t,n){return`firebase:${r}:${t}:${n}`}class Ua{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Cc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Cc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Gc(this.auth,{idToken:t}).catch(()=>{});return n?zn._fromGetAccountInfoResponse(this.auth,n,t):null}return zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Ua(ji(Xv),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ji(Xv);const f=Cc(s,t.config.apiKey,t.name);let p=null;for(const y of n)try{const E=await y._get(f);if(E){let b;if(typeof E=="string"){const V=await Gc(t,{idToken:E}).catch(()=>{});if(!V)break;b=await zn._fromGetAccountInfoResponse(t,V,E)}else b=zn._fromJSON(t,E);y!==u&&(p=b),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Ua(u,t,s):(u=g[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ua(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(T0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(S0(t))return"Blackberry";if(b0(t))return"Webos";if(v0(t))return"Safari";if((t.includes("chrome/")||E0(t))&&!t.includes("edge/"))return"Chrome";if(A0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function _0(r=Xe()){return/firefox\//i.test(r)}function v0(r=Xe()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function E0(r=Xe()){return/crios\//i.test(r)}function T0(r=Xe()){return/iemobile/i.test(r)}function A0(r=Xe()){return/android/i.test(r)}function S0(r=Xe()){return/blackberry/i.test(r)}function b0(r=Xe()){return/webos/i.test(r)}function rp(r=Xe()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function LI(r=Xe()){var t;return rp(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function zI(){return BS()&&document.documentMode===10}function R0(r=Xe()){return rp(r)||A0(r)||b0(r)||S0(r)||/windows phone/i.test(r)||T0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(r,t=[]){let n;switch(r){case"Browser":n=$v(Xe());break;case"Worker":n=`${$v(Xe())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ya}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,p)=>{try{const g=t(u);f(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(r,t={}){return qn(r,"GET","/v2/passwordPolicy",fi(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=6;class HI{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:qI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,p;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,g),this.validatePasswordCharacterOptions(t,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(p=g.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),g}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zv(this),this.idTokenSubscription=new Zv(this),this.beforeStateQueue=new BI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ji(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Ua.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Gc(this,{idToken:t}),s=await zn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Nn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(t);(!f||f===p)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return st(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Fc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=SI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Nn(this.app))return Promise.reject(Pr(this));const n=t?en(t):null;return n&&st(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&st(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(Pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Nn(this.app)?Promise.reject(Pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await jI(this),n=new HI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ul("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await xI(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ji(t)||this._popupRedirectResolver;st(n,this,"argument-error"),this.redirectPersistenceManager=await Ua.create(this,[ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(st(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return st(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=w0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&EI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Qi(r){return en(r)}class Zv{constructor(t){this.auth=t,this.observer=null,this.addObserver=YS(n=>this.observer=n)}get next(){return st(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ql={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FI(r){ql=r}function sp(r){return ql.loadJS(r)}function KI(){return ql.recaptchaV2Script}function QI(){return ql.recaptchaEnterpriseScript}function YI(){return ql.gapiScript}function I0(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=500,$I=6e4,Ec=1e12;class ZI{constructor(t){this.auth=t,this.counter=Ec,this._widgets=new Map}render(t,n){const s=this.counter;return this._widgets.set(s,new tC(t,this.auth.name,n||{})),this.counter++,s}reset(t){var n;const s=t||Ec;(n=this._widgets.get(s))===null||n===void 0||n.delete(),this._widgets.delete(s)}getResponse(t){var n;const s=t||Ec;return((n=this._widgets.get(s))===null||n===void 0?void 0:n.getResponse())||""}async execute(t){var n;const s=t||Ec;return(n=this._widgets.get(s))===null||n===void 0||n.execute(),""}}class WI{constructor(){this.enterprise=new JI}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class JI{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class tC{constructor(t,n,s){this.params=s,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const o=typeof t=="string"?document.getElementById(t):t;st(o,"argument-error",{appName:n}),this.container=o,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=eC(50);const{callback:t,"expired-callback":n}=this.params;if(t)try{t(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},$I)},XI))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function eC(r){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let s=0;s<r;s++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}const nC="recaptcha-enterprise",Al="NO_RECAPTCHA";class C0{constructor(t){this.type=nC,this.auth=Qi(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{p0(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new m0(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{p(g)})})}function o(u,f,p){const g=window.grecaptcha;Kv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(y=>{f(y)}).catch(()=>{f(Al)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!n&&Kv(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=QI();g.length!==0&&(g+=p),sp(g).then(()=>{o(p,u,f)}).catch(y=>{f(y)})}}).catch(p=>{f(p)})})}}async function Nd(r,t,n,s=!1,o=!1){const u=new C0(r);let f;if(o)f=Al;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Od(r,t,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("PHONE_PROVIDER")){const f=await Nd(r,t,n);return s(r,f).catch(async p=>{var g;if(((g=r._getRecaptchaConfig())===null||g===void 0?void 0:g.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(p.code==="auth/missing-recaptcha-token"||p.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const y=await Nd(r,t,n,!1,!0);return s(r,y)}return Promise.reject(p)})}else{const f=await Nd(r,t,n,!1,!0);return s(r,f)}}async function iC(r){const t=Qi(r),n=await p0(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),s=new m0(n);t.tenantId==null?t._agentRecaptchaConfig=s:t._tenantRecaptchaConfigs[t.tenantId]=s,s.isAnyProviderEnabled()&&new C0(t).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(r,t){const n=fm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Is(u,t??{}))return o;hi(o,"already-initialized")}return n.initialize({options:t})}function sC(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ji);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function aC(r,t,n){const s=Qi(r);st(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=D0(t),{host:f,port:p}=oC(t),g=p===null?"":`:${p}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){st(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),st(Is(y,s.config.emulator)&&Is(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,lC()}function D0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function oC(r){const t=D0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Wv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Wv(f)}}}function Wv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function lC(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Bi("not implemented")}_getIdTokenResponse(t){return Bi("not implemented")}_linkToIdToken(t,n){return Bi("not implemented")}_getReauthenticationResolver(t){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(r,t){return ch(r,"POST","/v1/accounts:signInWithIdp",fi(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="http://localhost";class Vs extends ap{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Vs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=Jm(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Vs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return xa(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,xa(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,xa(t,n)}buildRequest(){const t={requestUri:uC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Qa(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jv(r,t){return qn(r,"POST","/v1/accounts:sendVerificationCode",fi(r,t))}async function cC(r,t){return ch(r,"POST","/v1/accounts:signInWithPhoneNumber",fi(r,t))}async function hC(r,t){const n=await ch(r,"POST","/v1/accounts:signInWithPhoneNumber",fi(r,t));if(n.temporaryProof)throw gl(r,"account-exists-with-different-credential",n);return n}const fC={USER_NOT_FOUND:"user-not-found"};async function dC(r,t){const n=Object.assign(Object.assign({},t),{operation:"REAUTH"});return ch(r,"POST","/v1/accounts:signInWithPhoneNumber",fi(r,n),fC)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends ap{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,n){return new Sl({verificationId:t,verificationCode:n})}static _fromTokenResponse(t,n){return new Sl({phoneNumber:t,temporaryProof:n})}_getIdTokenResponse(t){return cC(t,this._makeVerificationRequest())}_linkToIdToken(t,n){return hC(t,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return dC(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:n,verificationId:s,verificationCode:o}=this.params;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:s,code:o}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){typeof t=="string"&&(t=JSON.parse(t));const{verificationId:n,verificationCode:s,phoneNumber:o,temporaryProof:u}=t;return!s&&!n&&!o&&!u?null:new Sl({verificationId:n,verificationCode:s,phoneNumber:o,temporaryProof:u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends op{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Hl{constructor(){super("facebook.com")}static credential(t){return Vs._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return br.credentialFromTaggedObject(t)}static credentialFromError(t){return br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return br.credential(t.oauthAccessToken)}catch{return null}}}br.FACEBOOK_SIGN_IN_METHOD="facebook.com";br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Vs._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return zi.credentialFromTaggedObject(t)}static credentialFromError(t){return zi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return zi.credential(n,s)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Hl{constructor(){super("github.com")}static credential(t){return Vs._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Rr.credentialFromTaggedObject(t)}static credentialFromError(t){return Rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Rr.credential(t.oauthAccessToken)}catch{return null}}}Rr.GITHUB_SIGN_IN_METHOD="github.com";Rr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Hl{constructor(){super("twitter.com")}static credential(t,n){return Vs._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return wr.credential(n,s)}catch{return null}}}wr.TWITTER_SIGN_IN_METHOD="twitter.com";wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await zn._fromIdTokenResponse(t,s,o),f=tE(s);return new Ka({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=tE(s);return new Ka({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function tE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends Ki{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Kc(t,n,s,o)}}function N0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(r,u,t,s):u})}async function mC(r,t,n=!1){const s=await kl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ka._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(r,t,n=!1){const{auth:s}=r;if(Nn(s.app))return Promise.reject(Pr(s));const o="reauthenticate";try{const u=await kl(r,N0(s,o,t,r),n);st(u.idToken,s,"internal-error");const f=ip(u.idToken);st(f,s,"internal-error");const{sub:p}=f;return st(r.uid===p,s,"user-mismatch"),Ka._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&hi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O0(r,t,n=!1){if(Nn(r.app))return Promise.reject(Pr(r));const s="signIn",o=await N0(r,s,t),u=await Ka._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function gC(r,t){return O0(Qi(r),t)}function yC(r,t,n,s){return en(r).onIdTokenChanged(t,n,s)}function _C(r,t,n){return en(r).beforeAuthStateChanged(t,n)}function vC(r){return en(r).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(r,t){return qn(r,"POST","/v2/accounts/mfaEnrollment:start",fi(r,t))}const Qc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qc,"1"),this.storage.removeItem(Qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=1e3,TC=10;class M0 extends V0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=R0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);zI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,TC):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},EC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}M0.type="LOCAL";const AC=M0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0 extends V0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}P0.type="SESSION";const k0=P0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new hh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async y=>y(n.origin,u)),g=await SC(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,g)=>{const y=lp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const V=b;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(V.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(){return window}function RC(r){_e().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(){return typeof _e().WorkerGlobalScope<"u"&&typeof _e().importScripts=="function"}async function wC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function CC(){return up()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="firebaseLocalStorageDb",DC=1,Yc="firebaseLocalStorage",x0="fbase_key";class Gl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fh(r,t){return r.transaction([Yc],t?"readwrite":"readonly").objectStore(Yc)}function NC(){const r=indexedDB.deleteDatabase(U0);return new Gl(r).toPromise()}function lm(){const r=indexedDB.open(U0,DC);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Yc,{keyPath:x0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Yc)?t(s):(s.close(),await NC(),t(await lm()))})})}async function nE(r,t,n){const s=fh(r,!0).put({[x0]:t,value:n});return new Gl(s).toPromise()}async function OC(r,t){const n=fh(r,!1).get(t),s=await new Gl(n).toPromise();return s===void 0?null:s.value}function iE(r,t){const n=fh(r,!0).delete(t);return new Gl(n).toPromise()}const VC=800,MC=3;class L0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>MC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return up()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hh._getInstance(CC()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await wC(),!this.activeServiceWorker)return;this.sender=new bC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||IC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await lm();return await nE(t,Qc,"1"),await iE(t,Qc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>nE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>OC(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>iE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=fh(o,!1).getAll();return new Gl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}L0.type="LOCAL";const PC=L0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(r,t){return qn(r,"POST","/v2/accounts/mfaSignIn:start",fi(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=I0("rcb"),kC=new jl(3e4,6e4);class UC{constructor(){var t;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((t=_e().grecaptcha)===null||t===void 0)&&t.render)}load(t,n=""){return st(xC(n),t,"argument-error"),this.shouldResolveImmediately(n)&&Fv(_e().grecaptcha)?Promise.resolve(_e().grecaptcha):new Promise((s,o)=>{const u=_e().setTimeout(()=>{o(on(t,"network-request-failed"))},kC.get());_e()[Vd]=()=>{_e().clearTimeout(u),delete _e()[Vd];const p=_e().grecaptcha;if(!p||!Fv(p)){o(on(t,"internal-error"));return}const g=p.render;p.render=(y,E)=>{const b=g(y,E);return this.counter++,b},this.hostLanguage=n,s(p)};const f=`${KI()}?${Qa({onload:Vd,render:"explicit",hl:n})}`;sp(f).catch(()=>{clearTimeout(u),o(on(t,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(t){var n;return!!(!((n=_e().grecaptcha)===null||n===void 0)&&n.render)&&(t===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function xC(r){return r.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(r)}class LC{async load(t){return new ZI(t)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl="recaptcha",zC={theme:"light",type:"image"};class BC{constructor(t,n,s=Object.assign({},zC)){this.parameters=s,this.type=bl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qi(t),this.isInvisible=this.parameters.size==="invisible",st(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const o=typeof n=="string"?document.getElementById(n):n;st(o,this.auth,"argument-error"),this.container=o,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new LC:new UC,this.validateStartingState()}async verify(){this.assertNotDestroyed();const t=await this.render(),n=this.getAssertedRecaptcha(),s=n.getResponse(t);return s||new Promise(o=>{const u=f=>{f&&(this.tokenChangeListeners.delete(u),o(f))};this.tokenChangeListeners.add(u),this.isInvisible&&n.execute(t)})}render(){try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(t=>{throw this.renderPromise=null,t}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(t=>{this.container.removeChild(t)})}validateStartingState(){st(!this.parameters.sitekey,this.auth,"argument-error"),st(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),st(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(t){return n=>{if(this.tokenChangeListeners.forEach(s=>s(n)),typeof t=="function")t(n);else if(typeof t=="string"){const s=_e()[t];typeof s=="function"&&s(n)}}}assertNotDestroyed(){st(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let t=this.container;if(!this.isInvisible){const n=document.createElement("div");t.appendChild(n),t=n}this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)}return this.widgetId}async init(){st(c0()&&!up(),this.auth,"internal-error"),await jC(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const t=await DI(this.auth);st(t,this.auth,"internal-error"),this.parameters.sitekey=t}getAssertedRecaptcha(){return st(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function jC(){let r=null;return new Promise(t=>{if(document.readyState==="complete"){t();return}r=()=>t(),window.addEventListener("load",r)}).catch(t=>{throw r&&window.removeEventListener("load",r),t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(t,n){this.verificationId=t,this.onConfirmation=n}confirm(t){const n=Sl._fromVerification(this.verificationId,t);return this.onConfirmation(n)}}async function HC(r,t,n){if(Nn(r.app))return Promise.reject(Pr(r));const s=Qi(r),o=await GC(s,t,en(n));return new qC(o,u=>gC(s,u))}async function GC(r,t,n){var s;if(!r._getRecaptchaConfig())try{await iC(r)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let o;if(typeof t=="string"?o={phoneNumber:t}:o=t,"session"in o){const u=o.session;if("phoneNumber"in o){st(u.type==="enroll",r,"internal-error");const f={idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Od(r,f,"mfaSmsEnrollment",async(E,b)=>{if(b.phoneEnrollmentInfo.captchaResponse===Al){st((n==null?void 0:n.type)===bl,E,"argument-error");const V=await Md(E,b,n);return eE(E,V)}return eE(E,b)},"PHONE_PROVIDER").catch(E=>Promise.reject(E))).phoneSessionInfo.sessionInfo}else{st(u.type==="signin",r,"internal-error");const f=((s=o.multiFactorHint)===null||s===void 0?void 0:s.uid)||o.multiFactorUid;st(f,r,"missing-multi-factor-info");const p={mfaPendingCredential:u.credential,mfaEnrollmentId:f,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Od(r,p,"mfaSmsSignIn",async(b,V)=>{if(V.phoneSignInInfo.captchaResponse===Al){st((n==null?void 0:n.type)===bl,b,"argument-error");const j=await Md(b,V,n);return rE(b,j)}return rE(b,V)},"PHONE_PROVIDER").catch(b=>Promise.reject(b))).phoneResponseInfo.sessionInfo}}else{const u={phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Od(r,u,"sendVerificationCode",async(y,E)=>{if(E.captchaResponse===Al){st((n==null?void 0:n.type)===bl,y,"argument-error");const b=await Md(y,E,n);return Jv(y,b)}return Jv(y,E)},"PHONE_PROVIDER").catch(y=>Promise.reject(y))).sessionInfo}}finally{n==null||n._reset()}}async function Md(r,t,n){st(n.type===bl,r,"argument-error");const s=await n.verify();st(typeof s=="string",r,"argument-error");const o=Object.assign({},t);if("phoneEnrollmentInfo"in o){const u=o.phoneEnrollmentInfo.phoneNumber,f=o.phoneEnrollmentInfo.captchaResponse,p=o.phoneEnrollmentInfo.clientType,g=o.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:s,captchaResponse:f,clientType:p,recaptchaVersion:g}}),o}else if("phoneSignInInfo"in o){const u=o.phoneSignInInfo.captchaResponse,f=o.phoneSignInInfo.clientType,p=o.phoneSignInInfo.recaptchaVersion;return Object.assign(o,{phoneSignInInfo:{recaptchaToken:s,captchaResponse:u,clientType:f,recaptchaVersion:p}}),o}else return Object.assign(o,{recaptchaToken:s}),o}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(r,t){return t?ji(t):(st(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp extends ap{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return xa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return xa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return xa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function FC(r){return O0(r.auth,new cp(r),r.bypassAuthState)}function KC(r){const{auth:t,user:n}=r;return st(n,t,"internal-error"),pC(n,new cp(r),r.bypassAuthState)}async function QC(r){const{auth:t,user:n}=r;return st(n,t,"internal-error"),mC(n,new cp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return FC;case"linkViaPopup":case"linkViaRedirect":return QC;case"reauthViaPopup":case"reauthViaRedirect":return KC;default:hi(this.auth,"internal-error")}}resolve(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=new jl(2e3,1e4);async function XC(r,t,n){if(Nn(r.app))return Promise.reject(on(r,"operation-not-supported-in-this-environment"));const s=Qi(r);TI(r,t,op);const o=z0(s,n);return new ws(s,"signInViaPopup",t,o).executeNotNull()}class ws extends B0{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ws.currentPopupAction&&ws.currentPopupAction.cancel(),ws.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return st(t,this.auth,"internal-error"),t}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const t=lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(on(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(on(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ws.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(on(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,YC.get())};t()}}ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="pendingRedirect",Dc=new Map;class ZC extends B0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Dc.get(this.auth._key());if(!t){try{const s=await WC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Dc.set(this.auth._key(),t)}return this.bypassAuthState||Dc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WC(r,t){const n=e2(t),s=t2(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function JC(r,t){Dc.set(r._key(),t)}function t2(r){return ji(r._redirectPersistence)}function e2(r){return Cc($C,r.config.apiKey,r.name)}async function n2(r,t,n=!1){if(Nn(r.app))return Promise.reject(Pr(r));const s=Qi(r),o=z0(s,t),f=await new ZC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=10*60*1e3;class r2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!s2(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!j0(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(on(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=i2&&this.cachedEventUids.clear(),this.cachedEventUids.has(sE(t))}saveEventToCache(t){this.cachedEventUids.add(sE(t)),this.lastProcessedEventTime=Date.now()}}function sE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function j0({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function s2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(r,t={}){return qn(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,l2=/^https?/;async function u2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await a2(r);for(const n of t)try{if(c2(n))return}catch{}hi(r,"unauthorized-domain")}function c2(r){const t=am(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!l2.test(n))return!1;if(o2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=new jl(3e4,6e4);function aE(){const r=_e().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function f2(r){return new Promise((t,n)=>{var s,o,u;function f(){aE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{aE(),n(on(r,"network-request-failed"))},timeout:h2.get()})}if(!((o=(s=_e().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=_e().gapi)===null||u===void 0)&&u.load)f();else{const p=I0("iframefcb");return _e()[p]=()=>{gapi.load?f():n(on(r,"network-request-failed"))},sp(`${YI()}?onload=${p}`).catch(g=>n(g))}}).catch(t=>{throw Nc=null,t})}let Nc=null;function d2(r){return Nc=Nc||f2(r),Nc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new jl(5e3,15e3),p2="__/auth/iframe",g2="emulator/auth/iframe",y2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v2(r){const t=r.config;st(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?np(t,g2):`https://${r.config.authDomain}/${p2}`,s={apiKey:t.apiKey,appName:r.name,v:Ya},o=_2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Qa(s).slice(1)}`}async function E2(r){const t=await d2(r),n=_e().gapi;return st(n,r,"internal-error"),t.open({where:document.body,url:v2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=on(r,"network-request-failed"),p=_e().setTimeout(()=>{u(f)},m2.get());function g(){_e().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A2=500,S2=600,b2="_blank",R2="http://localhost";class oE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function w2(r,t,n,s=A2,o=S2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g=Object.assign(Object.assign({},T2),{width:s.toString(),height:o.toString(),top:u,left:f}),y=Xe().toLowerCase();n&&(p=E0(y)?b2:n),_0(y)&&(t=t||R2,g.scrollbars="yes");const E=Object.entries(g).reduce((V,[j,$])=>`${V}${j}=${$},`,"");if(LI(y)&&p!=="_self")return I2(t||"",p),new oE(null);const b=window.open(t||"",p,E);st(b,r,"popup-blocked");try{b.focus()}catch{}return new oE(b)}function I2(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="__/auth/handler",D2="emulator/auth/handler",N2=encodeURIComponent("fac");async function lE(r,t,n,s,o,u){st(r.config.authDomain,r,"auth-domain-config-required"),st(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ya,eventId:o};if(t instanceof op){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",QS(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(t instanceof Hl){const E=t.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const g=await r._getAppCheckToken(),y=g?`#${N2}=${encodeURIComponent(g)}`:"";return`${O2(r)}?${Qa(p).slice(1)}${y}`}function O2({config:r}){return r.emulator?np(r,D2):`https://${r.authDomain}/${C2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="webStorageSupport";class V2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=k0,this._completeRedirectFn=n2,this._overrideRedirectResult=JC}async _openPopup(t,n,s,o){var u;Fi((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await lE(t,n,s,am(),o);return w2(t,f,lp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await lE(t,n,s,am(),o);return RC(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Fi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await E2(t),s=new r2(t);return n.register("authEvent",o=>(st(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Pd,{type:Pd},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Pd];f!==void 0&&n(!!f),hi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=u2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return R0()||v0()||rp()}}const M2=V2;var uE="@firebase/auth",cE="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){st(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function U2(r){La(new Cs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;st(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:w0(r)},y=new GI(s,o,u,g);return sC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),La(new Cs("auth-internal",t=>{const n=Qi(t.getProvider("auth").getImmediate());return(s=>new P2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nr(uE,cE,k2(r)),Nr(uE,cE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=5*60,L2=yE("authIdTokenMaxAge")||x2;let hE=null;const z2=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>L2)return;const o=n==null?void 0:n.token;hE!==o&&(hE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function B2(r=TE()){const t=fm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=rC(r,{popupRedirectResolver:M2,persistence:[PC,AC,k0]}),s=yE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=z2(u.toString());_C(n,f,()=>f(n.currentUser)),yC(n,p=>f(p))}}const o=pE("auth");return o&&aC(n,`http://${o}`),n}function j2(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}FI({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=on("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",j2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});U2("Browser");const q2={apiKey:"AIzaSyBfnz1th3dUb99EXGuHtf8PUItIc9mRG8A",authDomain:"livechat-77daf.firebaseapp.com",projectId:"livechat-77daf",storageBucket:"livechat-77daf.firebasestorage.app",messagingSenderId:"795935983635",appId:"1:795935983635:web:9903971a63fc74a97c57e6"},q0=EE(q2),Rl=eI(q0),hl=B2(q0),H2=new zi,H0=fe.createContext();function hp(){return fe.useContext(H0)}function G2({children:r}){const[t,n]=fe.useState(null),[s,o]=fe.useState(!0),[u,f]=fe.useState(null);function p(){return XC(hl,H2)}function g(){return vC(hl)}function y(V){window.recaptchaVerifier||(window.recaptchaVerifier=new BC("recaptcha-container",{size:"invisible",callback:()=>{console.log("reCAPTCHA resolved")}},hl));const j=window.recaptchaVerifier;return HC(hl,V,j).then($=>{f($)}).catch($=>{throw console.error("SMS not sent",$),$})}function E(V){if(!u)throw new Error("No confirmation result found. Call loginWithPhone first.");return u.confirm(V).then(j=>(n(j.user),j.user)).catch(j=>{throw console.error("Invalid OTP",j),j})}fe.useEffect(()=>hl.onAuthStateChanged(j=>{n(j),o(!1)}),[]);const b={currentUser:t,loginWithGoogle:p,loginWithPhone:y,verifyOTP:E,logout:g};return tt.jsx(H0.Provider,{value:b,children:!s&&r})}const F2=()=>{const[r,t]=fe.useState([]),[n,s]=fe.useState(""),o=fe.useRef(null),{currentUser:u}=hp(),f=E=>E?E.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",p=async E=>{if(u)try{await yI(xm(Rl,"messages",E))}catch(b){console.error("Error deleting message: ",b)}};fe.useEffect(()=>{const E=e0(rm(Rl,"messages"),fI("timestamp"));return a0(E,V=>{const j=[];V.forEach($=>{j.push({id:$.id,...$.data()})}),t(j)})},[]),fe.useEffect(()=>{g()},[r]);const g=()=>{var E;(E=o.current)==null||E.scrollIntoView({behavior:"smooth"})},y=async E=>{E.preventDefault(),!(n.trim()===""||!u)&&(await _I(rm(Rl,"messages"),{text:n,timestamp:sm(),uid:u.uid,displayName:u.displayName||"Anonymous",photoURL:u.photoURL||null}),s(""))};return tt.jsxs("div",{className:"chat-container",children:[!u&&tt.jsx("div",{className:"login-prompt",children:"Please login to send messages"}),tt.jsxs("div",{className:"messages",children:[u&&r.map(E=>tt.jsx("div",{className:`message ${E.uid===(u==null?void 0:u.uid)?"sent":"received"}`,children:tt.jsxs("div",{className:"message-content",children:[tt.jsxs("div",{className:"message-header",children:[tt.jsxs("div",{className:"avathar-container",children:[E.photoURL&&tt.jsx("img",{src:E.photoURL,alt:"User",className:"avatar"}),tt.jsx("span",{className:"sender",children:E.displayName})]}),tt.jsx("span",{className:"timestamp",children:f(E.timestamp)})]}),tt.jsx("span",{className:"text",children:E.text}),E.uid===(u==null?void 0:u.uid)&&tt.jsx("button",{className:"delete-button",onClick:()=>p(E.id),children:tt.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#fff",children:[tt.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),tt.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),tt.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",tt.jsx("path",{d:"M10 12V17",stroke:"#fff",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})," ",tt.jsx("path",{d:"M14 12V17",stroke:"#fff",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})," ",tt.jsx("path",{d:"M4 7H20",stroke:"#fff",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})," ",tt.jsx("path",{d:"M6 10V18C6 19.6569 7.34315 21 9 21H15C16.6569 21 18 19.6569 18 18V10",stroke:"#fff",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})," ",tt.jsx("path",{d:"M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z",stroke:"#fff",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})," "]})]})})]})},E.id)),tt.jsx("div",{ref:o})]}),u&&tt.jsxs("form",{onSubmit:y,className:"message-form",children:[tt.jsx("input",{type:"text",value:n,onChange:E=>s(E.target.value),placeholder:"Type a message..."}),tt.jsx("button",{type:"submit",children:tt.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[tt.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),tt.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),tt.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",tt.jsx("path",{d:"M11.5003 12H5.41872M5.24634 12.7972L4.24158 15.7986C3.69128 17.4424 3.41613 18.2643 3.61359 18.7704C3.78506 19.21 4.15335 19.5432 4.6078 19.6701C5.13111 19.8161 5.92151 19.4604 7.50231 18.7491L17.6367 14.1886C19.1797 13.4942 19.9512 13.1471 20.1896 12.6648C20.3968 12.2458 20.3968 11.7541 20.1896 11.3351C19.9512 10.8529 19.1797 10.5057 17.6367 9.81135L7.48483 5.24303C5.90879 4.53382 5.12078 4.17921 4.59799 4.32468C4.14397 4.45101 3.77572 4.78336 3.60365 5.22209C3.40551 5.72728 3.67772 6.54741 4.22215 8.18767L5.24829 11.2793C5.34179 11.561 5.38855 11.7019 5.407 11.8459C5.42338 11.9738 5.42321 12.1032 5.40651 12.231C5.38768 12.375 5.34057 12.5157 5.24634 12.7972Z",stroke:"#fff",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})," "]})]})})]})]})},K2=()=>{const[r,t]=fe.useState([]),{currentUser:n}=hp(),[s,o]=fe.useState(!0),[u,f]=fe.useState(null);return fe.useEffect(()=>{if(!n)return;const p=xm(Rl,"users",n.uid),g=async b=>{try{(await gI(p)).exists()?await Hv(p,{online:b,lastSeen:sm()},{merge:!0}):await Hv(p,{uid:n.uid,displayName:n.displayName||`User-${n.uid.slice(0,4)}`,photoURL:n.photoURL||null,email:n.email||null,online:b,lastSeen:sm()})}catch(V){console.error("Status update error:",V),f("Failed to update status")}};g(!0);const y=async()=>{await g(!1)};window.addEventListener("beforeunload",y);const E=()=>{document.visibilityState==="hidden"?g(!1):g(!0)};return document.addEventListener("visibilitychange",E),()=>{window.removeEventListener("beforeunload",y),document.removeEventListener("visibilitychange",E),g(!1)}},[n]),fe.useEffect(()=>{if(!n){o(!1);return}o(!0),f(null);try{const p=e0(rm(Rl,"users"));return a0(p,y=>{const E=[];y.forEach(b=>{var j,$,it;const V=b.data();if(b.id!==n.uid){const Z=(j=V.lastSeen)==null?void 0:j.toDate(),_t={month:"short",day:"2-digit",year:"numeric"},ft=new Date().toLocaleDateString("en-US",_t).replace(",","").trim(),Vt=Z.toLocaleString("en-US",_t).replace(",","").trim();let yt=ft===Vt;E.push({id:b.id,...V,lastSeen:((it=($=V.lastSeen)==null?void 0:$.toDate())==null?void 0:it.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}).toLowerCase())||"just now",lastSeenDayLong:Z.toLocaleString("en-US",_t),lastSeenIsToday:yt})}}),t(E),o(!1)},y=>{f("Failed to load users"),o(!1),console.error("Snapshot error:",y)})}catch(p){f("Error setting up query"),o(!1),console.error("Setup error:",p)}},[n]),u?tt.jsxs("div",{className:"user-list error",children:[tt.jsx("h3",{children:"All Users"}),tt.jsx("div",{className:"error-message",children:u})]}):n?s?tt.jsxs("div",{className:"user-list loading",children:[tt.jsx("h3",{children:"All Users"}),tt.jsx("div",{className:"loading-message",children:"Loading..."})]}):tt.jsxs("div",{className:"user-list",children:[tt.jsxs("h3",{children:["Online Users (",r.length,")"]}),tt.jsx("div",{className:"user-scroll-container",children:r.length===0?tt.jsx("div",{className:"no-users",children:"No other users online"}):tt.jsx("ul",{className:"user-items",children:r.map(p=>tt.jsxs("li",{className:"user-item",children:[tt.jsxs("div",{className:"avatar-container",children:[tt.jsx("img",{src:p.photoURL||"https://i.imgur.com/6VBx3io.png",alt:p.displayName,className:"user-avatar",onError:g=>{g.target.onerror=null,g.target.src="https://i.imgur.com/6VBx3io.png"}}),tt.jsx("span",{className:`status-dot ${p.online?"online":"offline"}`})]}),tt.jsxs("div",{className:"user-details",children:[tt.jsx("span",{className:"user-name",children:p.displayName}),p.online?tt.jsx("span",{className:"green-dot"}):tt.jsx("span",{className:"red-dot"}),tt.jsx("span",{className:"user-status",children:p.online?"Online":`Last seen ${p.lastSeenIsToday?"Today at "+p.lastSeen:p.lastSeenDayLong+" "+p.lastSeen}`})]})]},p.id))})})]}):tt.jsxs("div",{className:"user-list",children:[tt.jsx("h3",{children:"All Users"}),tt.jsx("div",{className:"login-prompt",children:"Sign in to see who's online"})]})},Q2=()=>{const{currentUser:r,loginWithGoogle:t,loginWithPhone:n,verifyOTP:s,logout:o}=hp(),[u,f]=fe.useState(""),[p,g]=fe.useState(""),[y,E]=fe.useState(!1),b=async()=>{try{await n(u),E(!0)}catch(j){console.error("Error during phone login:",j)}},V=async()=>{try{const j=await s(p);console.log("Logged in as",j.phoneNumber)}catch(j){console.error("Error during OTP verification:",j)}};return tt.jsxs("div",{className:"auth-buttons",children:[r?tt.jsxs(tt.Fragment,{children:[tt.jsxs("span",{children:["Welcome, ",r.displayName||r.phoneNumber||"User"]}),tt.jsx("button",{onClick:o,children:"Logout"})]}):tt.jsxs(tt.Fragment,{children:[tt.jsx("button",{onClick:t,children:"Login with Google"}),tt.jsxs("div",{children:[tt.jsx("input",{type:"tel",placeholder:"Enter phone number",value:u,onChange:j=>f(j.target.value)}),tt.jsx("button",{onClick:b,children:"Send OTP"})]}),y&&tt.jsxs("div",{children:[tt.jsx("input",{type:"text",placeholder:"Enter OTP",value:p,onChange:j=>g(j.target.value)}),tt.jsx("button",{onClick:V,children:"Verify OTP"})]})]}),tt.jsx("div",{id:"recaptcha-container"})," "]})};function Y2(){const[r,t]=fe.useState(!1);return tt.jsx(G2,{children:tt.jsxs("div",{className:"app",children:[tt.jsxs("header",{children:[tt.jsx("h1",{children:"Chat"}),tt.jsx(Q2,{})]}),tt.jsxs("main",{children:[tt.jsx("button",{className:"toggle-btn",onClick:()=>t(!r),children:r?"X":"|||"}),tt.jsx("div",{className:`toggle-menu ${r?"active":""}`,children:tt.jsx(K2,{})}),tt.jsx(F2,{})]})]})})}SS.createRoot(document.getElementById("root")).render(tt.jsx(fe.StrictMode,{children:tt.jsx(Y2,{})}));
